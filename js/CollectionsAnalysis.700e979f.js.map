{"version":3,"sources":["webpack:///./src/components/TableTwoColumnCard.vue","webpack:///./src/components/TableTwoColumnCard.vue?9f15","webpack:///./src/components/TableTwoColumnCard.vue?8bb4","webpack:///./src/views/Collection/CollectionsAnalysis.vue","webpack:///./src/views/Collection/CollectionsAnalysis.vue?f571","webpack:///./src/views/Collection/CollectionsAnalysis.vue?ea8e","webpack:///./src/components/TableTwoColumnCard.vue?aa78","webpack:///./src/views/Collection/CollectionsAnalysis.vue?7e0b"],"names":["id","class","title","span","data","firstData","style","row-class-name","cell-class-name","columns","column","key","prop","label","width","default","scope","row","lastData","Component","name","props","type","String","Array","setup","splitAt","value","render","__scopeId","recentView","item","index","onCollectionCardClick","getLastViewTimeString","datetime","companyRank","collectionRankingsColumns","objectRank","components","CollectionCard","TableCard","TableTwoColumnCard","store","router","state","collection","analysis","collections","init","loadingInstance","dispatch","close","collectionId","push","params"],"mappings":"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","file":"js/CollectionsAnalysis.700e979f.js","sourcesContent":["<template>\n  <div id=\"table-card-component\">\n    <div class=\"top-container\">\n      <h3 class=\"title\">{{ title }}</h3>\n    </div>\n    <el-row>\n      <el-col :span=\"12\">\n        <div class=\"table-container\">\n          <el-table\n            :data=\"firstData\"\n            :style=\"{ width: 'calc(100% - 60px)' }\"\n            row-class-name=\"table-row\"\n            cell-class-name=\"table-cell\"\n          >\n            <el-table-column\n              v-for=\"column in columns\"\n              :key=\"column.prop\"\n              :label=\"column.label\"\n              :width=\"column.width || 'auto'\"\n            >\n              <template #default=\"scope\">\n                <p>{{ scope.row[column.prop] }}</p>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-col>\n      <el-col :span=\"12\">\n        <div class=\"table-container\">\n          <el-table\n            :data=\"lastData\"\n            :style=\"{ width: 'calc(100% - 60px)' }\"\n            row-class-name=\"table-row\"\n            cell-class-name=\"table-cell\"\n          >\n            <el-table-column\n              v-for=\"column in columns\"\n              :key=\"column.prop\"\n              :label=\"column.label\"\n              :width=\"column.width || 'auto'\"\n            >\n              <template #default=\"scope\">\n                <p>{{ scope.row[column.prop] }}</p>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, toRefs, computed } from \"vue\";\nimport { splitAt } from \"ramda\";\nimport { Column } from \"@/constants/element\";\n\nconst Component = defineComponent({\n  name: \"TableCard\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    columns: {\n      type: Array as PropType<Column[]>,\n      default: () => []\n    },\n    data: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(props) {\n    const { data } = toRefs(props);\n    const firstData = computed(() => splitAt(5, data.value)[0]);\n    const lastData = computed(() => splitAt(5, data.value)[1]);\n\n    return {\n      firstData,\n      lastData\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#table-card-component\n  width 100%\n  background-color white\n\n  .top-container\n    display flex\n    justify-content space-between\n    align-items center\n    padding 20px 30px 0\n    .title\n      font-size $font-size-lg2x\n      font-weight 500\n    .expand-button\n      cursor pointer\n      img\n        width 20px\n        height 20px\n\n  .table-container\n    display flex\n    justify-content center\n    align-items center\n    width 100%\n    padding 15px 0\n\n  .table-main\n    width 100%\n    height 300px\n\n  .table-row\n    font-size $font-size-large\n    font-weight 500\n\n  .fabric-cell\n    p\n      margin-bottom 10px\n    img\n      width 100%\n      height auto\n\n  .collection-cell\n    p\n      margin-bottom 10px\n</style>\n","\nimport { defineComponent, PropType, toRefs, computed } from \"vue\";\nimport { splitAt } from \"ramda\";\nimport { Column } from \"@/constants/element\";\n\nconst Component = defineComponent({\n  name: \"TableCard\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    columns: {\n      type: Array as PropType<Column[]>,\n      default: () => []\n    },\n    data: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(props) {\n    const { data } = toRefs(props);\n    const firstData = computed(() => splitAt(5, data.value)[0]);\n    const lastData = computed(() => splitAt(5, data.value)[1]);\n\n    return {\n      firstData,\n      lastData\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./TableTwoColumnCard.vue?vue&type=template&id=1ca45a14&scoped=true\"\nimport script from \"./TableTwoColumnCard.vue?vue&type=script&lang=ts\"\nexport * from \"./TableTwoColumnCard.vue?vue&type=script&lang=ts\"\n\nimport \"./TableTwoColumnCard.vue?vue&type=style&index=0&id=1ca45a14&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-1ca45a14\"\n\nexport default script","<template>\n  <div id=\"collections-analysis-component\">\n    <div class=\"table-wrapper\">\n      <h2 class=\"zoom-title\">Recent View</h2>\n      <div class=\"row\">\n        <div class=\"col\" v-for=\"(item, index) in data.recentView\" :key=\"index\">\n          <CollectionCard\n            :data=\"item\"\n            @card-click=\"onCollectionCardClick\"\n          ></CollectionCard>\n          <p class=\"view-note\">\n            last viewed {{ getLastViewTimeString(item.datetime) }} ago\n          </p>\n        </div>\n      </div>\n    </div>\n    <div class=\"table-wrapper\">\n      <h2 class=\"zoom-title\">Company List</h2>\n      <TableTwoColumnCard\n        :columns=\"columns\"\n        :data=\"data.companyRank\"\n      ></TableTwoColumnCard>\n    </div>\n    <div class=\"table-wrapper\">\n      <h2 class=\"zoom-title\">Collection Rankings</h2>\n      <TableCard\n        :columns=\"collectionRankingsColumns\"\n        :data=\"data.objectRank\"\n      ></TableCard>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onMounted, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\n\nimport CollectionCard from \"@/components/CollectionCard.vue\";\nimport TableTwoColumnCard from \"@/components/TableTwoColumnCard.vue\";\nimport TableCard from \"@/components/TableCard.vue\";\n\nimport { Column } from \"@/constants/element\";\nimport {\n  GetCollectionsAnalyzeCompanyRank,\n  GetCollectionsAnalyzeObjectRank,\n  GetCollectionsAnalyzeRecentView\n} from \"@/typings/store\";\nimport { getLastViewTimeString, loading } from \"@/utils\";\n\nconst columns: Column[] = [\n  { prop: \"rank\", label: \"Rankings\" },\n  { prop: \"company\", label: \"Company\" },\n  { prop: \"count\", label: \"Count\" }\n];\n\nconst collectionRankingsColumns: Column[] = [\n  { prop: \"rank\", label: \"Rankings\", width: \"90px\" },\n  { prop: \"collection\", label: \"Collection\", width: \"120px\" },\n  { prop: \"name\", label: \"Name\" },\n  { prop: \"year\", label: \"Year\", width: \"90px\" },\n  { prop: \"season\", label: \"Season\", width: \"80px\" },\n  // { prop: \"sport_type\", label: \"Sports\", width: \"180px\" },\n  { prop: \"count\", label: \"Count\", width: \"80px\" }\n];\n\nconst Component = defineComponent({\n  name: \"CollectionsAnalysis\",\n  components: {\n    CollectionCard,\n    TableCard,\n    TableTwoColumnCard\n  },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n\n    const data = computed(() => store.state.collection.analysis.collections);\n\n    const init = async () => {\n      const loadingInstance = loading();\n      try {\n        await store.dispatch(GetCollectionsAnalyzeRecentView);\n        await store.dispatch(GetCollectionsAnalyzeCompanyRank);\n        await store.dispatch(GetCollectionsAnalyzeObjectRank);\n      } finally {\n        loadingInstance.close();\n      }\n    };\n\n    onMounted(async () => await init());\n\n    const onCollectionCardClick = async (collectionId: number) => {\n      await router.push({\n        name: \"CollectionDetail\",\n        params: { id: collectionId }\n      });\n    };\n\n    return {\n      data,\n      columns,\n      collectionRankingsColumns,\n\n      onCollectionCardClick,\n\n      getLastViewTimeString\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#collections-analysis-component\n  background-color $color-background\n  padding 30px 0 0\n  .table-wrapper\n    margin-bottom 30px\n  .zoom-title\n    zoom-title()\n    margin 0 0 15px\n  .row\n    display flex\n    flex-wrap nowrap\n    margin 0 -1%\n    .col\n      width 18%\n      margin 0 1%\n      .view-note\n        font-size $font-size-normal\n        white-space nowrap\n        margin 10px 0 0 5px\n</style>\n","\nimport { defineComponent, onMounted, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\n\nimport CollectionCard from \"@/components/CollectionCard.vue\";\nimport TableTwoColumnCard from \"@/components/TableTwoColumnCard.vue\";\nimport TableCard from \"@/components/TableCard.vue\";\n\nimport { Column } from \"@/constants/element\";\nimport {\n  GetCollectionsAnalyzeCompanyRank,\n  GetCollectionsAnalyzeObjectRank,\n  GetCollectionsAnalyzeRecentView\n} from \"@/typings/store\";\nimport { getLastViewTimeString, loading } from \"@/utils\";\n\nconst columns: Column[] = [\n  { prop: \"rank\", label: \"Rankings\" },\n  { prop: \"company\", label: \"Company\" },\n  { prop: \"count\", label: \"Count\" }\n];\n\nconst collectionRankingsColumns: Column[] = [\n  { prop: \"rank\", label: \"Rankings\", width: \"90px\" },\n  { prop: \"collection\", label: \"Collection\", width: \"120px\" },\n  { prop: \"name\", label: \"Name\" },\n  { prop: \"year\", label: \"Year\", width: \"90px\" },\n  { prop: \"season\", label: \"Season\", width: \"80px\" },\n  // { prop: \"sport_type\", label: \"Sports\", width: \"180px\" },\n  { prop: \"count\", label: \"Count\", width: \"80px\" }\n];\n\nconst Component = defineComponent({\n  name: \"CollectionsAnalysis\",\n  components: {\n    CollectionCard,\n    TableCard,\n    TableTwoColumnCard\n  },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n\n    const data = computed(() => store.state.collection.analysis.collections);\n\n    const init = async () => {\n      const loadingInstance = loading();\n      try {\n        await store.dispatch(GetCollectionsAnalyzeRecentView);\n        await store.dispatch(GetCollectionsAnalyzeCompanyRank);\n        await store.dispatch(GetCollectionsAnalyzeObjectRank);\n      } finally {\n        loadingInstance.close();\n      }\n    };\n\n    onMounted(async () => await init());\n\n    const onCollectionCardClick = async (collectionId: number) => {\n      await router.push({\n        name: \"CollectionDetail\",\n        params: { id: collectionId }\n      });\n    };\n\n    return {\n      data,\n      columns,\n      collectionRankingsColumns,\n\n      onCollectionCardClick,\n\n      getLastViewTimeString\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./CollectionsAnalysis.vue?vue&type=template&id=1a79fe6d&scoped=true\"\nimport script from \"./CollectionsAnalysis.vue?vue&type=script&lang=ts\"\nexport * from \"./CollectionsAnalysis.vue?vue&type=script&lang=ts\"\n\nimport \"./CollectionsAnalysis.vue?vue&type=style&index=0&id=1a79fe6d&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-1a79fe6d\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TableTwoColumnCard.vue?vue&type=style&index=0&id=1ca45a14&scoped=true&lang=stylus\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CollectionsAnalysis.vue?vue&type=style&index=0&id=1a79fe6d&scoped=true&lang=stylus\""],"sourceRoot":""}