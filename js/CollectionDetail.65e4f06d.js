(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CollectionDetail"],{"0cb2":function(e,t,n){var c=n("7b0b"),r=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,i=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,l,u,d){var s=n+e.length,b=l.length,p=i;return void 0!==u&&(u=c(u),p=o),a.call(d,p,(function(c,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(s);case"<":o=u[a.slice(1,-1)];break;default:var i=+a;if(0===i)return c;if(i>b){var d=r(i/10);return 0===d?c:d<=b?void 0===l[d-1]?a.charAt(1):l[d-1]+a.charAt(1):c}o=l[i-1]}return void 0===o?"":o}))}},"212c":function(e,t,n){"use strict";n("bb55")},"25f0":function(e,t,n){"use strict";var c=n("6eeb"),r=n("825a"),a=n("d039"),o=n("ad6d"),i="toString",l=RegExp.prototype,u=l[i],d=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),s=u.name!=i;(d||s)&&c(RegExp.prototype,i,(function(){var e=r(this),t=String(e.source),n=e.flags,c=String(void 0===n&&e instanceof RegExp&&!("flags"in l)?o.call(e):n);return"/"+t+"/"+c}),{unsafe:!0})},5319:function(e,t,n){"use strict";var c=n("d784"),r=n("825a"),a=n("50c4"),o=n("a691"),i=n("1d80"),l=n("8aa5"),u=n("0cb2"),d=n("14c3"),s=Math.max,b=Math.min,p=function(e){return void 0===e?e:String(e)};c("replace",2,(function(e,t,n,c){var f=c.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=c.REPLACE_KEEPS_$0,j=f?"$":"$0";return[function(n,c){var r=i(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r,c):t.call(String(r),n,c)},function(e,c){if(!f&&m||"string"===typeof c&&-1===c.indexOf(j)){var i=n(t,e,this,c);if(i.done)return i.value}var O=r(e),v=String(this),g="function"===typeof c;g||(c=String(c));var h=O.global;if(h){var V=O.unicode;O.lastIndex=0}var k=[];while(1){var C=d(O,v);if(null===C)break;if(k.push(C),!h)break;var _=String(C[0]);""===_&&(O.lastIndex=l(v,a(O.lastIndex),V))}for(var N="",y=0,w=0;w<k.length;w++){C=k[w];for(var x=String(C[0]),S=s(b(o(C.index),v.length),0),B=[],E=1;E<C.length;E++)B.push(p(C[E]));var D=C.groups;if(g){var T=[x].concat(B,S,v);void 0!==D&&T.push(D);var R=String(c.apply(void 0,T))}else R=u(x,v,S,B,D,c);S>=y&&(N+=v.slice(y,S)+R,y=S+x.length)}return N+v.slice(y)}]}))},"909e":function(e,t,n){},a4ca:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return l})),n.d(t,"s",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"j",(function(){return s})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return j})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return v})),n.d(t,"r",(function(){return g})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return V})),n.d(t,"o",(function(){return k}));n("b0c0"),n("a4d3"),n("e01a"),n("d3b7"),n("25f0"),n("99af");var c=n("415e");function r(e,t,n){var r={};return t&&(r.collection_id=t),n&&(r.fabric_id=n),Object(c["a"])({url:"/get_avaliable_brands/".concat(e),method:"GET",params:r})}function a(e){return Object(c["a"])({url:"/projects/",method:"GET",params:e})}function o(e){return Object(c["a"])({url:"/project/".concat(e,"/"),method:"GET"})}function i(e){return Object(c["a"])({url:"/projects/",method:"POST",data:e})}function l(e){var t=new FormData;if(t.append("name",e.name),t.append("description",e.description),t.append("project",e.project.toString()),t.append("side",e.side.toString()),t.append("price",e.price.toString()),e.files)for(var n=0;n<e.files.length;n++)t.append("files",e.files[n]);return Object(c["a"])({url:"/stages/",method:"POST",data:t})}function u(e){return Object(c["a"])({url:"/stage/".concat(e.id),method:"PUT",data:{name:e.name,price:e.price,description:e.description}})}function d(e){return Object(c["a"])({url:"/stage/".concat(e),method:"GET"})}function s(e){var t=new FormData;if(e.files)for(var n=0;n<e.files.length;n++)t.append("files",e.files[n]);return e.message&&t.append("message",e.message),e.project&&t.append("project",e.project.toString()),Object(c["a"])({url:"/discussions/",method:"POST",data:t})}function b(e){return Object(c["a"])({url:"/discussion/".concat(e),method:"DELETE"})}function p(e,t){var n=new FormData;return n.append("message",t),Object(c["a"])({url:"/discussion/".concat(e),method:"PUT",data:n})}function f(e){return Object(c["a"])({url:"/attachment/".concat(e),method:"DELETE"})}function m(e){var t={};return e.q&&(t.q=e.q),Object(c["a"])({url:"/project/".concat(e.id,"/avaliable_memebr"),method:"GET",params:t})}function j(e){return Object(c["a"])({url:"/project/".concat(e,"/joined_member"),method:"GET"})}function O(e){var t=e.id,n=e.joined_member;return Object(c["a"])({url:"/project/".concat(t,"/joined_member"),method:"PUT",data:{joined_member:n}})}function v(e){var t=e.id,n=e.success,r=e.reason;return Object(c["a"])({url:"/project/".concat(t,"/status"),method:"PUT",data:{success:n,reason:r}})}function g(e){var t=new FormData;return t.append("stage","".concat(e.stage)),e.file&&t.append("file",e.file),e.demo_fabric&&t.append("demo_fabric","".concat(e.demo_fabric)),Object(c["a"])({url:"/stagemedias/",method:"POST",data:t})}function h(e,t){return Object(c["a"])({url:"/project/".concat(e,"/stagename/").concat(t),method:"GET"})}function V(e){return Object(c["a"])({url:"/project/".concat(e,"/inform/"),method:"GET"})}function k(e,t,n,r){var a={subject:t,message:n,recipients:r};return Object(c["a"])({url:"/project/".concat(e,"/inform/"),method:"GET",params:a})}},a69a:function(e,t,n){"use strict";n("bcc6")},abe3:function(e,t,n){"use strict";n("e94b")},b28b:function(e,t,n){"use strict";var c=n("7a23"),r=Object(c["withScopeId"])("data-v-84f842a6");Object(c["pushScopeId"])("data-v-84f842a6");var a={class:"want-to-see-more-component"},o={class:"fixed-button"},i=Object(c["createVNode"])("h2",null,"Want to see more?",-1),l=Object(c["createTextVNode"])(" Contact "),u=Object(c["createVNode"])("h2",null,"Contact Us",-1),d={class:"item"},s=Object(c["createVNode"])("p",null,"Email",-1),b={class:"item"},p=Object(c["createVNode"])("p",null,"Name",-1),f={class:"item"},m=Object(c["createVNode"])("p",null,"Brand",-1),j={class:"item"},O=Object(c["createVNode"])("p",null,"Your message to us",-1),v={class:"buttons-wrapper"},g=Object(c["createTextVNode"])(" Cancel "),h=Object(c["createTextVNode"])(" Send ");Object(c["popScopeId"])();var V=r((function(e,t,n,V,k,C){var _=Object(c["resolveComponent"])("font-awesome-icon"),N=Object(c["resolveComponent"])("el-button"),y=Object(c["resolveComponent"])("el-input"),w=Object(c["resolveComponent"])("el-dialog");return Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[Object(c["createVNode"])("div",o,[i,Object(c["createVNode"])(N,{class:"button",type:"success",onClick:e.onButtonClick},{default:r((function(){return[l,Object(c["createVNode"])(_,{class:"icon",icon:["fas","long-arrow-alt-right"]})]})),_:1},8,["onClick"])]),Object(c["createVNode"])(w,{"custom-class":"fixed-dialog",modelValue:e.visible,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.visible=t}),width:"600px"},{default:r((function(){return[u,Object(c["createVNode"])("div",null,[Object(c["createVNode"])("div",d,[s,Object(c["createVNode"])(y,{type:"email",modelValue:e.form.from_email,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.from_email=t})},null,8,["modelValue"])]),Object(c["createVNode"])("div",b,[p,Object(c["createVNode"])(y,{modelValue:e.form.sender_name,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.sender_name=t})},null,8,["modelValue"])]),Object(c["createVNode"])("div",f,[m,Object(c["createVNode"])(y,{modelValue:e.form.sender_company,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.sender_company=t})},null,8,["modelValue"])]),Object(c["createVNode"])("div",j,[O,Object(c["createVNode"])(y,{type:"textarea",rows:"8",modelValue:e.form.message,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.message=t})},null,8,["modelValue"])])]),Object(c["createVNode"])("div",v,[Object(c["createVNode"])(N,{class:"button",type:"info",onClick:t[5]||(t[5]=function(t){return e.visible=!1})},{default:r((function(){return[g]})),_:1}),Object(c["createVNode"])(N,{class:"button",type:"success",onClick:e.onSubmit},{default:r((function(){return[h]})),_:1},8,["onClick"])])]})),_:1},8,["modelValue"])])})),k=n("1da1"),C=(n("96cf"),n("a9e3"),n("6ec5")),_=n("3fd4"),N=n("d257"),y=function(e){return"I’m interested in this\nHello, I’m interested in this one: "+e+".\nPlease reply me and give more information"},w={name:"WantToSeeMore",props:{id:{type:Number,default:-1},category:{type:String,default:"fabric"}},setup:function(e){var t=Object(c["toRefs"])(e),n=t.id,r=t.category,a=Object(c["ref"])(!1),o=Object(c["reactive"])({obj_id:0,obj_category:"",from_email:"",sender_name:"",sender_company:"",message:y(location.href)}),i=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.value=!0,o.obj_id=n.value,o.obj_category=r.value,o.from_email="",o.sender_name="",o.sender_company="",o.message=y(location.href);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.from_email&&N["a"].test(o.from_email)){e.next=3;break}return Object(_["c"])({title:"Error",type:"error",message:"Please enter a valid email address."}),e.abrupt("return");case 3:if(o.sender_company){e.next=6;break}return Object(_["c"])({title:"Error",type:"error",message:"Please select the brand. "}),e.abrupt("return");case 6:return e.prev=6,e.next=9,Object(C["f"])(o);case 9:Object(_["c"])({title:"Success",type:"success",message:"You has been contacted."});case 10:return e.prev=10,a.value=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[6,,10,13]])})));return function(){return e.apply(this,arguments)}}();return{visible:a,form:o,onButtonClick:i,onSubmit:l}}};n("212c");w.render=V,w.__scopeId="data-v-84f842a6";t["a"]=w},bb55:function(e,t,n){},bcc6:function(e,t,n){},ca1d:function(e,t,n){},e839:function(e,t,n){"use strict";n.r(t);n("b0c0"),n("a4d3"),n("e01a");var c=n("7a23"),r=Object(c["withScopeId"])("data-v-2c7c28ba");Object(c["pushScopeId"])("data-v-2c7c28ba");var a={key:0,id:"collection-detail-component"},o={class:"top-container"},i={class:"top-wrapper"},l={class:"title-container"},u={class:"title"},d={class:"buttons-container"},s=Object(c["createTextVNode"])("Initiate Project"),b=Object(c["createTextVNode"])(" Edit "),p=Object(c["createTextVNode"])(" Analysis "),f={class:"info"},m={class:"cards-container"},j={class:"edit-main"},O={class:"input-item"},v=Object(c["createVNode"])("p",{class:"label"},"Price:",-1),g={class:"dialog-footer"},h=Object(c["createTextVNode"])(" Cancel "),V=Object(c["createTextVNode"])(" Save ");Object(c["popScopeId"])();var k=r((function(e,t,n,k,C,_){var N=Object(c["resolveComponent"])("el-button"),y=Object(c["resolveComponent"])("FabricCardEditable"),w=Object(c["resolveComponent"])("el-col"),x=Object(c["resolveComponent"])("el-row"),S=Object(c["resolveComponent"])("CreateProjectDialog"),B=Object(c["resolveComponent"])("CreateDialog"),E=Object(c["resolveComponent"])("AddToCollectionDialog"),D=Object(c["resolveComponent"])("el-input"),T=Object(c["resolveComponent"])("el-dialog"),R=Object(c["resolveComponent"])("WantToSeeMore"),I=Object(c["resolveDirective"])("permission");return e.detail?(Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[Object(c["createVNode"])("div",o,[Object(c["createVNode"])("div",i,[Object(c["createVNode"])("div",l,[Object(c["createVNode"])("h1",u,Object(c["toDisplayString"])(e.detail.name),1)]),Object(c["createVNode"])("div",d,[Object(c["withDirectives"])(Object(c["createVNode"])(N,{type:"success",onClick:e.onStartProjectClick},{default:r((function(){return[s]})),_:1},8,["onClick"]),[[I,"project_add"]]),Object(c["withDirectives"])(Object(c["createVNode"])(N,{type:"info",onClick:e.onEditClick},{default:r((function(){return[b]})),_:1},8,["onClick"]),[[I,"collection_update"]]),Object(c["withDirectives"])(Object(c["createVNode"])(N,{type:"info",onClick:e.onAnalysisClick},{default:r((function(){return[p]})),_:1},8,["onClick"]),[[I,"collection_analysis_view"]])])]),Object(c["createVNode"])("h2",f,Object(c["toDisplayString"])(e.detail.description)+" "+Object(c["toDisplayString"])(e.hashtags),1)]),Object(c["createVNode"])("div",m,[Object(c["createVNode"])(x,{gutter:60},{default:r((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.detail.collection_fabrics,(function(t,n){return Object(c["openBlock"])(),Object(c["createBlock"])(w,{key:n,span:8},{default:r((function(){return[Object(c["createVNode"])(y,{data:t,onEdit:e.onCardEditClick,onAdd:e.onCardAddClick,onDelete:e.onCardDeleteConfirm},null,8,["data","onEdit","onAdd","onDelete"])]})),_:2},1024)})),128))]})),_:1})]),Object(c["createVNode"])(S,{ref:"createProjectDialog"},null,512),Object(c["createVNode"])(B,{editable:"",ref:"editDialog",onLoad:e.onEditLoad},null,8,["onLoad"]),Object(c["createVNode"])(E,{ref:"addToCollectionDialog"},null,512),Object(c["createVNode"])(T,{title:"Edit Price: ".concat(e.editData.name),modelValue:e.dialogCardEditVisible,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.dialogCardEditVisible=t})},{footer:r((function(){return[Object(c["createVNode"])("span",g,[Object(c["createVNode"])(N,{type:"info",onClick:t[2]||(t[2]=function(t){return e.dialogCardEditVisible=!1})},{default:r((function(){return[h]})),_:1}),Object(c["createVNode"])(N,{type:"success",onClick:e.onEditConfirm},{default:r((function(){return[V]})),_:1},8,["onClick"])])]})),default:r((function(){return[Object(c["createVNode"])("div",j,[Object(c["createVNode"])("div",O,[v,Object(c["createVNode"])(D,{modelValue:e.editData.price,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.editData.price=t}),type:"number",clearable:""},null,8,["modelValue"])])])]})),_:1},8,["title","modelValue"]),Object(c["withDirectives"])(Object(c["createVNode"])(R,{id:parseInt(e.id,10),category:"collection"},null,8,["id"]),[[I,"contact_us"]])])):Object(c["createCommentVNode"])("",!0)})),C=n("1da1"),_=(n("96cf"),n("a15b"),n("d81d"),n("ac1f"),n("1276"),n("5319"),n("99af"),n("5502")),N=n("6c02"),y=n("d257"),w=Object(c["withScopeId"])("data-v-47773859");Object(c["pushScopeId"])("data-v-47773859");var x={id:"fabric-card-editable-component"},S={class:"top-console"},B={class:"button-wrapper"},E={class:"view-container"},D=Object(c["createVNode"])("p",null,"0",-1),T=Object(c["createVNode"])("div",{class:"cover"},null,-1),R={class:"content-container"},I={class:"content-wrapper"},P={class:"title"},U={class:"price-group"},F={class:"price"},A={class:"hover-information-wrapper"},L={class:"description"};Object(c["popScopeId"])();var G=w((function(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("font-awesome-icon"),l=Object(c["resolveComponent"])("el-popconfirm"),u=Object(c["resolveDirective"])("permission");return Object(c["openBlock"])(),Object(c["createBlock"])("div",x,[Object(c["createVNode"])("div",{class:"cover-image",style:{backgroundImage:"url('".concat(e.formatImageUrl(e.data.fabric.image_url),"@250-250')")},onClick:t[3]||(t[3]=function(){return e.onImageClick&&e.onImageClick.apply(e,arguments)})},[Object(c["createVNode"])("div",S,[Object(c["withDirectives"])(Object(c["createVNode"])("div",{class:"button-wrapper",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(){return e.onPlusClick&&e.onPlusClick.apply(e,arguments)}),["stop"]))},[Object(c["createVNode"])(i,{class:"icon",icon:["fas","plus"]})],512),[[u,"collection_fabric_add"]]),Object(c["withDirectives"])(Object(c["createVNode"])("div",{class:"button-wrapper",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(){return e.onEditClick&&e.onEditClick.apply(e,arguments)}),["stop"]))},[Object(c["createVNode"])(i,{class:"icon",icon:["fas","edit"]})],512),[[u,"collection_price_update"]]),Object(c["withDirectives"])(Object(c["createVNode"])("div",null,[Object(c["createVNode"])(l,{confirmButtonText:"Done",cancelButtonText:"Cancel",confirmButtonType:"danger",cancelButtonType:"info",onConfirm:e.onDeleteConfirm,hideIcon:"",title:"Are you sure you want to remove this fabric?"},{reference:w((function(){return[Object(c["createVNode"])("div",B,[Object(c["createVNode"])(i,{class:"icon",icon:["fas","trash-alt"]})])]})),_:1},8,["onConfirm"])],512),[[u,"collection_delete"]])]),Object(c["createVNode"])("div",E,[Object(c["createVNode"])(i,{class:"icon",icon:["fas","eye"]}),D]),T],4),Object(c["createVNode"])("div",R,[Object(c["createVNode"])("div",I,[Object(c["createVNode"])("h3",P,Object(c["toDisplayString"])(e.data.fabric.name),1)]),Object(c["createVNode"])("div",U,[Object(c["createVNode"])("p",F,"$ "+Object(c["toDisplayString"])(e.data.price),1)]),Object(c["createVNode"])("div",A,[Object(c["createVNode"])("p",L,Object(c["toDisplayString"])(e.data.fabric.real_composition),1)])])])})),M=n("bf37"),$=Object(c["defineComponent"])({name:"FabricCardEditable",props:{data:{type:Object,default:function(){return{}}}},setup:function(e,t){var n=t.emit,r=Object(N["d"])(),a=Object(c["toRefs"])(e),o=a.data,i=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.push({name:"FabricDetail",params:{id:o.value.fabric.id}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e={id:o.value.fabric.id,price:o.value.price};n("add",e)},u=function(){n("edit",o.value)},d=function(){n("delete",o.value)};return{onImageClick:i,onPlusClick:l,onEditClick:u,onDeleteConfirm:d,formatImageUrl:M["a"]}}}),Y=$;n("fda3");Y.render=G,Y.__scopeId="data-v-47773859";var q=Y,W=n("3541"),K=Object(c["withScopeId"])("data-v-6ddfad01");Object(c["pushScopeId"])("data-v-6ddfad01");var J={id:"collection-create-project-dialog-component"},H={key:0,class:"step-1-container"},X={key:1,class:"step-2-container"},z=Object(c["createVNode"])("p",{class:"label"},"Name",-1),Q=Object(c["createVNode"])("p",{class:"label"},"Expected Finish Time",-1),Z=Object(c["createVNode"])("p",{class:"label"},"Price (Optional)",-1),ee=Object(c["createVNode"])("p",{class:"label"},"Brand",-1),te=Object(c["createVNode"])("div",{class:"label"},"Season",-1),ne=Object(c["createVNode"])("p",{class:"label"},"Garment Factory (Optional)",-1),ce={class:"dialog-footer"},re=Object(c["createTextVNode"])(" Cancel "),ae=Object(c["createTextVNode"])(" Back "),oe=Object(c["createTextVNode"])(" Next "),ie=Object(c["createTextVNode"])(" Done ");Object(c["popScopeId"])();var le=K((function(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("FabricCardSelectable"),l=Object(c["resolveComponent"])("el-col"),u=Object(c["resolveComponent"])("el-row"),d=Object(c["resolveComponent"])("el-input"),s=Object(c["resolveComponent"])("el-date-picker"),b=Object(c["resolveComponent"])("el-option"),p=Object(c["resolveComponent"])("el-select"),f=Object(c["resolveComponent"])("el-button"),m=Object(c["resolveComponent"])("el-dialog");return Object(c["openBlock"])(),Object(c["createBlock"])("div",J,[Object(c["createVNode"])(m,{title:"Initiate Project",modelValue:e.visible,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.visible=t}),width:1===e.step?"80%":"40%",top:"45px"},{footer:K((function(){return[Object(c["createVNode"])("span",ce,[1===e.step?(Object(c["openBlock"])(),Object(c["createBlock"])(f,{key:0,type:"info",onClick:t[7]||(t[7]=function(t){return e.visible=!1})},{default:K((function(){return[re]})),_:1})):Object(c["createCommentVNode"])("",!0),2===e.step?(Object(c["openBlock"])(),Object(c["createBlock"])(f,{key:1,type:"info",onClick:t[8]||(t[8]=function(t){return e.step=1})},{default:K((function(){return[ae]})),_:1})):Object(c["createCommentVNode"])("",!0),1===e.step?(Object(c["openBlock"])(),Object(c["createBlock"])(f,{key:2,type:"success",onClick:t[9]||(t[9]=function(t){return e.step=2})},{default:K((function(){return[oe]})),_:1})):Object(c["createCommentVNode"])("",!0),2===e.step?(Object(c["openBlock"])(),Object(c["createBlock"])(f,{key:3,type:"success",onClick:e.onConfirm},{default:K((function(){return[ie]})),_:1},8,["onClick"])):Object(c["createCommentVNode"])("",!0)])]})),default:K((function(){return[1===e.step?(Object(c["openBlock"])(),Object(c["createBlock"])("div",H,[e.detail?(Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:0,gutter:60},{default:K((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.detail.collection_fabrics,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:t.fabric.id,span:6},{default:K((function(){return[Object(c["createVNode"])(i,{data:t.fabric,selected:e.form.start_fabric===t.fabric.id,onSelect:e.onSelect},null,8,["data","selected","onSelect"])]})),_:2},1024)})),128))]})),_:1})):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0),2===e.step?(Object(c["openBlock"])(),Object(c["createBlock"])("div",X,[Object(c["createVNode"])(u,{gutter:30},{default:K((function(){return[Object(c["createVNode"])(l,{span:24},{default:K((function(){return[z,Object(c["createVNode"])(d,{modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.name=t})},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(l,{span:24},{default:K((function(){return[Q,Object(c["createVNode"])(s,{modelValue:e.form.expected_end_at,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.expected_end_at=t}),"value-format":"YYYY-MM-DD",placeholder:"Select Date"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(l,{span:24},{default:K((function(){return[Z,Object(c["createVNode"])(d,{modelValue:e.form.price,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.price=t}),type:"number"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(l,{span:24},{default:K((function(){return[ee,Object(c["createVNode"])(p,{modelValue:e.form.brand,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.brand=t})},{default:K((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.brandOptions,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:e.id,value:e.value,label:e.label},null,8,["value","label"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(c["createVNode"])(l,{span:24},{default:K((function(){return[te,Object(c["createVNode"])(p,{modelValue:e.form.season,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.season=t}),multiple:"",placeholder:"Select..."},{default:K((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.seasonOptions,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(c["createVNode"])(l,{span:24},{default:K((function(){return[ne,Object(c["createVNode"])(p,{modelValue:e.form.garment_factory,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.form.garment_factory=t}),clearable:""},{default:K((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.garmentFactoryOptions,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:e.id,value:e.value,label:e.label},null,8,["value","label"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})])):Object(c["createCommentVNode"])("",!0)]})),_:1},8,["modelValue","width"])])})),ue=n("4fba"),de=n("52b1"),se=n("a4ca"),be=n("3fd4"),pe=n("982a"),fe=Object(c["defineComponent"])({name:"CreateDialog",components:{FabricCardSelectable:ue["a"]},setup:function(){var e=Object(N["d"])(),t=Object(_["b"])(),n=Object(c["ref"])(!1),r=Object(c["ref"])(1),a=Object(c["ref"])([]),o=Object(c["ref"])([]),i=Object(c["reactive"])({name:"",expected_end_at:null,price:0,start_fabric:0,brand:null,season:[],garment_factory:null,collection:null}),l=Object(c["computed"])((function(){return t.state.collection.detail})),u=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(n){var c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch(de["m"],n);case 2:return e.next=4,Object(se["b"])("brand");case 4:return c=e.sent,e.next=7,Object(se["b"])("garment_factory");case 7:r=e.sent,a.value=c.data.brands.map((function(e){return{label:e.name,value:e.id,checked:!1}})),o.value=r.data.brands.map((function(e){return{label:e.name,value:e.id,checked:!1}}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=1,i.collection=t,n.value=!0,e.next=5,u(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(){var c,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i.name&&i.expected_end_at&&i.brand){t.next=2;break}return t.abrupt("return",Object(be["c"])({title:"Warning",type:"warning",message:"Should complete the form of Initiate Project."}));case 2:return c={name:i.name,expected_end_at:i.expected_end_at,start_fabric:i.start_fabric,brand:i.brand,season:i.season,garment_factory:i.garment_factory},i.price&&(c.price=i.price),t.next=6,Object(se["k"])(c);case 6:return r=t.sent,a=r.data,n.value=!1,t.next=11,e.push({name:"ProjectDetail",params:{id:a.id}});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(e){e.selected||(i.start_fabric=e.id)};return{visible:n,step:r,form:i,detail:l,brandOptions:a,seasonOptions:pe["a"],garmentFactoryOptions:o,open:d,onConfirm:s,onSelect:b}}}),me=fe;n("a69a");me.render=le,me.__scopeId="data-v-6ddfad01";var je=me,Oe=n("eda8"),ve=n("b28b"),ge=n("8eed"),he=Object(c["defineComponent"])({name:"CollectionDetail",components:{FabricCardEditable:q,CreateProjectDialog:je,CreateDialog:W["a"],AddToCollectionDialog:Oe["a"],WantToSeeMore:ve["a"]},props:{id:{type:String,default:""}},setup:function(e){var t=Object(N["d"])(),n=Object(_["b"])(),r=Object(c["ref"])(null),a=Object(c["ref"])(null),o=Object(c["ref"])(null),i=Object(c["ref"])(null),l=Object(c["toRefs"])(e),u=l.id,d=Object(c["ref"])(!1),s=Object(c["reactive"])({id:0,name:"",price:0}),b=Object(c["computed"])((function(){return n.state.collection.detail})),p=Object(c["computed"])((function(){var e="";return b.value.year&&(e+="#".concat(b.value.year,", ")),b.value.season&&(e+="#".concat(b.value.season,", ")),b.value.hash_tag&&(e+=b.value.hash_tag.split(",").map((function(e){return"#".concat(e)})).join(",")),e})),f=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=Object(y["f"])(),e.prev=1,e.next=4,n.dispatch(de["m"],u.value);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.next=10,t.replace({name:"Error"});case 10:return e.prev=10,c.close(),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,6,10,13]])})));return function(){return e.apply(this,arguments)}}();Object(c["onMounted"])(f);var m=function(){r.value&&r.value.open(u.value)},j=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.value){e.next=2;break}return e.abrupt("return");case 2:return t={name:b.value.name,description:b.value.description,year:b.value.year,season:b.value.season,show_label:b.value.show_label,theme:b.value.theme,hash_tag:b.value.hash_tag,status:b.value.status,owner:4,creator:4,sport_type:[]},e.next=5,Object(ge["s"])(t,parseInt(u.value,10));case 5:o.value.open(b.value);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.push({name:"CollectionAnalysis",params:{id:u.value}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={collection_id:u.value,fabric_id:t.fabric.id,price:t.price},e.next=3,Object(ge["q"])(n);case 3:s.id=t.fabric.id,s.name=t.fabric.name,s.price=t.price,d.value=!0;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){a.value&&a.value.open(e)},h=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c={collection_id:u.value,fabric_id:t.fabric.id},e.next=3,n.dispatch(de["e"],c);case 3:return e.next=5,f();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={collection_id:u.value,fabric_id:s.id,price:s.price},e.prev=1,e.next=4,n.dispatch(de["T"],t);case 4:d.value=!1,Object(be["c"])({title:"Success",type:"success",customClass:"message",message:"Edit fabric ".concat(s.name," price to $").concat(s.price," successfully.")});case 6:return e.prev=6,e.next=9,f();case 9:return e.finish(6);case 10:case"end":return e.stop()}}),e,null,[[1,,6,10]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{createProjectDialog:r,changeOrderDialog:i,addToCollectionDialog:a,editDialog:o,dialogCardEditVisible:d,editData:s,detail:b,hashtags:p,onStartProjectClick:m,onEditClick:j,onAnalysisClick:O,onCardEditClick:v,onCardAddClick:g,onCardDeleteConfirm:h,onEditConfirm:V,onEditLoad:k}}}),Ve=he;n("fe6c");Ve.render=k,Ve.__scopeId="data-v-2c7c28ba";t["default"]=Ve},e94b:function(e,t,n){},eda8:function(e,t,n){"use strict";var c=n("7a23"),r=Object(c["withScopeId"])("data-v-58543007");Object(c["pushScopeId"])("data-v-58543007");var a={id:"add-to-collection-dialog-component"},o={class:"select-item"},i=Object(c["createVNode"])("p",null,"Collections:",-1),l={key:0,class:"tag-container"},u=Object(c["createVNode"])("div",{class:"header"},[Object(c["createVNode"])("div",{class:"collection"},"Collection"),Object(c["createVNode"])("div",{class:"creator"},"Creator")],-1),d={class:"collection"},s={class:"creator"},b={class:"dialog-footer"},p=Object(c["createTextVNode"])(" Done ");Object(c["popScopeId"])();var f=r((function(e,t,n,f,m,j){var O=Object(c["resolveComponent"])("el-option"),v=Object(c["resolveComponent"])("el-select"),g=Object(c["resolveComponent"])("font-awesome-icon"),h=Object(c["resolveComponent"])("el-button"),V=Object(c["resolveComponent"])("el-dialog");return Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[Object(c["createVNode"])(V,{title:"Add To Collection",modelValue:e.visible,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.visible=t})},{footer:r((function(){return[Object(c["createVNode"])("span",b,[Object(c["createVNode"])(h,{type:"success",onClick:t[2]||(t[2]=function(t){return e.visible=!1})},{default:r((function(){return[p]})),_:1})])]})),default:r((function(){return[Object(c["createVNode"])("div",o,[i,Object(c["createVNode"])(v,{modelValue:e.selectValue,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectValue=t}),filterable:"",placeholder:"Select"},{default:r((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.options,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(O,{key:e.value,label:e.label,value:e.value,disabled:e.checked},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue"])]),e.tags.length?(Object(c["openBlock"])(),Object(c["createBlock"])("div",l,[u,(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.tags,(function(t,n){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"collection-tag",key:n},[Object(c["createVNode"])("div",d,Object(c["toDisplayString"])(t.collection),1),Object(c["createVNode"])("div",s,Object(c["toDisplayString"])(t.creator),1),t.is_me?(Object(c["openBlock"])(),Object(c["createBlock"])(g,{key:0,class:"icon",icon:["fas","times"],onClick:function(n){return e.onTagCloseClick(t.value)}},null,8,["onClick"])):Object(c["createCommentVNode"])("",!0)])})),128))])):Object(c["createCommentVNode"])("",!0)]})),_:1},8,["modelValue"])])})),m=n("2909"),j=n("1da1"),O=(n("96cf"),n("d81d"),n("b0c0"),n("99af"),n("4de4"),n("5502")),v=n("52b1"),g=n("3fd4"),h=Object(c["defineComponent"])({name:"AddToCollectionDialog",setup:function(){var e=Object(O["b"])(),t=Object(c["ref"])(0),n=Object(c["ref"])(0),r=Object(c["ref"])(!1),a=Object(c["ref"])(""),o=Object(c["computed"])((function(){return e.state.fabric.relatedCollections.map((function(e){return{collection:e.name,creator:e.owner_nickname,value:e.id}}))})),i=Object(c["computed"])((function(){return e.state.collection.list.map((function(e){return{label:"".concat(e.name," - ").concat(e.owner_nickname),value:e.id,checked:o.value.some((function(t){return t.value===e.id}))}}))})),l=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch(v["E"],n);case 2:return t.next=4,e.dispatch(v["r"],{category:"teams_own"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(c["watch"])(a,function(){var c=Object(j["a"])(regeneratorRuntime.mark((function c(r){var o,i;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(r&&"number"===typeof r){c.next=2;break}return c.abrupt("return");case 2:return c.prev=2,o={collection_id:r,fabric_id:t.value,price:n.value},c.next=6,e.dispatch(v["R"],o);case 6:i=c.sent,e.commit(v["Kb"],[].concat(Object(m["a"])(e.state.fabric.relatedCollections),[i])),c.next=13;break;case 10:c.prev=10,c.t0=c["catch"](2),Object(g["c"])({title:"Error",type:"error",message:c.t0});case 13:a.value="";case 14:case"end":return c.stop()}}),c,null,[[2,10]])})));return function(e){return c.apply(this,arguments)}}());var u=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(c){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=c.id,o=c.price,t.value=a,n.value=o,r.value=!0,e.next=6,l(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var n=Object(j["a"])(regeneratorRuntime.mark((function n(c){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,r={collection_id:c,fabric_id:t.value},n.next=4,e.dispatch(v["e"],r);case 4:a=e.state.fabric.relatedCollections.filter((function(e){return e.id!==c})),e.commit(v["Kb"],a),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),Object(g["c"])({title:"Error",type:"error",message:n.t0});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}();return{tags:o,options:i,visible:r,selectValue:a,open:u,onTagCloseClick:d}}}),V=h;n("abe3");V.render=f,V.__scopeId="data-v-58543007";t["a"]=V},fda3:function(e,t,n){"use strict";n("ca1d")},fe6c:function(e,t,n){"use strict";n("909e")}}]);
//# sourceMappingURL=CollectionDetail.65e4f06d.js.map