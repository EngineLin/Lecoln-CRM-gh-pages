{"version":3,"sources":["webpack:///./node_modules/core-js/internals/engine-ff-version.js","webpack:///./src/views/Project/StageFabricsDuplicateDialog.vue?2531","webpack:///./src/components/FabricCardSelectable.vue?6cde","webpack:///./src/views/Project/CreateStageDialog.vue?9b64","webpack:///./src/views/Project/StageEditDialog.vue?e124","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./src/components/FabricCardSelectable.vue","webpack:///./src/components/FabricCardSelectable.vue?c2ab","webpack:///./src/components/FabricCardSelectable.vue?871f","webpack:///./node_modules/core-js/internals/engine-webkit-version.js","webpack:///./src/views/Project/Timeline.vue?0595","webpack:///./src/components/FilterTag.vue?b809","webpack:///./src/views/Project/EndDialog.vue?e32a","webpack:///./src/views/Project/UsersDialog.vue?64b3","webpack:///./src/views/Project/CreateStageDialog.vue?d772","webpack:///./src/views/Project/ProjectDetail.vue?144c","webpack:///./src/views/Project/ProjectDetail.vue?182c","webpack:///./node_modules/core-js/internals/array-sort.js","webpack:///./src/views/Project/InformDialog.vue?60bc","webpack:///./src/views/Project/ProjectDetail.vue","webpack:///./src/views/Project/Timeline.vue","webpack:///./src/views/Project/Timeline.vue?3136","webpack:///./src/views/Project/Timeline.vue?32c0","webpack:///./src/views/Project/StageFabrics.vue","webpack:///./src/views/Project/StageFabricsDuplicateDialog.vue","webpack:///./src/views/Project/StageFabricsDuplicateDialog.vue?2fc0","webpack:///./src/views/Project/StageFabricsDuplicateDialog.vue?f937","webpack:///./src/views/Project/StageFabricsDialog.vue","webpack:///./src/views/Project/StageFabricsDialog.vue?0b3d","webpack:///./src/views/Project/StageFabricsDialog.vue?2572","webpack:///./src/views/Project/StageFabrics.vue?f7d3","webpack:///./src/views/Project/StageFabrics.vue?1488","webpack:///./src/views/Project/UsersDialog.vue","webpack:///./src/views/Project/UsersDialog.vue?3699","webpack:///./src/views/Project/UsersDialog.vue?7cd0","webpack:///./src/views/Project/CreateStageDialog.vue","webpack:///./src/views/Project/CreateStageDialog.vue?7199","webpack:///./src/views/Project/CreateStageDialog.vue?124a","webpack:///./src/views/Project/StageEditDialog.vue","webpack:///./src/views/Project/StageEditDialog.vue?d4f4","webpack:///./src/views/Project/StageEditDialog.vue?0a67","webpack:///./src/views/Project/InformDialog.vue","webpack:///./src/views/Project/InformDialog.vue?9271","webpack:///./src/views/Project/InformDialog.vue?ef7d","webpack:///./src/views/Project/EndDialog.vue","webpack:///./src/views/Project/EndDialog.vue?fa62","webpack:///./src/views/Project/EndDialog.vue?e8d1","webpack:///./src/views/Project/ProjectDetail.vue?aea1","webpack:///./src/views/Project/ProjectDetail.vue?05f3","webpack:///./src/views/Project/StageFabricsDialog.vue?396e","webpack:///./src/components/FilterTag.vue","webpack:///./src/components/FilterTag.vue?49d3","webpack:///./src/components/FilterTag.vue?eeb2","webpack:///./node_modules/core-js/internals/engine-is-ie-or-edge.js","webpack:///./src/views/Project/StageFabrics.vue?0d49","webpack:///./src/views/Project/EndDialog.vue?6bdf"],"names":["userAgent","firefox","match","module","exports","$","aFunction","toObject","toLength","fails","internalSort","arrayMethodIsStrict","FF","IE_OR_EDGE","V8","WEBKIT","test","nativeSort","sort","FAILS_ON_UNDEFINED","undefined","FAILS_ON_NULL","STRICT_METHOD","STABLE_SORT","code","chr","value","index","result","String","fromCharCode","push","k","v","a","b","length","charAt","FORCED","getSortCompare","comparefn","x","y","target","proto","forced","array","this","call","itemsLength","items","arrayLength","id","class","style","onImageClick","selected","icon","data","name","real_composition","Component","props","type","Object","default","Boolean","setup","emit","params","formatImageUrl","render","__scopeId","webkit","floor","Math","mergeSort","middle","insertionSort","merge","slice","element","j","i","left","right","llength","rlength","lindex","rindex","projectData","effect","color","getTagColor","status","dayjs","expected_end_at","format","company","buyer","season","join","garment_factory","getGarmentFactoryName","can_view_joined_members","onUsersClick","hasButtons","onAddStageClick","projectStage","newestId","onEditStageClick","onInformClick","onEndClick","gutter","span","stages","stage","stageData","fabric","fabricData","onStageClick","ref","price","created_at","description","stageattachements","file","key","onAttachmentDownload","stage-data","fabric-id","project-id","parseInt","onStageFabricsLoad","disabled","isOpenInputDiscussion","discussionValue","rows","placeholder","onNewline","onDiscuss","onUploadClick","filesStore","discussions","item","nickname","username","is_me","editDiscussionId","onDiscussionDeleteClick","onDiscussionEditClick","message","clearable","attachements","onDiscussionFileDeleteClick","split","msg","onLoad","src","logo","alt","supplier","formatStages","activeStageId","onDotClick","mainFile","initCompany","Array","isBefore","media","find","it","main","url","window","open","onReference","onUpload","onExpand","stagemedias","_","splitAt","image_url","title","visible","width","top","footer","onConfirm","fabricOptions","results","selectValue","includes","onFabricSelect","pageCount","background","layout","current-page","page","page-count","onPaginationChange","components","FabricCardSelectable","projectId","stageId","init","to_project","total_pages","filter","selectedId","concat","forEach","demo_fabric","_page","image","height","autoplay","arrow","indicator-position","splitEvery","list","_item","_index","onCarouseItemClick","FabricImageWith3DMode","StageFabricsDuplicateDialog","StageFabricsDialog","Number","fabricId","uploadDialog","fabricDialog","document","createElement","accept","multiple","addEventListener","files","click","owner","canChange","filterable","options","label","checked","tags","tag","closable","onTagCloseClick","FilterTag","joinedMembers","availableMembers","lock","reduce","userList","users","_list","user","company_name","map","member_id","q","availableResponse","joinedResponse","joined_member","owner__nickname","can_change_joined_members","popper-class","form","side","sideOptions","fetch-suggestions","onQuerySearch","onDoneClick","project","fetchOptions","createFilter","queryString","option","toLowerCase","indexOf","cb","text","stagenameOptions","custom-class","step","emails","subjectValue","textValue","onSend","getTarget","email","members","router","success","reason","colors","adapter","Completed","Dropped","Delayed","getHasButtons","Timeline","StageFabrics","UsersDialog","CreateStageDialog","StageEditDialog","InformDialog","EndDialog","store","rightContainer","usersDialog","createStageDialog","editStageDialog","informDialog","endDialog","garmentFactories","fetchStageDetail","$el","scrollTop","loadingInstance","factories","brands","start_fabric","fabricResponse","dispatch","replace","close","can_add_stage","_id","size","disable-transitions","onCloseTag","context","UA"],"mappings":"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","file":"js/ProjectDetail.557449c4.js","sourcesContent":["var userAgent = require('../internals/engine-user-agent');\n\nvar firefox = userAgent.match(/firefox\\/(\\d+)/i);\n\nmodule.exports = !!firefox && +firefox[1];\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./StageFabricsDuplicateDialog.vue?vue&type=style&index=0&id=2dd2201c&scoped=true&lang=stylus\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FabricCardSelectable.vue?vue&type=style&index=0&id=e03ddc20&scoped=true&lang=stylus\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CreateStageDialog.vue?vue&type=style&index=0&id=3173ea18&scoped=true&lang=stylus\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./StageEditDialog.vue?vue&type=style&index=0&id=cbff4862&scoped=true&lang=stylus\"","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar fails = require('../internals/fails');\nvar internalSort = require('../internals/array-sort');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return String(x) > String(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aFunction(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? nativeSort.call(array) : nativeSort.call(array, comparefn);\n\n    var items = [];\n    var arrayLength = toLength(array.length);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) items.push(array[index]);\n    }\n\n    items = internalSort(items, getSortCompare(comparefn));\n    itemsLength = items.length;\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) delete array[index++];\n\n    return array;\n  }\n});\n","<template>\n  <div id=\"fabric-card-selectable-component\">\n    <div\n      class=\"cover-image\"\n      :style=\"{\n        backgroundImage: `url('${formatImageUrl(data.image_url + '@250-250')}')`\n      }\"\n      @click=\"onImageClick\"\n    >\n      <font-awesome-icon\n        v-if=\"selected\"\n        class=\"icon\"\n        :icon=\"['fas', 'check-square']\"\n      ></font-awesome-icon>\n      <font-awesome-icon\n        v-else\n        class=\"icon\"\n        :icon=\"['fas', 'square']\"\n      ></font-awesome-icon>\n    </div>\n    <div class=\"content-container\">\n      <div class=\"content-wrapper\" :style=\"{ width: 'auto' }\">\n        <h3 class=\"title\">{{ data.name }}</h3>\n      </div>\n      <div class=\"hover-information-wrapper\">\n        <p class=\"description\">{{ data.real_composition }}</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, toRefs, PropType } from \"vue\";\nimport { formatImageUrl } from \"@/utils/image\";\nimport { FabricCardSelectableEmit, FabricResult } from \"@/typings/fabric\";\n\nconst Component = defineComponent({\n  name: \"FabricCard\",\n  props: {\n    data: {\n      type: Object as PropType<FabricResult>,\n      default: () => ({})\n    },\n    selected: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props, { emit }) {\n    const { data, selected } = toRefs(props);\n\n    const onImageClick = async () => {\n      const params: FabricCardSelectableEmit = {\n        id: data.value.id,\n        selected: selected.value,\n        data: data.value\n      };\n      emit(\"select\", params);\n    };\n\n    return {\n      onImageClick,\n      formatImageUrl\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#fabric-card-selectable-component\n  width 100%\n  border solid 1px $color-secondary\n  &:hover\n    .hover-information-wrapper\n      display block !important\n\n  .cover-image\n    position relative\n    width 100%\n    height 0\n    padding-bottom 100%\n    background-repeat no-repeat\n    background-position center\n    background-size cover\n    cursor pointer\n\n    .icon\n      position absolute\n      top -15px\n      right -15px\n      width 30px\n      height 30px\n      color $color-secondary\n      background white\n\n  .content-container\n    position relative\n    flex(flex-start, center)\n    height 45px\n    padding 15px\n\n    .content-wrapper\n      .title\n        text-align left\n        font-size $font-size-large\n        margin-bottom 5px\n\n    .hover-information-wrapper\n      display none\n      border-right solid 1px $color-secondary\n      border-bottom solid 1px $color-secondary\n      border-left solid 1px $color-secondary\n      position absolute\n      z-index 9\n      bottom 0\n      left -1px\n      right -1px\n      transform translateY(100%)\n      background white\n      padding 15px\n      &::before\n        position absolute\n        content ''\n        width 90%\n        height 1px\n        background $color-secondary\n        top 0\n        left 5%\n      .description\n        text-align left\n        font-size $font-size-small\n        font-weight 60\n</style>\n","\nimport { defineComponent, toRefs, PropType } from \"vue\";\nimport { formatImageUrl } from \"@/utils/image\";\nimport { FabricCardSelectableEmit, FabricResult } from \"@/typings/fabric\";\n\nconst Component = defineComponent({\n  name: \"FabricCard\",\n  props: {\n    data: {\n      type: Object as PropType<FabricResult>,\n      default: () => ({})\n    },\n    selected: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props, { emit }) {\n    const { data, selected } = toRefs(props);\n\n    const onImageClick = async () => {\n      const params: FabricCardSelectableEmit = {\n        id: data.value.id,\n        selected: selected.value,\n        data: data.value\n      };\n      emit(\"select\", params);\n    };\n\n    return {\n      onImageClick,\n      formatImageUrl\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./FabricCardSelectable.vue?vue&type=template&id=e03ddc20&scoped=true\"\nimport script from \"./FabricCardSelectable.vue?vue&type=script&lang=ts\"\nexport * from \"./FabricCardSelectable.vue?vue&type=script&lang=ts\"\n\nimport \"./FabricCardSelectable.vue?vue&type=style&index=0&id=e03ddc20&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-e03ddc20\"\n\nexport default script","var userAgent = require('../internals/engine-user-agent');\n\nvar webkit = userAgent.match(/AppleWebKit\\/(\\d+)\\./);\n\nmodule.exports = !!webkit && +webkit[1];\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Timeline.vue?vue&type=style&index=0&id=37a57c28&scoped=true&lang=stylus\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FilterTag.vue?vue&type=style&index=0&id=b8791da2&scoped=true&lang=stylus\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EndDialog.vue?vue&type=style&index=0&id=49821e12&scoped=true&lang=stylus\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UsersDialog.vue?vue&type=style&index=0&id=ac59c5ee&scoped=true&lang=stylus\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CreateStageDialog.vue?vue&type=style&index=1&id=3173ea18&lang=stylus\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProjectDetail.vue?vue&type=style&index=1&id=43f62cba&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProjectDetail.vue?vue&type=style&index=0&id=43f62cba&scoped=true&lang=stylus\"","// TODO: use something more complex like timsort?\nvar floor = Math.floor;\n\nvar mergeSort = function (array, comparefn) {\n  var length = array.length;\n  var middle = floor(length / 2);\n  return length < 8 ? insertionSort(array, comparefn) : merge(\n    mergeSort(array.slice(0, middle), comparefn),\n    mergeSort(array.slice(middle), comparefn),\n    comparefn\n  );\n};\n\nvar insertionSort = function (array, comparefn) {\n  var length = array.length;\n  var i = 1;\n  var element, j;\n\n  while (i < length) {\n    j = i;\n    element = array[i];\n    while (j && comparefn(array[j - 1], element) > 0) {\n      array[j] = array[--j];\n    }\n    if (j !== i++) array[j] = element;\n  } return array;\n};\n\nvar merge = function (left, right, comparefn) {\n  var llength = left.length;\n  var rlength = right.length;\n  var lindex = 0;\n  var rindex = 0;\n  var result = [];\n\n  while (lindex < llength || rindex < rlength) {\n    if (lindex < llength && rindex < rlength) {\n      result.push(comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]);\n    } else {\n      result.push(lindex < llength ? left[lindex++] : right[rindex++]);\n    }\n  } return result;\n};\n\nmodule.exports = mergeSort;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./InformDialog.vue?vue&type=style&index=0&id=e9d000fa&scoped=true&lang=stylus\"","<template>\n  <div id=\"project-detail-component\">\n    <div class=\"top-container\">\n      <div class=\"title-wrapper\" v-if=\"projectData\">\n        <h1>{{ projectData.name }}</h1>\n        <el-tag effect=\"dark\" :color=\"getTagColor(projectData.status)\">\n          {{ projectData.status }}\n        </el-tag>\n        <p>\n          Expected Finish Time:\n          {{ dayjs(projectData.expected_end_at).format(\"YYYY-MM-DD\") }}\n        </p>\n        <p>Brand: {{ projectData.company.buyer.name }}</p>\n        <p v-if=\"projectData.season.length\">\n          Season: {{ projectData.season.join(\", \") }}\n        </p>\n        <p v-if=\"projectData.garment_factory\">\n          Garment Factory:\n          {{ getGarmentFactoryName(projectData.garment_factory) }}\n        </p>\n      </div>\n\n      <div class=\"right-container\">\n        <el-button\n          v-if=\"projectData && projectData.can_view_joined_members\"\n          type=\"info\"\n          @click=\"onUsersClick\"\n        >\n          Users\n        </el-button>\n        <el-button\n          v-if=\"hasButtons\"\n          v-permission=\"'project_status_update'\"\n          type=\"success\"\n          @click=\"onAddStageClick\"\n        >\n          Add Stage\n        </el-button>\n        <el-button\n          v-if=\"projectStage && projectStage.id === newestId && hasButtons\"\n          v-permission=\"'project_stage_update'\"\n          type=\"success\"\n          @click=\"onEditStageClick\"\n        >\n          Edit Stage\n        </el-button>\n        <el-button v-if=\"hasButtons\" type=\"success\" @click=\"onInformClick\"\n          >Inform</el-button\n        >\n        <el-button\n          v-if=\"projectData && hasButtons\"\n          v-permission=\"'project_status_update'\"\n          type=\"success\"\n          @click=\"onEndClick\"\n        >\n          End\n        </el-button>\n      </div>\n    </div>\n\n    <div class=\"main-container\" v-if=\"projectData\">\n      <el-row :gutter=\"40\" style=\"margin: 0;\">\n        <el-col class=\"left-container\" :span=\"8\" style=\"padding-left: 0;\">\n          <Timeline\n            :company=\"projectData.company\"\n            :stages=\"projectData.stages\"\n            :stage=\"stageData\"\n            :fabric=\"fabricData\"\n            @click-stage=\"onStageClick\"\n          ></Timeline>\n        </el-col>\n\n        <el-col\n          class=\"right-container\"\n          :span=\"16\"\n          style=\"padding-right: 0;\"\n          ref=\"rightContainer\"\n        >\n          <template v-if=\"stageData\">\n            <div class=\"card\">\n              <h3 class=\"title\">Stage</h3>\n              <p class=\"content\">{{ stageData.name }}</p>\n            </div>\n\n            <div class=\"card\">\n              <h3 class=\"title\">Price</h3>\n              <p class=\"content\">{{ stageData.price }}</p>\n            </div>\n\n            <div class=\"card\">\n              <h3 class=\"title\">Created Date</h3>\n              <p class=\"content\">\n                {{ dayjs(stageData.created_at).format(\"YYYY.MM.DD\") }}\n              </p>\n            </div>\n\n            <div class=\"card\">\n              <h3 class=\"title\">Description</h3>\n              <p class=\"content\">{{ stageData.description || \"Empty...\" }}</p>\n              <div class=\"report-container\">\n                <div\n                  v-for=\"file in stageData.stageattachements\"\n                  :key=\"file.id\"\n                  class=\"report-item\"\n                  @click=\"onAttachmentDownload(file)\"\n                >\n                  <font-awesome-icon\n                    class=\"icon\"\n                    :icon=\"['far', 'file']\"\n                  ></font-awesome-icon>\n                  <p>{{ file.name }}</p>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"card\">\n              <StageFabrics\n                :stage-data=\"stageData\"\n                :fabric-id=\"fabricData ? fabricData.id : null\"\n                :project-id=\"parseInt(id, 10)\"\n                @load=\"onStageFabricsLoad\"\n              ></StageFabrics>\n            </div>\n            <div class=\"card\">\n              <h3 class=\"title\">Discussion</h3>\n              <div class=\"input-discussion\">\n                <font-awesome-icon\n                  class=\"user\"\n                  :icon=\"['far', 'user-circle']\"\n                ></font-awesome-icon>\n                <div\n                  :disabled=\"!isOpenInputDiscussion\"\n                  class=\"textarea-container\"\n                >\n                  <textarea\n                    v-model=\"discussionValue\"\n                    name=\"text\"\n                    rows=\"1\"\n                    placeholder=\"Write a comment...\"\n                    @keydown.enter.exact.prevent\n                    @keydown.enter.shift.prevent\n                    @keydown.enter.alt.prevent\n                    @keyup.enter.exact=\"onDiscuss\"\n                    @keydown.enter.shift.exact=\"onNewline\"\n                    @keydown.enter.alt.exact=\"onNewline\"\n                  ></textarea>\n                  <el-button\n                    icon=\"el-icon-position\"\n                    @click=\"onDiscuss\"\n                  ></el-button>\n                </div>\n                <div class=\"upload-wrapper\">\n                  <font-awesome-icon\n                    class=\"paperclip\"\n                    :icon=\"['fas', 'paperclip']\"\n                    @click=\"onUploadClick\"\n                  ></font-awesome-icon>\n                  <div v-if=\"filesStore\" class=\"count\">\n                    {{ filesStore.length }}\n                  </div>\n                </div>\n              </div>\n              <div\n                v-for=\"item in projectData.discussions\"\n                :key=\"item\"\n                class=\"chat-item\"\n              >\n                <div class=\"avatar-container\">\n                  <font-awesome-icon\n                    class=\"icon\"\n                    :icon=\"['far', 'user-circle']\"\n                  ></font-awesome-icon>\n                  <div class=\"name-container\">\n                    <div class=\"name-wrapper\">\n                      <div class=\"name\">\n                        {{ item.nickname || item.username }}\n                      </div>\n                      <time>{{\n                        dayjs(item.created_at).format(\"YYYY-MM-DD hh:mm:ss\")\n                      }}</time>\n                    </div>\n                    <div v-if=\"item.is_me\" class=\"console-wrapper\">\n                      <font-awesome-icon\n                        v-if=\"editDiscussionId !== item.id\"\n                        class=\"icon\"\n                        :icon=\"['fas', 'edit']\"\n                        @click=\"editDiscussionId = item.id\"\n                      ></font-awesome-icon>\n                      <font-awesome-icon\n                        v-if=\"editDiscussionId !== item.id\"\n                        class=\"icon\"\n                        :icon=\"['far', 'trash-alt']\"\n                        @click=\"onDiscussionDeleteClick(item.id)\"\n                      ></font-awesome-icon>\n                      <font-awesome-icon\n                        v-if=\"editDiscussionId === item.id\"\n                        class=\"icon icon-check\"\n                        :icon=\"['fas', 'check']\"\n                        @click=\"onDiscussionEditClick(item.id, item.message)\"\n                      ></font-awesome-icon>\n                      <font-awesome-icon\n                        v-if=\"editDiscussionId === item.id\"\n                        class=\"icon icon-close\"\n                        :icon=\"['fas', 'times']\"\n                        @click=\"editDiscussionId = -1\"\n                      ></font-awesome-icon>\n                    </div>\n                  </div>\n                </div>\n                <div v-if=\"editDiscussionId === item.id\" class=\"edit-content\">\n                  <el-input\n                    type=\"textarea\"\n                    v-model=\"item.message\"\n                    :rows=\"3\"\n                    clearable\n                  >\n                  </el-input>\n                  <div class=\"files-wrapper\">\n                    <div\n                      v-for=\"file in item.attachements\"\n                      :key=\"file.id\"\n                      class=\"file-item\"\n                    >\n                      <font-awesome-icon\n                        class=\"cancel-icon\"\n                        :icon=\"['fas', 'times-circle']\"\n                        @click=\"onDiscussionFileDeleteClick(file.id)\"\n                      ></font-awesome-icon>\n                      <font-awesome-icon\n                        class=\"icon\"\n                        :icon=\"['far', 'file']\"\n                      ></font-awesome-icon>\n                      <p>{{ file.name }}</p>\n                    </div>\n                  </div>\n                </div>\n                <div v-else class=\"content\">\n                  <p\n                    class=\"message\"\n                    v-for=\"(msg, index) in item.message.split('\\n')\"\n                    :key=\"index\"\n                  >\n                    {{ msg }}\n                  </p>\n                  <div class=\"files-wrapper\">\n                    <div\n                      v-for=\"file in item.attachements\"\n                      :key=\"file.id\"\n                      class=\"file-item\"\n                      @click=\"onAttachmentDownload(file)\"\n                    >\n                      <font-awesome-icon\n                        class=\"icon\"\n                        :icon=\"['far', 'file']\"\n                      ></font-awesome-icon>\n                      <p>{{ file.name }}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </template>\n        </el-col>\n      </el-row>\n    </div>\n\n    <UsersDialog ref=\"usersDialog\"></UsersDialog>\n    <CreateStageDialog\n      ref=\"createStageDialog\"\n      @load=\"onLoad\"\n    ></CreateStageDialog>\n    <StageEditDialog ref=\"editStageDialog\" @load=\"onLoad\"></StageEditDialog>\n    <InformDialog ref=\"informDialog\"></InformDialog>\n    <EndDialog ref=\"endDialog\" @load=\"onLoad\"></EndDialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, onMounted, watch, toRefs, computed } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport dayjs from \"dayjs\";\n\nimport Timeline from \"./Timeline.vue\";\nimport StageFabrics from \"./StageFabrics.vue\";\nimport UsersDialog from \"./UsersDialog.vue\";\nimport CreateStageDialog from \"./CreateStageDialog.vue\";\nimport StageEditDialog from \"./StageEditDialog.vue\";\nimport InformDialog from \"./InformDialog.vue\";\nimport EndDialog from \"./EndDialog.vue\";\n\nimport { formatImageUrl, loading } from \"@/utils\";\nimport {\n  deleteDicussionFile,\n  getAvaliableOptions,\n  getProject,\n  getProjectStage,\n  postCreateDiscussion,\n  postDeleteDiscussion,\n  postEditDiscussion\n} from \"@/apis/project\";\nimport {\n  Attachment,\n  DiscussionInput,\n  Project,\n  ProjectStage,\n  Stage\n} from \"@/typings/project\";\nimport { FabricDetailResponse } from \"@/typings/fabric\";\nimport { getFabric } from \"@/apis/fabric\";\nimport { iCreateDialog } from \"@/typings/component\";\nimport { ElNotification } from \"element-plus\";\nimport { useStore } from \"vuex\";\nimport { PostNotificationReadByProject } from \"@/typings/store\";\n\nconst colors = [\"#5470c6\", \"#91cc76\", \"#f8c858\", \"#e66\"];\n\nconst getTagColor = (tag: string): string => {\n  const adapter: Adapter<string> = {\n    \"In Progress\": colors[0],\n    Completed: colors[1],\n    \"Completed but delayed\": colors[1],\n    Dropped: colors[3],\n    Delayed: colors[2],\n    default: \"\"\n  };\n  return adapter[tag] || adapter.default;\n};\n\nconst getHasButtons = (project: Project | null): boolean => {\n  if (!project) return false;\n  const adapter: Adapter<boolean> = {\n    \"In Progress\": true,\n    Completed: true,\n    \"Completed but delayed\": false,\n    Dropped: false,\n    Delayed: true,\n    default: false\n  };\n  return adapter[project.status] || adapter.default;\n};\n\nconst Component = defineComponent({\n  name: \"ProjectDetail\",\n  components: {\n    Timeline,\n    StageFabrics,\n    UsersDialog,\n    CreateStageDialog,\n    StageEditDialog,\n    InformDialog,\n    EndDialog\n  },\n  props: {\n    id: {\n      type: String,\n      default: \"\"\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const router = useRouter();\n    const { id } = toRefs(props);\n    const rightContainer = ref<iCreateDialog | null>(null)\n    const usersDialog = ref<iCreateDialog | null>(null);\n    const createStageDialog = ref<iCreateDialog | null>(null);\n    const editStageDialog = ref<iCreateDialog | null>(null);\n    const informDialog = ref<iCreateDialog | null>(null);\n    const endDialog = ref<iCreateDialog | null>(null);\n\n    const projectData = ref<Project | null>(null);\n    const projectStage = ref<ProjectStage | null>(null);\n    const fabricData = ref<FabricDetailResponse | null>(null);\n    const stageData = ref<Stage | null>(null);\n    const garmentFactories = ref<{ id: number; name: string }[] | null>(null);\n    const discussionValue = ref(\"\");\n    const editDiscussionId = ref(-1);\n    const isOpenInputDiscussion = ref(true);\n    const filesStore = ref<FileList | null>(null);\n    const newestId = ref(-1);\n\n    const hasButtons = computed(() => getHasButtons(projectData.value));\n\n    const getGarmentFactoryName = (id: number): string => {\n      if (!garmentFactories.value) return \"\";\n      const target = garmentFactories.value!.find(\n        (it: { id: number; name: string }) => it.id === id\n      );\n      return target ? target.name : \"\";\n    };\n\n    const fetchStageDetail = async (stage: ProjectStage) => {\n      projectStage.value = stage;\n      const { data } = await getProjectStage(stage.id);\n      stageData.value = data;\n      // @ts-ignore\n      rightContainer.value && (rightContainer.value.$el.scrollTop = 0)\n    };\n\n    const init = async () => {\n      const loadingInstance = loading();\n      try {\n        const { data: factories } = await getAvaliableOptions(\n          \"garment_factory\"\n        );\n        garmentFactories.value = factories.brands;\n        const { data } = await getProject(parseInt(id.value, 10));\n        projectData.value = data;\n        if (data.stages.length) {\n          const target = data.stages.sort((a, b) => b.id - a.id)[0];\n          newestId.value = target.id;\n          await fetchStageDetail(target);\n        }\n        if (data.start_fabric) {\n          const { data: fabricResponse } = await getFabric(data.start_fabric);\n          fabricData.value = fabricResponse;\n        }\n\n        // Set all notifications read.\n        await store.dispatch(\n          PostNotificationReadByProject,\n          parseInt(id.value, 10)\n        );\n      } catch (_) {\n        await router.replace({ name: \"Error\" });\n      } finally {\n        loadingInstance.close();\n      }\n    };\n\n    onMounted(init);\n    watch([id], init);\n\n    const onUsersClick = () => {\n      if (!usersDialog.value || !projectData.value) return;\n      usersDialog.value.open(projectData.value);\n    };\n\n    const onAddStageClick = () => {\n      if (!createStageDialog.value || !projectData.value) return;\n      if (!projectData.value.can_add_stage) {\n        return ElNotification({\n          type: \"warning\",\n          title: \"No permission\",\n          message: \"You have no permission to do this.\"\n        });\n      }\n      createStageDialog.value.open(projectData.value);\n    };\n    const onEditStageClick = () => {\n      if (!editStageDialog.value || !projectStage.value) return;\n      editStageDialog.value.open({\n        project: projectData.value,\n        stage: projectStage.value\n      });\n    };\n    const onInformClick = () => {\n      if (!informDialog.value || !projectData.value) return;\n      informDialog.value.open(projectData.value);\n    };\n    const onEndClick = () => {\n      if (!endDialog.value || !projectData.value) return;\n      endDialog.value.open(projectData.value);\n    };\n    const onStageClick = async (data: ProjectStage) => {\n      await fetchStageDetail(data);\n    };\n    const onNewline = () => {\n      discussionValue.value = `${discussionValue.value}\\n`;\n    };\n    const onDiscuss = async () => {\n      if (!discussionValue.value && !filesStore.value) return;\n\n      isOpenInputDiscussion.value = false;\n      try {\n        const params: DiscussionInput = {\n          project: parseInt(id.value, 10),\n          message: discussionValue.value\n        };\n        if (filesStore.value) params.files = filesStore.value;\n\n        // Reset\n        discussionValue.value = \"\";\n        filesStore.value = null;\n\n        await postCreateDiscussion(params);\n\n        // re-fetch\n        const { data } = await getProject(parseInt(id.value, 10));\n        projectData.value = data;\n      } finally {\n        isOpenInputDiscussion.value = true;\n      }\n    };\n    const onDiscussionEditClick = async (_id: number, message: string) => {\n      await postEditDiscussion(_id, message);\n      const { data } = await getProject(parseInt(id.value, 10));\n      projectData.value = data;\n      editDiscussionId.value = -1;\n    };\n    const onDiscussionDeleteClick = async (_id: number) => {\n      await postDeleteDiscussion(_id);\n      ElNotification({\n        type: \"success\",\n        title: \"Delete Discussion\",\n        message: \"Success delete discussion.\"\n      });\n      const { data } = await getProject(parseInt(id.value, 10));\n      projectData.value = data;\n    };\n    const onDiscussionFileDeleteClick = async (_id: number) => {\n      await deleteDicussionFile(_id);\n      ElNotification({\n        type: \"success\",\n        title: \"Delete File\",\n        message: \"Success delete file.\"\n      });\n      const { data } = await getProject(parseInt(id.value, 10));\n      projectData.value = data;\n    };\n    const onUploadClick = () => {\n      if (!projectStage.value) return;\n\n      const element = document.createElement(\"input\");\n      element.type = \"file\";\n      element.accept = \"image/*\";\n      element.multiple = true;\n      element.addEventListener(\"change\", async () => {\n        if (!projectStage.value) return;\n\n        if (element.files) {\n          filesStore.value = element.files;\n        }\n      });\n      element.click();\n    };\n\n    const onAttachmentDownload = (data: Attachment) => {\n      window.open(formatImageUrl(data.file));\n    };\n\n    const onLoad = async () => {\n      await init();\n    };\n\n    const onStageFabricsLoad = async () => {\n      if (!projectStage.value) return;\n      const { data } = await getProjectStage(projectStage.value.id);\n      stageData.value = data;\n    };\n\n    return {\n      rightContainer,\n      usersDialog,\n      createStageDialog,\n      editStageDialog,\n      informDialog,\n      endDialog,\n      projectData,\n      fabricData,\n      stageData,\n      garmentFactories,\n      discussionValue,\n      isOpenInputDiscussion,\n      filesStore,\n      projectStage,\n      newestId,\n      editDiscussionId,\n      hasButtons,\n\n      onUsersClick,\n      onAddStageClick,\n      onEditStageClick,\n      onInformClick,\n      onEndClick,\n      onStageClick,\n      onNewline,\n      onDiscuss,\n      onDiscussionEditClick,\n      onDiscussionDeleteClick,\n      onDiscussionFileDeleteClick,\n      onUploadClick,\n      onAttachmentDownload,\n      onLoad,\n      onStageFabricsLoad,\n\n      getTagColor,\n      getGarmentFactoryName,\n      dayjs\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#project-detail-component\n  background-color $color-background\n  padding 30px 0 0\n  .top-container\n    flex(space-between, flex-start)\n    margin-bottom 20px\n    height 180px\n    .title-wrapper\n      h1\n        margin-top 15px\n        font-size $font-size-zoom-title\n      :deep() .el-tag\n        margin-top 10px\n        border-color transparent\n      p\n        margin-top 10px\n        font-size $font-size-lg2x\n    .right-container\n       margin-top 15px\n       flex()\n       :deep() .el-button\n         margin-right 15px\n\n  .main-container\n    padding 30px 0\n    .left-container\n      height calc(100vh - 340px)\n      overflow-y scroll\n\n    .right-container\n      height calc(100vh - 340px)\n      overflow-y scroll\n\n    .card\n      background white\n      border-radius 15px\n      box-sizing border-box\n      padding 15px 30px\n      margin-bottom 30px\n      width 100%\n      .input-discussion\n        flex()\n        padding-bottom 15px\n        margin 15px 0\n        border-bottom 1px solid $color-gray\n        width 100%\n        :deep() .el-input\n          width calc(100% - 84px)\n        :deep() .el-icon-position\n          font-weight 600\n          font-size 16px\n        .user\n          width 30px\n          height 30px\n          margin-right 15px\n        .upload-wrapper\n          position relative\n          .paperclip\n            width 24px\n            height 24px\n            margin-left 15px\n            cursor pointer\n          .count\n            position absolute\n            right -10px\n            top -10px\n            border-radius 50%\n            flex()\n            width 18px\n            height 18px\n            font-size $font-size-normal\n            background $color-active\n            color white\n\n      .title\n        font-size $font-size-large\n        font-weight 600\n        border-bottom 1px solid $color-black\n        padding-bottom 10px\n        width 200px\n      .content\n        font-size $font-size-large\n        font-weight 400\n        line-height 30px\n        margin 10px 0\n        .message\n          min-height 30px\n        .files-wrapper\n          flex(flex-end)\n          flex-wrap wrap\n          .file-item\n            display inline-block\n            flex(flex-end)\n            cursor pointer\n            padding-top 10px\n            font-size $font-size-lg2x\n            margin-right 10px\n            .icon\n              margin-right 10px\n\n    .report-container\n      flex(flex-end)\n      padding 15px 0\n      .report-item\n        flex(flex-end)\n        width 200px\n        cursor pointer\n        .icon\n          width 30px\n          height 30px\n          margin-right 15px\n        p\n          font-size $font-size-lg3x\n          font-weight bold\n\n    .chat-item\n      &:hover\n        .name-container\n          .console-wrapper\n            .icon\n              display block !important\n      .avatar-container\n        flex(flex-start)\n        margin 15px 0\n        .icon\n          width 30px\n          height 30px\n          margin-right 15px\n        .name-container\n          width 100%\n          flex(space-between, flex-end)\n          .name-wrapper\n            flex()\n            .name\n              font-size $font-size-large\n              font-weight 500\n              margin-right 10px\n            time\n              font-size $font-size-small\n          .console-wrapper\n            flex()\n            .icon\n              display none\n              width 15px\n              height 15px\n              margin 0 5px\n              cursor pointer\n            .icon-check\n              display block\n              color $color-active\n            .icon-close\n              display block\n\n      .edit-content\n        position relative\n        margin-left 45px\n        :deep() .el-textarea__inner\n          line-height 30px\n          font-size $font-size-large\n          padding 15px\n          border 2px solid $color-active\n\n        .files-wrapper\n          position absolute\n          bottom 15px\n          right 15px\n          flex(flex-end)\n          flex-wrap wrap\n          .file-item\n            position relative\n            display inline-block\n            flex(flex-end)\n            padding-top 10px\n            font-size $font-size-lg2x\n            margin-right 10px\n            .cancel-icon\n              width 10px\n              height 10px\n              position absolute\n              left -5px\n              top 5px\n              cursor pointer\n            .icon\n              margin-right 10px\n      .content\n        background $color-gray\n        border-radius 10px\n        padding 15px\n        margin-left 45px\n    .bottom-container\n      flex(flex-end)\n</style>\n\n<style>\n.textarea-container {\n  display: flex;\n  align-items: center;\n  flex: 1;\n}\n.textarea-container textarea {\n  width: 100%;\n  padding: 11.5px;\n}\n</style>\n","<template>\n  <div id=\"timeline-component\">\n    <div class=\"top-container\">\n      <div class=\"brand\">\n        <img\n          :src=\"formatImageUrl(company.buyer.logo)\"\n          :alt=\"company.buyer.name\"\n        />\n      </div>\n      <div class=\"brand\">\n        <img :src=\"formatImageUrl(company.supplier.logo)\" alt=\"\" />\n      </div>\n    </div>\n\n    <div class=\"main-container\">\n      <div\n        v-for=\"stage in formatStages\"\n        :key=\"stage.id\"\n        :class=\"{ active: stage.id === activeStageId }\"\n      >\n        <div\n          class=\"dot-solid\"\n          :class=\"{\n            right: stage.side === company.supplier.id,\n            left: stage.side === company.buyer.id\n          }\"\n          @click.stop=\"onDotClick(stage)\"\n        >\n          <div class=\"content primary-container\">\n            <p class=\"time\">\n              {{ dayjs(stage.created_at).format(\"YYYY.MM.DD\") }}\n            </p>\n            <p class=\"name\">{{ stage.name }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"fabric\" class=\"fabric-wrapper\">\n      <img\n        v-if=\"mainFile\"\n        :src=\"formatImageUrl(mainFile) + '@150-150'\"\n        :alt=\"fabric.name\"\n        @click=\"onImageClick\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, toRefs, computed } from \"vue\";\nimport dayjs from \"dayjs\";\nimport { ProjectCompany, ProjectStage, Stage } from \"@/typings/project\";\nimport { formatImageUrl } from \"@/utils\";\nimport { FabricDetailResponse } from \"@/typings/fabric\";\n\nconst initCompany = () => ({\n  supplier: { id: -1, name: \"\", logo: \"\" },\n  buyer: { id: -1, name: \"\", logo: \"\" }\n});\n\nconst Component = defineComponent({\n  name: \"Timeline\",\n  props: {\n    company: {\n      type: Object as PropType<{\n        supplier: ProjectCompany;\n        buyer: ProjectCompany;\n      }>,\n      default: initCompany()\n    },\n    stages: {\n      type: Array as PropType<ProjectStage[]>,\n      default: () => []\n    },\n    stage: {\n      type: Object as PropType<Stage>,\n      default: null\n    },\n    fabric: {\n      type: Object as PropType<FabricDetailResponse>,\n      default: null\n    }\n  },\n  setup(props, { emit }) {\n    const { fabric, stages, stage } = toRefs(props);\n\n    const activeStageId = computed(() => {\n      return stage.value ? stage.value.id : -1;\n    });\n\n    const formatStages = computed(() =>\n      [...stages.value].sort((a, b) =>\n        +dayjs(a.created_at).isBefore(dayjs(b.created_at)) ? 1 : -1\n      )\n    );\n    const mainFile = computed(\n      () => {\n        const target = fabric.value.media.find(it => it.main)\n        return target ? target.file : null\n      }\n    );\n\n    const onDotClick = (data: ProjectStage) => {\n      emit(\"click-stage\", data);\n    };\n\n    const onImageClick = (): void => {\n      const url = `${process.env.VUE_APP_DOMAIN}/web/fabric/${fabric.value.id}`;\n      window.open(url, \"blank\");\n    };\n\n    return {\n      formatStages,\n      mainFile,\n      activeStageId,\n\n      onDotClick,\n      onImageClick,\n\n      dayjs,\n      formatImageUrl\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#timeline-component\n  width 100%\n  .top-container\n    flex(space-between)\n    padding 15px 0\n    .brand\n      background white\n      flex()\n      box-sizing border-box\n      border-radius 50%\n      border 1px solid $color-border-gray\n      overflow hidden\n      width 60px\n      height 60px\n      img\n        width 100%\n        height auto\n\n  .main-container\n    position relative\n    &:before\n      position absolute\n      content ''\n      width 2px\n      height calc(100% - 100px)\n      background $color-black\n      top 50%\n      left 50%\n      transform translate(-50%, -50%)\n      z-index 1\n\n    .dot\n      position relative\n      height 100px\n      &:before\n        box-sizing border-box\n        border 2px solid $color-black\n        background white\n        position absolute\n        content ''\n        top 50%\n        left 50%\n        transform translate(-50%, -50%)\n        width 20px\n        height 20px\n        border-radius 50%\n        z-index 2\n\n    .dot-solid\n      cursor pointer\n      position relative\n      height 100px\n      &:before\n        position absolute\n        background $color-black\n        content ''\n        top 50%\n        left 50%\n        z-index 2\n        transform translate(-50%, -50%)\n        width 12px\n        height 12px\n        border-radius 50%\n\n    .right\n      position relative\n      &:after\n        content ''\n        position absolute\n        top 50%\n        left 50%\n        transform translate(6px, -50%)\n        height 2px\n        width 50px\n        background $color-black\n      .content\n        position absolute\n        top 0\n        left calc(50% + 70px)\n        text-align left\n\n    .left\n      flex(flex-start)\n      &:after\n        content ''\n        position absolute\n        top 50%\n        right 48%\n        transform translate(-10px, -50%)\n        height 2px\n        width 54px\n        background $color-black\n      .content\n        position absolute\n        top 0\n        right calc(50% + 74px)\n        text-align right\n\n    .primary-container\n      flex(center, flex-start)\n      flex-direction column\n      height 100%\n      .time\n        font-size $font-size-small\n        font-weight 400\n      .name\n        font-size $font-size-large\n        font-weight 500\n\n    .secondary-container\n      flex(center, flex-start)\n      flex-direction column\n      height 100%\n      .name\n        font-size $font-size-lg2x\n        font-weight 500\n\n  .active\n    color $color-active\n    .dot-solid\n      &:before\n        background $color-active\n    .right\n      &:after\n        background $color-active\n    .left\n      &:after\n        background $color-active\n\n  .fabric-wrapper\n    flex()\n    img\n      cursor pointer\n      width 150px\n      height 150px\n</style>\n","\nimport { defineComponent, PropType, toRefs, computed } from \"vue\";\nimport dayjs from \"dayjs\";\nimport { ProjectCompany, ProjectStage, Stage } from \"@/typings/project\";\nimport { formatImageUrl } from \"@/utils\";\nimport { FabricDetailResponse } from \"@/typings/fabric\";\n\nconst initCompany = () => ({\n  supplier: { id: -1, name: \"\", logo: \"\" },\n  buyer: { id: -1, name: \"\", logo: \"\" }\n});\n\nconst Component = defineComponent({\n  name: \"Timeline\",\n  props: {\n    company: {\n      type: Object as PropType<{\n        supplier: ProjectCompany;\n        buyer: ProjectCompany;\n      }>,\n      default: initCompany()\n    },\n    stages: {\n      type: Array as PropType<ProjectStage[]>,\n      default: () => []\n    },\n    stage: {\n      type: Object as PropType<Stage>,\n      default: null\n    },\n    fabric: {\n      type: Object as PropType<FabricDetailResponse>,\n      default: null\n    }\n  },\n  setup(props, { emit }) {\n    const { fabric, stages, stage } = toRefs(props);\n\n    const activeStageId = computed(() => {\n      return stage.value ? stage.value.id : -1;\n    });\n\n    const formatStages = computed(() =>\n      [...stages.value].sort((a, b) =>\n        +dayjs(a.created_at).isBefore(dayjs(b.created_at)) ? 1 : -1\n      )\n    );\n    const mainFile = computed(\n      () => {\n        const target = fabric.value.media.find(it => it.main)\n        return target ? target.file : null\n      }\n    );\n\n    const onDotClick = (data: ProjectStage) => {\n      emit(\"click-stage\", data);\n    };\n\n    const onImageClick = (): void => {\n      const url = `${process.env.VUE_APP_DOMAIN}/web/fabric/${fabric.value.id}`;\n      window.open(url, \"blank\");\n    };\n\n    return {\n      formatStages,\n      mainFile,\n      activeStageId,\n\n      onDotClick,\n      onImageClick,\n\n      dayjs,\n      formatImageUrl\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./Timeline.vue?vue&type=template&id=37a57c28&scoped=true\"\nimport script from \"./Timeline.vue?vue&type=script&lang=ts\"\nexport * from \"./Timeline.vue?vue&type=script&lang=ts\"\n\nimport \"./Timeline.vue?vue&type=style&index=0&id=37a57c28&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-37a57c28\"\n\nexport default script","<template>\n  <div id=\"stage-fabrics-component\">\n    <div class=\"top-wrapper\">\n      <h3 class=\"title\">Fabrics</h3>\n      <div class=\"console-wrapper\">\n        <font-awesome-icon\n          class=\"icon\"\n          :icon=\"['far', 'clone']\"\n          @click=\"onReference\"\n        ></font-awesome-icon>\n        <font-awesome-icon\n          class=\"icon\"\n          :icon=\"['fas', 'upload']\"\n          @click=\"onUpload\"\n        ></font-awesome-icon>\n        <font-awesome-icon\n          class=\"icon\"\n          :icon=\"['fas', 'expand-alt']\"\n          @click=\"onExpand\"\n        ></font-awesome-icon>\n      </div>\n    </div>\n    <el-row v-if=\"stageData.stagemedias.length\" :gutter=\"30\">\n      <el-col\n        v-for=\"item in _.splitAt(3, stageData.stagemedias)[0]\"\n        :key=\"item.id\"\n        :span=\"8\"\n      >\n        <img\n          class=\"fabric-image\"\n          :src=\"formatImageUrl(item.image_url)\"\n          :alt=\"'fabric-image-' + item.id\"\n        />\n      </el-col>\n    </el-row>\n    <div class=\"empty\" v-else>\n      <p>No Data</p>\n    </div>\n    <StageFabricsDuplicateDialog\n      ref=\"uploadDialog\"\n      @load=\"onLoad\"\n    ></StageFabricsDuplicateDialog>\n    <StageFabricsDialog ref=\"fabricDialog\"> </StageFabricsDialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, PropType, toRefs } from \"vue\";\nimport * as _ from \"ramda\";\n\nimport StageFabricsDuplicateDialog from \"./StageFabricsDuplicateDialog.vue\";\nimport StageFabricsDialog from \"./StageFabricsDialog.vue\";\nimport { Stage, StageMediaParams } from \"@/typings/project\";\nimport { postStageMediaCreate } from \"@/apis/project\";\nimport { formatImageUrl } from \"@/utils\";\nimport { iCreateDialog } from \"@/typings/component\";\n\nconst Component = defineComponent({\n  name: \"StageFabrics\",\n  components: { StageFabricsDuplicateDialog, StageFabricsDialog },\n  props: {\n    projectId: {\n      type: Number,\n      default: 0\n    },\n    stageData: {\n      type: Object as PropType<Stage>,\n      default: null\n    },\n    fabricId: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(props, { emit }) {\n    const uploadDialog = ref<iCreateDialog | null>(null);\n    const fabricDialog = ref<iCreateDialog | null>(null);\n    const { stageData, projectId } = toRefs(props);\n    const list = ref([]);\n\n    const onReference = () => {\n      if (!uploadDialog.value) return;\n      uploadDialog.value.open({\n        stageId: stageData.value.id,\n        projectId: projectId.value\n      });\n    };\n\n    const onUpload = () => {\n      const element = document.createElement(\"input\");\n      element.type = \"file\";\n      element.accept = \"image/*\";\n      element.multiple = true;\n      element.addEventListener(\"change\", async () => {\n        if (element.files && stageData.value) {\n          for (let i = 0; i < element.files.length; i++) {\n            const params: StageMediaParams = {\n              stage: stageData.value.id,\n              file: element.files[i]\n            };\n            await postStageMediaCreate(params);\n          }\n          emit(\"load\");\n        }\n      });\n      element.click();\n    };\n\n    const onExpand = () => {\n      if (!fabricDialog.value) return;\n      fabricDialog.value.open(stageData.value);\n    };\n\n    const onLoad = () => {\n      emit(\"load\");\n    };\n\n    return {\n      uploadDialog,\n      fabricDialog,\n      list,\n\n      onReference,\n      onUpload,\n      onExpand,\n      onLoad,\n\n      _,\n      formatImageUrl\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#stage-fabrics-component\n  .top-wrapper\n    flex(space-between)\n    padding-bottom 30px\n    .title\n      font-size $font-size-large\n      font-weight 600\n      border-bottom 1px solid $color-black\n      padding-bottom 10px\n      width 200px\n    .console-wrapper\n      flex(space-between)\n      width 100px\n      .icon\n        width 20px\n        height 20px\n        cursor pointer\n  .fabric-image\n    width 100%\n  .empty\n    padding 30px 0\n    text-align center\n    color $color-secondary\n    font-size $font-size-lg3x\n    font-weight 400\n</style>\n","<template>\n  <div id=\"project-stage-fabrics-duplicate-dialog-component\">\n    <el-dialog title=\"Choose Fabric\" v-model=\"visible\" width=\"80%\" top=\"45px\">\n      <div v-if=\"fabricOptions\">\n        <el-row :gutter=\"60\">\n          <el-col\n            v-for=\"item in fabricOptions.results\"\n            :key=\"item.id\"\n            :span=\"6\"\n          >\n            <FabricCardSelectable\n              :data=\"item\"\n              :selected=\"selectValue.includes(item.id)\"\n              @select=\"onFabricSelect\"\n            ></FabricCardSelectable>\n          </el-col>\n        </el-row>\n        <div class=\"pagination-wrapper\">\n          <el-pagination\n            v-if=\"pageCount\"\n            background\n            layout=\"prev, pager, next\"\n            :current-page=\"page\"\n            :page-count=\"pageCount\"\n            @current-change=\"onPaginationChange\"\n          >\n          </el-pagination>\n        </div>\n      </div>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button type=\"info\" @click=\"visible = false\">\n            Cancel\n          </el-button>\n          <el-button type=\"success\" @click=\"onConfirm\">\n            Done\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from \"vue\";\nimport FabricCardSelectable from \"@/components/FabricCardSelectable.vue\";\nimport {\n  FabricCardSelectableEmit,\n  FabricResult,\n  FabricsParams,\n  FabricsResponse\n} from \"@/typings/fabric\";\nimport { getFabrics } from \"@/apis/fabric\";\nimport { postStageMediaCreate } from \"@/apis/project\";\nimport { StageMediaParams } from \"@/typings/project\";\n\nconst Component = defineComponent({\n  name: \"CreateDialog\",\n  components: {\n    FabricCardSelectable\n  },\n  setup(_, { emit }) {\n    const visible = ref(false);\n    const projectId = ref(0);\n    const stageId = ref(0);\n    const selectValue = ref<number[]>([]);\n    const pageCount = ref(0);\n    const page = ref(1);\n\n    const fabricOptions = ref<FabricsResponse | null>(null);\n\n    const init = async () => {\n      const params: FabricsParams = {\n        to_project: projectId.value,\n        page: page.value\n      };\n      const { data } = await getFabrics(params);\n      fabricOptions.value = data;\n      pageCount.value = data.total_pages;\n    };\n\n    const open = async (data: { stageId: number; projectId: number }) => {\n      projectId.value = data.projectId;\n      stageId.value = data.stageId;\n      visible.value = true;\n      await init();\n    };\n\n    const onFabricSelect = (data: FabricCardSelectableEmit) => {\n      if (data.selected) {\n        selectValue.value = selectValue.value.filter(\n          (selectedId: number) => selectedId !== data.id\n        );\n      } else {\n        selectValue.value = selectValue.value.concat(data.id);\n      }\n    };\n\n    const onConfirm = async () => {\n      if (!fabricOptions.value) return;\n\n      selectValue.value.forEach(async (selectedId: number) => {\n        const target = fabricOptions.value!.results.find(\n          (it: FabricResult) => it.id === selectedId\n        );\n        if (!target) return;\n        const params: StageMediaParams = {\n          stage: stageId.value,\n          demo_fabric: target.id\n        };\n        await postStageMediaCreate(params);\n      });\n\n      emit(\"load\");\n      visible.value = false;\n    };\n\n    const onPaginationChange = async (_page: number) => {\n      page.value = _page;\n      await init();\n    };\n\n    return {\n      visible,\n      selectValue,\n      fabricOptions,\n      page,\n      pageCount,\n\n      open,\n      onConfirm,\n      onFabricSelect,\n      onPaginationChange\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#project-stage-fabrics-duplicate-dialog-component\n  :deep() .el-col\n    margin-bottom 30px\n\n  .pagination-wrapper\n    flex()\n    width 100%\n    padding 30px 0 0\n</style>\n","\nimport { defineComponent, ref } from \"vue\";\nimport FabricCardSelectable from \"@/components/FabricCardSelectable.vue\";\nimport {\n  FabricCardSelectableEmit,\n  FabricResult,\n  FabricsParams,\n  FabricsResponse\n} from \"@/typings/fabric\";\nimport { getFabrics } from \"@/apis/fabric\";\nimport { postStageMediaCreate } from \"@/apis/project\";\nimport { StageMediaParams } from \"@/typings/project\";\n\nconst Component = defineComponent({\n  name: \"CreateDialog\",\n  components: {\n    FabricCardSelectable\n  },\n  setup(_, { emit }) {\n    const visible = ref(false);\n    const projectId = ref(0);\n    const stageId = ref(0);\n    const selectValue = ref<number[]>([]);\n    const pageCount = ref(0);\n    const page = ref(1);\n\n    const fabricOptions = ref<FabricsResponse | null>(null);\n\n    const init = async () => {\n      const params: FabricsParams = {\n        to_project: projectId.value,\n        page: page.value\n      };\n      const { data } = await getFabrics(params);\n      fabricOptions.value = data;\n      pageCount.value = data.total_pages;\n    };\n\n    const open = async (data: { stageId: number; projectId: number }) => {\n      projectId.value = data.projectId;\n      stageId.value = data.stageId;\n      visible.value = true;\n      await init();\n    };\n\n    const onFabricSelect = (data: FabricCardSelectableEmit) => {\n      if (data.selected) {\n        selectValue.value = selectValue.value.filter(\n          (selectedId: number) => selectedId !== data.id\n        );\n      } else {\n        selectValue.value = selectValue.value.concat(data.id);\n      }\n    };\n\n    const onConfirm = async () => {\n      if (!fabricOptions.value) return;\n\n      selectValue.value.forEach(async (selectedId: number) => {\n        const target = fabricOptions.value!.results.find(\n          (it: FabricResult) => it.id === selectedId\n        );\n        if (!target) return;\n        const params: StageMediaParams = {\n          stage: stageId.value,\n          demo_fabric: target.id\n        };\n        await postStageMediaCreate(params);\n      });\n\n      emit(\"load\");\n      visible.value = false;\n    };\n\n    const onPaginationChange = async (_page: number) => {\n      page.value = _page;\n      await init();\n    };\n\n    return {\n      visible,\n      selectValue,\n      fabricOptions,\n      page,\n      pageCount,\n\n      open,\n      onConfirm,\n      onFabricSelect,\n      onPaginationChange\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./StageFabricsDuplicateDialog.vue?vue&type=template&id=2dd2201c&scoped=true\"\nimport script from \"./StageFabricsDuplicateDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./StageFabricsDuplicateDialog.vue?vue&type=script&lang=ts\"\n\nimport \"./StageFabricsDuplicateDialog.vue?vue&type=style&index=0&id=2dd2201c&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-2dd2201c\"\n\nexport default script","<template>\n  <div id=\"project-stage-fabrics-duplicate-dialog-component\">\n    <el-dialog title=\"Fabric\" v-model=\"visible\" width=\"500px\" top=\"45px\">\n      <div class=\"fabric-images-container\">\n        <div class=\"main-image-container\">\n          <div class=\"main-image\">\n            <FabricImageWith3DMode\n              :image=\"formatImageUrl(mainFile)\"\n            ></FabricImageWith3DMode>\n          </div>\n        </div>\n        <el-carousel\n          height=\"150px\"\n          :autoplay=\"false\"\n          arrow=\"always\"\n          indicator-position=\"none\"\n        >\n          <el-carousel-item\n            v-for=\"(item, index) in _.splitEvery(3, list)\"\n            :key=\"index\"\n          >\n            <div class=\"carouse-item\">\n              <img\n                v-for=\"(_item, _index) in item\"\n                :key=\"_index\"\n                class=\"secondary-image\"\n                :class=\"{ active: _item.id === selectedId }\"\n                :src=\"formatImageUrl(_item.image_url) + '@250-250'\"\n                :alt=\"_item.name\"\n                @click=\"onCarouseItemClick(_item.id)\"\n              />\n            </div>\n          </el-carousel-item>\n        </el-carousel>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed } from \"vue\";\nimport * as _ from \"ramda\";\n\nimport FabricImageWith3DMode from \"@/components/FabricImageWith3DMode.vue\";\nimport { Attachment, Stage } from \"@/typings/project\";\nimport { formatImageUrl } from \"@/utils\";\n\nconst Component = defineComponent({\n  name: \"StageFabricsDialog\",\n  components: {\n    FabricImageWith3DMode\n  },\n  setup() {\n    const visible = ref(false);\n    const selectedId = ref(0);\n    const mainFile = ref(\"\");\n    const list = ref<Attachment[]>([]);\n\n    const open = async (data: Stage) => {\n      list.value = data.stagemedias;\n      if (list.value.length) {\n        selectedId.value = list.value[0].id;\n        mainFile.value = list.value[0].image_url;\n      }\n      visible.value = true;\n    };\n\n    const onCarouseItemClick = (id: number) => {\n      selectedId.value = id;\n      const target = list.value.find((it: Attachment) => it.id === id);\n      if (target) {\n        mainFile.value = target.image_url;\n      } else {\n        mainFile.value = \"\";\n      }\n    };\n\n    return {\n      list,\n      visible,\n      mainFile,\n      selectedId,\n\n      open,\n      onCarouseItemClick,\n\n      formatImageUrl,\n      _\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#project-stage-fabrics-duplicate-dialog-component\n  .fabric-images-container\n    .main-image-container\n      position relative\n      width 100%\n      padding-bottom 100%\n      margin-bottom 20px\n      .main-image\n        position absolute\n        top 0\n        right 0\n        bottom 0\n        left 0\n    .carouse-item\n      margin 0\n      height 150px\n      flex(flex-start)\n      img\n        cursor pointer\n\n    .secondary-image\n      width 30%\n      height 120px\n      margin 0 1.5%\n    .active\n      border 2px solid $color-active\n\n  :deep() .el-carousel\n    padding 0 25px\n\n  :deep() .carouse-item\n    margin 0 40px\n\n  :deep() .el-carousel__arrow\n    background transparent\n    color black\n    font-size $font-size-title\n    font-weight 900\n\n  :deep() .el-carousel__arrow--right\n    right -30px\n\n  :deep() .el-carousel__arrow--left\n    left -30px\n\n  :deep() .el-dialog__header\n    .title\n      font-size $font-size-title\n      padding-bottom 10px\n    .description\n      font-size $font-size-lg3x\n</style>\n","\nimport { defineComponent, ref, computed } from \"vue\";\nimport * as _ from \"ramda\";\n\nimport FabricImageWith3DMode from \"@/components/FabricImageWith3DMode.vue\";\nimport { Attachment, Stage } from \"@/typings/project\";\nimport { formatImageUrl } from \"@/utils\";\n\nconst Component = defineComponent({\n  name: \"StageFabricsDialog\",\n  components: {\n    FabricImageWith3DMode\n  },\n  setup() {\n    const visible = ref(false);\n    const selectedId = ref(0);\n    const mainFile = ref(\"\");\n    const list = ref<Attachment[]>([]);\n\n    const open = async (data: Stage) => {\n      list.value = data.stagemedias;\n      if (list.value.length) {\n        selectedId.value = list.value[0].id;\n        mainFile.value = list.value[0].image_url;\n      }\n      visible.value = true;\n    };\n\n    const onCarouseItemClick = (id: number) => {\n      selectedId.value = id;\n      const target = list.value.find((it: Attachment) => it.id === id);\n      if (target) {\n        mainFile.value = target.image_url;\n      } else {\n        mainFile.value = \"\";\n      }\n    };\n\n    return {\n      list,\n      visible,\n      mainFile,\n      selectedId,\n\n      open,\n      onCarouseItemClick,\n\n      formatImageUrl,\n      _\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./StageFabricsDialog.vue?vue&type=template&id=4c875014&scoped=true\"\nimport script from \"./StageFabricsDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./StageFabricsDialog.vue?vue&type=script&lang=ts\"\n\nimport \"./StageFabricsDialog.vue?vue&type=style&index=0&id=4c875014&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-4c875014\"\n\nexport default script","\nimport { defineComponent, ref, PropType, toRefs } from \"vue\";\nimport * as _ from \"ramda\";\n\nimport StageFabricsDuplicateDialog from \"./StageFabricsDuplicateDialog.vue\";\nimport StageFabricsDialog from \"./StageFabricsDialog.vue\";\nimport { Stage, StageMediaParams } from \"@/typings/project\";\nimport { postStageMediaCreate } from \"@/apis/project\";\nimport { formatImageUrl } from \"@/utils\";\nimport { iCreateDialog } from \"@/typings/component\";\n\nconst Component = defineComponent({\n  name: \"StageFabrics\",\n  components: { StageFabricsDuplicateDialog, StageFabricsDialog },\n  props: {\n    projectId: {\n      type: Number,\n      default: 0\n    },\n    stageData: {\n      type: Object as PropType<Stage>,\n      default: null\n    },\n    fabricId: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(props, { emit }) {\n    const uploadDialog = ref<iCreateDialog | null>(null);\n    const fabricDialog = ref<iCreateDialog | null>(null);\n    const { stageData, projectId } = toRefs(props);\n    const list = ref([]);\n\n    const onReference = () => {\n      if (!uploadDialog.value) return;\n      uploadDialog.value.open({\n        stageId: stageData.value.id,\n        projectId: projectId.value\n      });\n    };\n\n    const onUpload = () => {\n      const element = document.createElement(\"input\");\n      element.type = \"file\";\n      element.accept = \"image/*\";\n      element.multiple = true;\n      element.addEventListener(\"change\", async () => {\n        if (element.files && stageData.value) {\n          for (let i = 0; i < element.files.length; i++) {\n            const params: StageMediaParams = {\n              stage: stageData.value.id,\n              file: element.files[i]\n            };\n            await postStageMediaCreate(params);\n          }\n          emit(\"load\");\n        }\n      });\n      element.click();\n    };\n\n    const onExpand = () => {\n      if (!fabricDialog.value) return;\n      fabricDialog.value.open(stageData.value);\n    };\n\n    const onLoad = () => {\n      emit(\"load\");\n    };\n\n    return {\n      uploadDialog,\n      fabricDialog,\n      list,\n\n      onReference,\n      onUpload,\n      onExpand,\n      onLoad,\n\n      _,\n      formatImageUrl\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./StageFabrics.vue?vue&type=template&id=64eb0c4e&scoped=true\"\nimport script from \"./StageFabrics.vue?vue&type=script&lang=ts\"\nexport * from \"./StageFabrics.vue?vue&type=script&lang=ts\"\n\nimport \"./StageFabrics.vue?vue&type=style&index=0&id=64eb0c4e&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-64eb0c4e\"\n\nexport default script","<template>\n  <div id=\"project-users-dialog-component\">\n    <el-dialog title=\"Manage Users\" v-model=\"visible\" width=\"40%\" top=\"45px\">\n      <div class=\"inputs-container\">\n        <div class=\"select-item flex\">\n          <p>Owner: {{ owner }}</p>\n        </div>\n        <div v-if=\"canChange\" class=\"select-item\">\n          <p>Add Users:</p>\n          <el-select v-model=\"selectValue\" filterable placeholder=\"Select\">\n            <el-option\n              v-for=\"item in options\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n              :disabled=\"item.checked\"\n            >\n            </el-option>\n          </el-select>\n        </div>\n        <div class=\"tag-container\" v-if=\"tags.length\">\n          <p>Users:</p>\n          <FilterTag\n            v-for=\"tag in tags\"\n            :key=\"tag.value\"\n            :data=\"tag.label\"\n            :closable=\"canChange\"\n            @close=\"onTagCloseClick(tag.value)\"\n          ></FilterTag>\n        </div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, watch } from \"vue\";\n\nimport FilterTag from \"@/components/FilterTag.vue\";\nimport { OptionItem, OptionItemResponse } from \"@/typings/asideFilter\";\nimport { AvailableMember, JoinedMember, User } from \"@/typings/collection\";\nimport {\n  getProjectAvailableMember,\n  getProjectJoinedMembers,\n  postProjectJoinedMemberUpdate\n} from \"@/apis/project\";\nimport { Project, ProjectUpdateJoinedMemberParams } from \"@/typings/project\";\n\nconst Component = defineComponent({\n  name: \"UsersDialog\",\n  components: {\n    FilterTag\n  },\n  setup() {\n    const visible = ref(false);\n    const projectId = ref(0);\n    const owner = ref(\"\");\n    const canChange = ref(false);\n    const joinedMembers = ref<JoinedMember[]>([]);\n    const availableMembers = ref<AvailableMember[]>([]);\n    const selectValue = ref(\"\");\n    const lock = ref(false);\n\n    const tags = computed<OptionItemResponse[]>(() => {\n      return joinedMembers.value.reduce(\n        (list: OptionItemResponse[], company: JoinedMember) => {\n          const userList = company.users.reduce(\n            (_list: OptionItemResponse[], user: User) => {\n              const item: OptionItemResponse = {\n                label: company.company_name + \"-\" + user.username,\n                value: `${user.id}`\n              };\n              return [..._list, item];\n            },\n            []\n          );\n          return [...list, ...userList];\n        },\n        []\n      );\n    });\n\n    const options = computed<OptionItem[]>(() => {\n      return availableMembers.value.map((item: AvailableMember) => ({\n        label: item.username,\n        value: item.member_id,\n        checked: false\n      }));\n    });\n\n    const init = async () => {\n      if (canChange.value) {\n        const { data: availableResponse } = await getProjectAvailableMember({\n          id: projectId.value,\n          q: \"\"\n        });\n        availableMembers.value = availableResponse;\n      }\n\n      const { data: joinedResponse } = await getProjectJoinedMembers(\n        projectId.value\n      );\n      joinedMembers.value = joinedResponse;\n    };\n\n    watch(selectValue, async id => {\n      if (!id || typeof id !== \"number\") return;\n      const params: ProjectUpdateJoinedMemberParams = {\n        id: projectId.value,\n        joined_member: id\n      };\n      await postProjectJoinedMemberUpdate(params);\n      selectValue.value = \"\";\n      await init();\n    });\n\n    const open = async (data: Project) => {\n      projectId.value = data.id;\n      owner.value = data.owner__nickname;\n      canChange.value = data.can_change_joined_members;\n      visible.value = true;\n      await init();\n    };\n\n    const onTagCloseClick = async (id: number) => {\n      if (lock.value) return;\n\n      lock.value = true;\n      try {\n        const params: ProjectUpdateJoinedMemberParams = {\n          id: projectId.value,\n          joined_member: id\n        };\n        await postProjectJoinedMemberUpdate(params);\n        await init();\n      } finally {\n        lock.value = false;\n      }\n    };\n\n    return {\n      tags,\n      options,\n      visible,\n      canChange,\n      selectValue,\n      owner,\n\n      open,\n      onTagCloseClick\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#project-users-dialog-component\n  .select-item\n    margin-bottom 30px\n    p\n      margin 10px 0\n      font-size 16px\n      font-weight 600\n\n    :deep() .el-select\n      width 100%\n  .flex\n    padding-right 30px\n    flex(space-between)\n    .copy\n      cursor pointer\n      border-bottom 1px solid $color-secondary\n  .tag-container\n    margin-top 20px\n    p\n      margin 10px 0\n      font-size 16px\n      font-weight 600\n</style>\n","\nimport { defineComponent, ref, computed, watch } from \"vue\";\n\nimport FilterTag from \"@/components/FilterTag.vue\";\nimport { OptionItem, OptionItemResponse } from \"@/typings/asideFilter\";\nimport { AvailableMember, JoinedMember, User } from \"@/typings/collection\";\nimport {\n  getProjectAvailableMember,\n  getProjectJoinedMembers,\n  postProjectJoinedMemberUpdate\n} from \"@/apis/project\";\nimport { Project, ProjectUpdateJoinedMemberParams } from \"@/typings/project\";\n\nconst Component = defineComponent({\n  name: \"UsersDialog\",\n  components: {\n    FilterTag\n  },\n  setup() {\n    const visible = ref(false);\n    const projectId = ref(0);\n    const owner = ref(\"\");\n    const canChange = ref(false);\n    const joinedMembers = ref<JoinedMember[]>([]);\n    const availableMembers = ref<AvailableMember[]>([]);\n    const selectValue = ref(\"\");\n    const lock = ref(false);\n\n    const tags = computed<OptionItemResponse[]>(() => {\n      return joinedMembers.value.reduce(\n        (list: OptionItemResponse[], company: JoinedMember) => {\n          const userList = company.users.reduce(\n            (_list: OptionItemResponse[], user: User) => {\n              const item: OptionItemResponse = {\n                label: company.company_name + \"-\" + user.username,\n                value: `${user.id}`\n              };\n              return [..._list, item];\n            },\n            []\n          );\n          return [...list, ...userList];\n        },\n        []\n      );\n    });\n\n    const options = computed<OptionItem[]>(() => {\n      return availableMembers.value.map((item: AvailableMember) => ({\n        label: item.username,\n        value: item.member_id,\n        checked: false\n      }));\n    });\n\n    const init = async () => {\n      if (canChange.value) {\n        const { data: availableResponse } = await getProjectAvailableMember({\n          id: projectId.value,\n          q: \"\"\n        });\n        availableMembers.value = availableResponse;\n      }\n\n      const { data: joinedResponse } = await getProjectJoinedMembers(\n        projectId.value\n      );\n      joinedMembers.value = joinedResponse;\n    };\n\n    watch(selectValue, async id => {\n      if (!id || typeof id !== \"number\") return;\n      const params: ProjectUpdateJoinedMemberParams = {\n        id: projectId.value,\n        joined_member: id\n      };\n      await postProjectJoinedMemberUpdate(params);\n      selectValue.value = \"\";\n      await init();\n    });\n\n    const open = async (data: Project) => {\n      projectId.value = data.id;\n      owner.value = data.owner__nickname;\n      canChange.value = data.can_change_joined_members;\n      visible.value = true;\n      await init();\n    };\n\n    const onTagCloseClick = async (id: number) => {\n      if (lock.value) return;\n\n      lock.value = true;\n      try {\n        const params: ProjectUpdateJoinedMemberParams = {\n          id: projectId.value,\n          joined_member: id\n        };\n        await postProjectJoinedMemberUpdate(params);\n        await init();\n      } finally {\n        lock.value = false;\n      }\n    };\n\n    return {\n      tags,\n      options,\n      visible,\n      canChange,\n      selectValue,\n      owner,\n\n      open,\n      onTagCloseClick\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./UsersDialog.vue?vue&type=template&id=ac59c5ee&scoped=true\"\nimport script from \"./UsersDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./UsersDialog.vue?vue&type=script&lang=ts\"\n\nimport \"./UsersDialog.vue?vue&type=style&index=0&id=ac59c5ee&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-ac59c5ee\"\n\nexport default script","<template>\n  <div id=\"create-stage-dialog-component\">\n    <el-dialog title=\"Add Stage\" v-model=\"visible\" width=\"50%\" top=\"45px\">\n      <div class=\"input-name-wrapper\">\n        <el-select\n          class=\"select\"\n          popper-class=\"select-popper\"\n          v-model=\"form.side\"\n        >\n          <el-option\n            v-for=\"item in sideOptions\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></el-option>\n        </el-select>\n        <el-autocomplete\n          class=\"input\"\n          v-model=\"form.name\"\n          :fetch-suggestions=\"onQuerySearch\"\n          placeholder=\"Stage name...\"\n        ></el-autocomplete>\n      </div>\n\n      <div class=\"price-wrapper\">\n        <label>\n          Price:\n        </label>\n        <el-input\n          class=\"input\"\n          v-model=\"form.price\"\n          placeholder=\"Stage price...\"\n          type=\"number\"\n        ></el-input>\n      </div>\n\n      <div class=\"textarea-wrapper\">\n        <el-input\n          type=\"textarea\"\n          placeholder=\"Stage description...\"\n          v-model=\"form.description\"\n          :rows=\"10\"\n        ></el-input>\n        <div class=\"upload-wrapper\">\n          <font-awesome-icon\n            class=\"paperclip\"\n            :icon=\"['fas', 'paperclip']\"\n            @click=\"onUploadClick\"\n          ></font-awesome-icon>\n          <div v-if=\"filesStore\" class=\"count\">\n            {{ filesStore.length }}\n          </div>\n        </div>\n      </div>\n\n      <div class=\"bottom-wrapper\">\n        <font-awesome-icon\n          class=\"alert-icon\"\n          :icon=\"['fas', 'info-circle']\"\n        ></font-awesome-icon>\n        <p class=\"alert-text\">Cannot edit after adding stage</p>\n        <el-button type=\"info\" @click=\"onDoneClick\">Add Stage</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive, watch } from \"vue\";\nimport { Project, StageCreateInputs } from \"@/typings/project\";\nimport { OptionItem } from \"@/typings/asideFilter\";\nimport { getStagenames, postCreateStage } from \"@/apis/project\";\n\nconst Component = defineComponent({\n  name: \"CreateStageDialog\",\n  setup(_, { emit }) {\n    const visible = ref(false);\n    const sideOptions = ref<OptionItem[]>([]);\n    const filesStore = ref<FileList | null>(null);\n    const options = ref<string[]>([]);\n    const form = reactive<StageCreateInputs>({\n      name: \"\",\n      description: \"\",\n      project: -1,\n      side: -1,\n      price: 0\n    });\n\n    const fetchOptions = async () => {\n      const { data } = await getStagenames(form.project, form.side);\n      options.value = data;\n    };\n\n    const open = async (data: Project) => {\n      form.name = \"\";\n      form.description = \"\";\n      form.project = data.id;\n      form.side = data.company.supplier.id;\n      form.price = 0;\n      filesStore.value = null;\n\n      sideOptions.value = [\n        {\n          label: data.company.supplier.name,\n          value: data.company.supplier.id,\n          checked: false\n        },\n        {\n          label: data.company.buyer.name,\n          value: data.company.buyer.id,\n          checked: false\n        }\n      ];\n\n      visible.value = true;\n    };\n\n    const createFilter = (queryString: string) => {\n      return (option: string) => {\n        return option.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\n      };\n    };\n\n    watch(() => form.side, fetchOptions);\n\n    const onQuerySearch = async (queryString: string, cb: Function) => {\n      const results = queryString\n        ? options.value.filter(createFilter(queryString))\n        : options.value;\n      cb(results.map((text: string) => ({ value: text })));\n    };\n\n    const onUploadClick = () => {\n      const element = document.createElement(\"input\");\n      element.type = \"file\";\n      element.accept = \"image/*\";\n      element.multiple = true;\n      element.addEventListener(\"change\", async () => {\n        if (element.files) {\n          filesStore.value = element.files;\n        }\n      });\n      element.click();\n    };\n\n    const onDoneClick = async () => {\n      if (filesStore.value) {\n        form.files = filesStore.value;\n      }\n      visible.value = false;\n      await postCreateStage(form);\n      emit(\"load\");\n    };\n\n    return {\n      visible,\n      form,\n      sideOptions,\n      filesStore,\n\n      open,\n      onQuerySearch,\n      onUploadClick,\n      onDoneClick\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#create-stage-dialog-component\n  .input-name-wrapper\n    margin-left -10px\n    flex()\n    .select\n      width 30%\n      transform translateX(10px)\n      z-index 9\n      :deep() .el-input__inner\n        background $color-button-gray\n        border $color-button-gray\n        color white\n        height 50px\n      :deep() .el-select__caret\n        height 50px\n  .price-wrapper\n    flex()\n    margin-top 15px\n    label\n      padding-left 15px\n      width calc(30% - 20px)\n      font-size $font-size-lg3x\n      white-space nowrap\n\n  :deep() .el-autocomplete\n    border 3px solid $color-button-gray\n    border-radius 8px\n    width 100%\n    height 42px\n    .el-input__inner\n      height 42px\n      &:focus\n        border none\n\n  .textarea-wrapper\n    position relative\n    margin 20px 0\n\n    :deep() .el-textarea__inner\n      border 3px solid $color-button-gray\n      border-radius 8px\n      padding 15px\n\n    .upload-wrapper\n      position absolute\n      right 15px\n      bottom 15px\n      .paperclip\n        width 30px\n        height 30px\n        margin-left 15px\n        cursor pointer\n      .count\n        flex()\n        position absolute\n        right -10px\n        top -10px\n        border-radius 50%\n        width 18px\n        height 18px\n        font-size $font-size-normal\n        background $color-active\n        color white\n  .bottom-wrapper\n    flex(flex-end)\n    .alert-icon\n      font-size 15px\n      margin-right 10px\n    .alert-text\n      font-size $font-size-normal\n      line-height 15px\n      margin-right 15px\n</style>\n\n<style lang=\"stylus\">\n.select-popper\n  background $color-button-gray\n  border $color-button-gray !important\n  .el-popper__arrow::before\n    background $color-button-gray !important\n  .el-select-dropdown__item\n    background $color-button-gray\n    color white\n  .selected\n    color $color-active\n</style>\n","\nimport { defineComponent, ref, reactive, watch } from \"vue\";\nimport { Project, StageCreateInputs } from \"@/typings/project\";\nimport { OptionItem } from \"@/typings/asideFilter\";\nimport { getStagenames, postCreateStage } from \"@/apis/project\";\n\nconst Component = defineComponent({\n  name: \"CreateStageDialog\",\n  setup(_, { emit }) {\n    const visible = ref(false);\n    const sideOptions = ref<OptionItem[]>([]);\n    const filesStore = ref<FileList | null>(null);\n    const options = ref<string[]>([]);\n    const form = reactive<StageCreateInputs>({\n      name: \"\",\n      description: \"\",\n      project: -1,\n      side: -1,\n      price: 0\n    });\n\n    const fetchOptions = async () => {\n      const { data } = await getStagenames(form.project, form.side);\n      options.value = data;\n    };\n\n    const open = async (data: Project) => {\n      form.name = \"\";\n      form.description = \"\";\n      form.project = data.id;\n      form.side = data.company.supplier.id;\n      form.price = 0;\n      filesStore.value = null;\n\n      sideOptions.value = [\n        {\n          label: data.company.supplier.name,\n          value: data.company.supplier.id,\n          checked: false\n        },\n        {\n          label: data.company.buyer.name,\n          value: data.company.buyer.id,\n          checked: false\n        }\n      ];\n\n      visible.value = true;\n    };\n\n    const createFilter = (queryString: string) => {\n      return (option: string) => {\n        return option.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\n      };\n    };\n\n    watch(() => form.side, fetchOptions);\n\n    const onQuerySearch = async (queryString: string, cb: Function) => {\n      const results = queryString\n        ? options.value.filter(createFilter(queryString))\n        : options.value;\n      cb(results.map((text: string) => ({ value: text })));\n    };\n\n    const onUploadClick = () => {\n      const element = document.createElement(\"input\");\n      element.type = \"file\";\n      element.accept = \"image/*\";\n      element.multiple = true;\n      element.addEventListener(\"change\", async () => {\n        if (element.files) {\n          filesStore.value = element.files;\n        }\n      });\n      element.click();\n    };\n\n    const onDoneClick = async () => {\n      if (filesStore.value) {\n        form.files = filesStore.value;\n      }\n      visible.value = false;\n      await postCreateStage(form);\n      emit(\"load\");\n    };\n\n    return {\n      visible,\n      form,\n      sideOptions,\n      filesStore,\n\n      open,\n      onQuerySearch,\n      onUploadClick,\n      onDoneClick\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./CreateStageDialog.vue?vue&type=template&id=3173ea18&scoped=true\"\nimport script from \"./CreateStageDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./CreateStageDialog.vue?vue&type=script&lang=ts\"\n\nimport \"./CreateStageDialog.vue?vue&type=style&index=0&id=3173ea18&scoped=true&lang=stylus\"\nimport \"./CreateStageDialog.vue?vue&type=style&index=1&id=3173ea18&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-3173ea18\"\n\nexport default script","<template>\n  <div id=\"fabric-create-project-dialog-component\">\n    <el-dialog title=\"Edit Stage\" v-model=\"visible\" width=\"40%\" top=\"45px\">\n      <div class=\"inputs-container\">\n        <el-row :gutter=\"30\">\n          <el-col :span=\"24\">\n            <p class=\"label\">Name</p>\n            <el-autocomplete\n              class=\"input\"\n              v-model=\"form.name\"\n              :fetch-suggestions=\"onQuerySearch\"\n              placeholder=\"Stage name...\"\n            ></el-autocomplete>\n          </el-col>\n          <el-col :span=\"24\">\n            <p class=\"label\">Price</p>\n            <el-input v-model=\"form.price\" type=\"number\" clearable></el-input>\n          </el-col>\n          <el-col :span=\"24\">\n            <p class=\"label\">Description</p>\n            <el-input\n              type=\"textarea\"\n              placeholder=\"Stage description...\"\n              v-model=\"form.description\"\n              :rows=\"10\"\n            ></el-input>\n          </el-col>\n        </el-row>\n      </div>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button type=\"info\" @click=\"visible = false\">Cancel</el-button>\n          <el-button type=\"success\" @click=\"onConfirm\">\n            Done\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive } from \"vue\";\nimport { getStagenames, postUpdateStage } from \"@/apis/project\";\nimport { ProjectStage, StageUpdate, Project } from \"@/typings/project\";\n\nconst Component = defineComponent({\n  name: \"StageEditDialog\",\n  setup(_, { emit }) {\n    const visible = ref(false);\n    const stagenameOptions = ref<string[]>([]);\n\n    const form = reactive<StageUpdate>({\n      id: -1,\n      name: \"\",\n      price: 0,\n      description: \"\"\n    });\n\n    const fetchOptions = async (project: Project) => {\n      const { data } = await getStagenames(\n        project.id,\n        project.company.supplier.id\n      );\n      stagenameOptions.value = data;\n    };\n\n    const open = async ({\n      project,\n      stage\n    }: {\n      project: Project;\n      stage: ProjectStage;\n    }) => {\n      visible.value = true;\n      form.id = stage.id;\n      form.name = stage.name;\n      form.price = stage.price;\n      form.description = stage.description;\n\n      await fetchOptions(project);\n    };\n\n    const createFilter = (queryString: string) => {\n      return (option: string) => {\n        return option.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\n      };\n    };\n\n    const onQuerySearch = async (queryString: string, cb: Function) => {\n      const results = queryString\n        ? stagenameOptions.value.filter(createFilter(queryString))\n        : stagenameOptions.value;\n      cb(results.map((text: string) => ({ value: text })));\n    };\n\n    const onConfirm = async () => {\n      await postUpdateStage(form);\n      visible.value = false;\n      emit(\"load\");\n    };\n\n    return {\n      form,\n      visible,\n      stagenameOptions,\n\n      open,\n      onQuerySearch,\n      onConfirm\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#fabric-create-project-dialog-component\n  .inputs-container\n    padding 0 10%\n    .label\n      text-align start\n      font-size $font-size-large\n      font-weight 500\n      padding 0 8px\n      margin-bottom 15px\n\n    :deep() .el-col\n      margin-bottom 30px\n\n    :deep() .el-input\n      width 100%\n\n    :deep() .el-select\n      width 100%\n</style>\n","\nimport { defineComponent, ref, reactive } from \"vue\";\nimport { getStagenames, postUpdateStage } from \"@/apis/project\";\nimport { ProjectStage, StageUpdate, Project } from \"@/typings/project\";\n\nconst Component = defineComponent({\n  name: \"StageEditDialog\",\n  setup(_, { emit }) {\n    const visible = ref(false);\n    const stagenameOptions = ref<string[]>([]);\n\n    const form = reactive<StageUpdate>({\n      id: -1,\n      name: \"\",\n      price: 0,\n      description: \"\"\n    });\n\n    const fetchOptions = async (project: Project) => {\n      const { data } = await getStagenames(\n        project.id,\n        project.company.supplier.id\n      );\n      stagenameOptions.value = data;\n    };\n\n    const open = async ({\n      project,\n      stage\n    }: {\n      project: Project;\n      stage: ProjectStage;\n    }) => {\n      visible.value = true;\n      form.id = stage.id;\n      form.name = stage.name;\n      form.price = stage.price;\n      form.description = stage.description;\n\n      await fetchOptions(project);\n    };\n\n    const createFilter = (queryString: string) => {\n      return (option: string) => {\n        return option.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\n      };\n    };\n\n    const onQuerySearch = async (queryString: string, cb: Function) => {\n      const results = queryString\n        ? stagenameOptions.value.filter(createFilter(queryString))\n        : stagenameOptions.value;\n      cb(results.map((text: string) => ({ value: text })));\n    };\n\n    const onConfirm = async () => {\n      await postUpdateStage(form);\n      visible.value = false;\n      emit(\"load\");\n    };\n\n    return {\n      form,\n      visible,\n      stagenameOptions,\n\n      open,\n      onQuerySearch,\n      onConfirm\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./StageEditDialog.vue?vue&type=template&id=cbff4862&scoped=true\"\nimport script from \"./StageEditDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./StageEditDialog.vue?vue&type=script&lang=ts\"\n\nimport \"./StageEditDialog.vue?vue&type=style&index=0&id=cbff4862&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-cbff4862\"\n\nexport default script","<template>\n  <el-dialog\n    custom-class=\"inform-dialog-component\"\n    v-model=\"visible\"\n    :width=\"step === 1 ? '400px' : '900px'\"\n    top=\"45px\"\n  >\n    <h2>{{ title }}</h2>\n    <template v-if=\"step === 1\">\n      <div class=\"buttons-wrapper\">\n        <el-button class=\"button\" type=\"success\" @click=\"onConfirm\">\n          Confirm\n        </el-button>\n        <el-button class=\"button\" type=\"info\" @click=\"visible = false\">\n          Cancel\n        </el-button>\n      </div>\n    </template>\n    <template v-if=\"step === 2\">\n      <div class=\"item-container\">\n        <label>Brand:</label>\n        <p>{{ project.company.buyer.name }}</p>\n      </div>\n      <div class=\"item-container\">\n        <label>Nickname:</label>\n        <p>{{ project.owner__nickname }}</p>\n      </div>\n      <div class=\"item-container\">\n        <label>Email:</label>\n        <div class=\"email-tags-wrapper\">\n          <FilterTag\n            v-for=\"(tag, index) in emails\"\n            :key=\"index\"\n            :data=\"tag\"\n            :closable=\"true\"\n            @close=\"onTagCloseClick\"\n          ></FilterTag>\n        </div>\n      </div>\n      <div class=\"item-container\">\n        <label>Email Subject:</label>\n        <el-input v-model=\"subjectValue\" clearable> </el-input>\n      </div>\n      <div class=\"textarea-container\">\n        <label>Text:</label>\n        <el-input\n          type=\"textarea\"\n          rows=\"5\"\n          v-model=\"textValue\"\n          placeholder=\"Text...\"\n        >\n        </el-input>\n      </div>\n      <div class=\"buttons-wrapper\">\n        <el-button class=\"button\" type=\"success\" @click=\"onSend\">\n          Send\n        </el-button>\n        <el-button class=\"button\" type=\"info\" @click=\"visible = false\">\n          Cancel\n        </el-button>\n      </div>\n    </template>\n  </el-dialog>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from \"vue\";\nimport { Project } from \"@/typings/project\";\nimport FilterTag from \"@/components/FilterTag.vue\";\nimport { postInform, getInform } from \"@/apis/project\";\nimport { ElNotification } from \"element-plus\";\n\nconst Component = defineComponent({\n  name: \"InformDialog\",\n  components: {\n    FilterTag\n  },\n  setup(_) {\n    const visible = ref(false);\n    const step = ref(1);\n    const project = ref<Project | null>(null);\n    const projectId = ref(0);\n    const title = ref(\"\");\n    const emails = ref<string[]>([]);\n    const subjectValue = ref(\"\");\n    const textValue = ref(\"\");\n\n    function getTarget(data: Project): string {\n      const { side, company } = data;\n      const { buyer, supplier } = company;\n      if (buyer.id === side) return supplier.name;\n      if (supplier.id === side) return buyer.name;\n      return \"unknown\";\n    }\n\n    const open = async (data: Project) => {\n      step.value = 1;\n      emails.value = [];\n      project.value = data;\n      projectId.value = data.id;\n      title.value = `Inform ${getTarget(data)} ?`;\n      subjectValue.value = `Informed of a new established status of ${data.name}.`;\n      textValue.value = `A has informed you of a new established status of project ${data.name}.\\nTo check the project, visit https://weaverbird.bilabasia.com/web, and take necessary action.`;\n      visible.value = true;\n    };\n\n    const onTagCloseClick = (tag: string) => {\n      emails.value = emails.value.filter((email: string) => email !== tag);\n    };\n\n    const onConfirm = async () => {\n      try {\n        const { data } = await getInform(projectId.value);\n        title.value = `Inform Email ?`;\n        emails.value = data.members.map((it: { email: string }) => it.email);\n        step.value = 2;\n      } catch (e) {\n        visible.value = false;\n      }\n    };\n\n    const onSend = async () => {\n      try {\n        await postInform(\n          projectId.value,\n          subjectValue.value,\n          textValue.value,\n          emails.value\n        );\n        ElNotification({\n          title: \"Success\",\n          type: \"success\",\n          message: `Informed successfully`\n        });\n      } finally {\n        visible.value = false;\n      }\n    };\n\n    return {\n      visible,\n      step,\n      project,\n      title,\n      emails,\n      subjectValue,\n      textValue,\n\n      open,\n      onTagCloseClick,\n      onConfirm,\n      onSend\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n.inform-dialog-component\n  h2\n    text-align center\n    font-weight 500\n\n  .checkbox-container\n    margin-top 30px\n    display flex\n    justify-content center\n    align-items center\n\n  .buttons-wrapper\n    padding 30px 0 0\n    flex()\n\n  .button\n    margin 0 15px\n    width 30%\n    height 40px\n\n  .item-container\n    flex(flex-start)\n    margin-top 15px\n    label\n      width 200px\n      font-size $font-size-lg2x\n      font-weight bold\n      margin-right 15px\n    p\n      font-size $font-size-lg2x\n      font-weight 500\n  .textarea-container\n    flex(flex-start, flex-start, column)\n    margin-top 15px\n    label\n      font-size $font-size-lg2x\n      font-weight bold\n      margin-bottom 15px\n    p\n      font-size $font-size-lg2x\n      font-weight 500\n</style>\n","\nimport { defineComponent, ref } from \"vue\";\nimport { Project } from \"@/typings/project\";\nimport FilterTag from \"@/components/FilterTag.vue\";\nimport { postInform, getInform } from \"@/apis/project\";\nimport { ElNotification } from \"element-plus\";\n\nconst Component = defineComponent({\n  name: \"InformDialog\",\n  components: {\n    FilterTag\n  },\n  setup(_) {\n    const visible = ref(false);\n    const step = ref(1);\n    const project = ref<Project | null>(null);\n    const projectId = ref(0);\n    const title = ref(\"\");\n    const emails = ref<string[]>([]);\n    const subjectValue = ref(\"\");\n    const textValue = ref(\"\");\n\n    function getTarget(data: Project): string {\n      const { side, company } = data;\n      const { buyer, supplier } = company;\n      if (buyer.id === side) return supplier.name;\n      if (supplier.id === side) return buyer.name;\n      return \"unknown\";\n    }\n\n    const open = async (data: Project) => {\n      step.value = 1;\n      emails.value = [];\n      project.value = data;\n      projectId.value = data.id;\n      title.value = `Inform ${getTarget(data)} ?`;\n      subjectValue.value = `Informed of a new established status of ${data.name}.`;\n      textValue.value = `A has informed you of a new established status of project ${data.name}.\\nTo check the project, visit https://weaverbird.bilabasia.com/web, and take necessary action.`;\n      visible.value = true;\n    };\n\n    const onTagCloseClick = (tag: string) => {\n      emails.value = emails.value.filter((email: string) => email !== tag);\n    };\n\n    const onConfirm = async () => {\n      try {\n        const { data } = await getInform(projectId.value);\n        title.value = `Inform Email ?`;\n        emails.value = data.members.map((it: { email: string }) => it.email);\n        step.value = 2;\n      } catch (e) {\n        visible.value = false;\n      }\n    };\n\n    const onSend = async () => {\n      try {\n        await postInform(\n          projectId.value,\n          subjectValue.value,\n          textValue.value,\n          emails.value\n        );\n        ElNotification({\n          title: \"Success\",\n          type: \"success\",\n          message: `Informed successfully`\n        });\n      } finally {\n        visible.value = false;\n      }\n    };\n\n    return {\n      visible,\n      step,\n      project,\n      title,\n      emails,\n      subjectValue,\n      textValue,\n\n      open,\n      onTagCloseClick,\n      onConfirm,\n      onSend\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./InformDialog.vue?vue&type=template&id=e9d000fa&scoped=true\"\nimport script from \"./InformDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./InformDialog.vue?vue&type=script&lang=ts\"\n\nimport \"./InformDialog.vue?vue&type=style&index=0&id=e9d000fa&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-e9d000fa\"\n\nexport default script","<template>\n  <el-dialog\n    custom-class=\"end-dialog-component\"\n    v-model=\"visible\"\n    width=\"450px\"\n    top=\"45px\"\n    @closed=\"step = 1\"\n  >\n    <template v-if=\"step === 1\">\n      <h2>Is this project successfully?</h2>\n      <div class=\"buttons-wrapper\">\n        <el-button class=\"button\" type=\"info\" @click=\"step = 2\">\n          No\n        </el-button>\n        <el-button class=\"button\" type=\"info\" @click=\"onConfirm(true)\">\n          Yes\n        </el-button>\n      </div>\n    </template>\n    <template v-if=\"step === 2\">\n      <h2>Why did the project fail?</h2>\n      <el-input class=\"textarea\" type=\"textarea\" rows=\"6\" v-model=\"textValue\">\n      </el-input>\n      <div class=\"buttons-wrapper\">\n        <el-button class=\"button\" type=\"info\" @click=\"onConfirm(false)\">\n          Done\n        </el-button>\n      </div>\n    </template>\n  </el-dialog>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from \"vue\";\nimport { postProjectStatusUpdate } from \"@/apis/project\";\nimport { Project } from \"@/typings/project\";\nimport { ElNotification } from \"element-plus\";\nimport { useRouter } from \"vue-router\";\n\nconst Component = defineComponent({\n  name: \"EndDialog\",\n  setup(_, { emit }) {\n    const router = useRouter();\n    const visible = ref(false);\n    const textValue = ref(\"\");\n    const projectId = ref(0);\n    const step = ref(1);\n\n    const open = async (data: Project) => {\n      projectId.value = data.id;\n      visible.value = true;\n    };\n\n    const onConfirm = async (success: boolean) => {\n      const { data } = await postProjectStatusUpdate({\n        id: projectId.value,\n        success,\n        reason: success ? \"\" : textValue.value\n      });\n      ElNotification({\n        title: \"Success\",\n        type: \"success\",\n        message: `Change status to ${data.status}.`\n      });\n      emit(\"load\");\n      visible.value = false;\n      if (success) {\n        await router.push({ name: \"FabricUpload\" });\n      }\n    };\n\n    return {\n      visible,\n      textValue,\n      step,\n\n      open,\n      onConfirm\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n.end-dialog-component\n  h2\n    text-align center\n    font-weight 500\n\n  .textarea\n    width 340px\n    margin-top 30px\n\n  .buttons-wrapper\n    margin 0 auto\n    width 340px\n    padding 30px 0 0\n    flex(space-between)\n    flex-direction row-reverse\n\n  .button\n    width 30%\n    height 40px\n</style>\n\n<style lang=\"stylus\">\n.end-dialog-component\n  .el-dialog__body\n    flex(flex-start)\n    flex-direction column\n</style>\n","\nimport { defineComponent, ref } from \"vue\";\nimport { postProjectStatusUpdate } from \"@/apis/project\";\nimport { Project } from \"@/typings/project\";\nimport { ElNotification } from \"element-plus\";\nimport { useRouter } from \"vue-router\";\n\nconst Component = defineComponent({\n  name: \"EndDialog\",\n  setup(_, { emit }) {\n    const router = useRouter();\n    const visible = ref(false);\n    const textValue = ref(\"\");\n    const projectId = ref(0);\n    const step = ref(1);\n\n    const open = async (data: Project) => {\n      projectId.value = data.id;\n      visible.value = true;\n    };\n\n    const onConfirm = async (success: boolean) => {\n      const { data } = await postProjectStatusUpdate({\n        id: projectId.value,\n        success,\n        reason: success ? \"\" : textValue.value\n      });\n      ElNotification({\n        title: \"Success\",\n        type: \"success\",\n        message: `Change status to ${data.status}.`\n      });\n      emit(\"load\");\n      visible.value = false;\n      if (success) {\n        await router.push({ name: \"FabricUpload\" });\n      }\n    };\n\n    return {\n      visible,\n      textValue,\n      step,\n\n      open,\n      onConfirm\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./EndDialog.vue?vue&type=template&id=49821e12&scoped=true\"\nimport script from \"./EndDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./EndDialog.vue?vue&type=script&lang=ts\"\n\nimport \"./EndDialog.vue?vue&type=style&index=0&id=49821e12&scoped=true&lang=stylus\"\nimport \"./EndDialog.vue?vue&type=style&index=1&id=49821e12&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-49821e12\"\n\nexport default script","\nimport { defineComponent, ref, onMounted, watch, toRefs, computed } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport dayjs from \"dayjs\";\n\nimport Timeline from \"./Timeline.vue\";\nimport StageFabrics from \"./StageFabrics.vue\";\nimport UsersDialog from \"./UsersDialog.vue\";\nimport CreateStageDialog from \"./CreateStageDialog.vue\";\nimport StageEditDialog from \"./StageEditDialog.vue\";\nimport InformDialog from \"./InformDialog.vue\";\nimport EndDialog from \"./EndDialog.vue\";\n\nimport { formatImageUrl, loading } from \"@/utils\";\nimport {\n  deleteDicussionFile,\n  getAvaliableOptions,\n  getProject,\n  getProjectStage,\n  postCreateDiscussion,\n  postDeleteDiscussion,\n  postEditDiscussion\n} from \"@/apis/project\";\nimport {\n  Attachment,\n  DiscussionInput,\n  Project,\n  ProjectStage,\n  Stage\n} from \"@/typings/project\";\nimport { FabricDetailResponse } from \"@/typings/fabric\";\nimport { getFabric } from \"@/apis/fabric\";\nimport { iCreateDialog } from \"@/typings/component\";\nimport { ElNotification } from \"element-plus\";\nimport { useStore } from \"vuex\";\nimport { PostNotificationReadByProject } from \"@/typings/store\";\n\nconst colors = [\"#5470c6\", \"#91cc76\", \"#f8c858\", \"#e66\"];\n\nconst getTagColor = (tag: string): string => {\n  const adapter: Adapter<string> = {\n    \"In Progress\": colors[0],\n    Completed: colors[1],\n    \"Completed but delayed\": colors[1],\n    Dropped: colors[3],\n    Delayed: colors[2],\n    default: \"\"\n  };\n  return adapter[tag] || adapter.default;\n};\n\nconst getHasButtons = (project: Project | null): boolean => {\n  if (!project) return false;\n  const adapter: Adapter<boolean> = {\n    \"In Progress\": true,\n    Completed: true,\n    \"Completed but delayed\": false,\n    Dropped: false,\n    Delayed: true,\n    default: false\n  };\n  return adapter[project.status] || adapter.default;\n};\n\nconst Component = defineComponent({\n  name: \"ProjectDetail\",\n  components: {\n    Timeline,\n    StageFabrics,\n    UsersDialog,\n    CreateStageDialog,\n    StageEditDialog,\n    InformDialog,\n    EndDialog\n  },\n  props: {\n    id: {\n      type: String,\n      default: \"\"\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const router = useRouter();\n    const { id } = toRefs(props);\n    const rightContainer = ref<iCreateDialog | null>(null)\n    const usersDialog = ref<iCreateDialog | null>(null);\n    const createStageDialog = ref<iCreateDialog | null>(null);\n    const editStageDialog = ref<iCreateDialog | null>(null);\n    const informDialog = ref<iCreateDialog | null>(null);\n    const endDialog = ref<iCreateDialog | null>(null);\n\n    const projectData = ref<Project | null>(null);\n    const projectStage = ref<ProjectStage | null>(null);\n    const fabricData = ref<FabricDetailResponse | null>(null);\n    const stageData = ref<Stage | null>(null);\n    const garmentFactories = ref<{ id: number; name: string }[] | null>(null);\n    const discussionValue = ref(\"\");\n    const editDiscussionId = ref(-1);\n    const isOpenInputDiscussion = ref(true);\n    const filesStore = ref<FileList | null>(null);\n    const newestId = ref(-1);\n\n    const hasButtons = computed(() => getHasButtons(projectData.value));\n\n    const getGarmentFactoryName = (id: number): string => {\n      if (!garmentFactories.value) return \"\";\n      const target = garmentFactories.value!.find(\n        (it: { id: number; name: string }) => it.id === id\n      );\n      return target ? target.name : \"\";\n    };\n\n    const fetchStageDetail = async (stage: ProjectStage) => {\n      projectStage.value = stage;\n      const { data } = await getProjectStage(stage.id);\n      stageData.value = data;\n      // @ts-ignore\n      rightContainer.value && (rightContainer.value.$el.scrollTop = 0)\n    };\n\n    const init = async () => {\n      const loadingInstance = loading();\n      try {\n        const { data: factories } = await getAvaliableOptions(\n          \"garment_factory\"\n        );\n        garmentFactories.value = factories.brands;\n        const { data } = await getProject(parseInt(id.value, 10));\n        projectData.value = data;\n        if (data.stages.length) {\n          const target = data.stages.sort((a, b) => b.id - a.id)[0];\n          newestId.value = target.id;\n          await fetchStageDetail(target);\n        }\n        if (data.start_fabric) {\n          const { data: fabricResponse } = await getFabric(data.start_fabric);\n          fabricData.value = fabricResponse;\n        }\n\n        // Set all notifications read.\n        await store.dispatch(\n          PostNotificationReadByProject,\n          parseInt(id.value, 10)\n        );\n      } catch (_) {\n        await router.replace({ name: \"Error\" });\n      } finally {\n        loadingInstance.close();\n      }\n    };\n\n    onMounted(init);\n    watch([id], init);\n\n    const onUsersClick = () => {\n      if (!usersDialog.value || !projectData.value) return;\n      usersDialog.value.open(projectData.value);\n    };\n\n    const onAddStageClick = () => {\n      if (!createStageDialog.value || !projectData.value) return;\n      if (!projectData.value.can_add_stage) {\n        return ElNotification({\n          type: \"warning\",\n          title: \"No permission\",\n          message: \"You have no permission to do this.\"\n        });\n      }\n      createStageDialog.value.open(projectData.value);\n    };\n    const onEditStageClick = () => {\n      if (!editStageDialog.value || !projectStage.value) return;\n      editStageDialog.value.open({\n        project: projectData.value,\n        stage: projectStage.value\n      });\n    };\n    const onInformClick = () => {\n      if (!informDialog.value || !projectData.value) return;\n      informDialog.value.open(projectData.value);\n    };\n    const onEndClick = () => {\n      if (!endDialog.value || !projectData.value) return;\n      endDialog.value.open(projectData.value);\n    };\n    const onStageClick = async (data: ProjectStage) => {\n      await fetchStageDetail(data);\n    };\n    const onNewline = () => {\n      discussionValue.value = `${discussionValue.value}\\n`;\n    };\n    const onDiscuss = async () => {\n      if (!discussionValue.value && !filesStore.value) return;\n\n      isOpenInputDiscussion.value = false;\n      try {\n        const params: DiscussionInput = {\n          project: parseInt(id.value, 10),\n          message: discussionValue.value\n        };\n        if (filesStore.value) params.files = filesStore.value;\n\n        // Reset\n        discussionValue.value = \"\";\n        filesStore.value = null;\n\n        await postCreateDiscussion(params);\n\n        // re-fetch\n        const { data } = await getProject(parseInt(id.value, 10));\n        projectData.value = data;\n      } finally {\n        isOpenInputDiscussion.value = true;\n      }\n    };\n    const onDiscussionEditClick = async (_id: number, message: string) => {\n      await postEditDiscussion(_id, message);\n      const { data } = await getProject(parseInt(id.value, 10));\n      projectData.value = data;\n      editDiscussionId.value = -1;\n    };\n    const onDiscussionDeleteClick = async (_id: number) => {\n      await postDeleteDiscussion(_id);\n      ElNotification({\n        type: \"success\",\n        title: \"Delete Discussion\",\n        message: \"Success delete discussion.\"\n      });\n      const { data } = await getProject(parseInt(id.value, 10));\n      projectData.value = data;\n    };\n    const onDiscussionFileDeleteClick = async (_id: number) => {\n      await deleteDicussionFile(_id);\n      ElNotification({\n        type: \"success\",\n        title: \"Delete File\",\n        message: \"Success delete file.\"\n      });\n      const { data } = await getProject(parseInt(id.value, 10));\n      projectData.value = data;\n    };\n    const onUploadClick = () => {\n      if (!projectStage.value) return;\n\n      const element = document.createElement(\"input\");\n      element.type = \"file\";\n      element.accept = \"image/*\";\n      element.multiple = true;\n      element.addEventListener(\"change\", async () => {\n        if (!projectStage.value) return;\n\n        if (element.files) {\n          filesStore.value = element.files;\n        }\n      });\n      element.click();\n    };\n\n    const onAttachmentDownload = (data: Attachment) => {\n      window.open(formatImageUrl(data.file));\n    };\n\n    const onLoad = async () => {\n      await init();\n    };\n\n    const onStageFabricsLoad = async () => {\n      if (!projectStage.value) return;\n      const { data } = await getProjectStage(projectStage.value.id);\n      stageData.value = data;\n    };\n\n    return {\n      rightContainer,\n      usersDialog,\n      createStageDialog,\n      editStageDialog,\n      informDialog,\n      endDialog,\n      projectData,\n      fabricData,\n      stageData,\n      garmentFactories,\n      discussionValue,\n      isOpenInputDiscussion,\n      filesStore,\n      projectStage,\n      newestId,\n      editDiscussionId,\n      hasButtons,\n\n      onUsersClick,\n      onAddStageClick,\n      onEditStageClick,\n      onInformClick,\n      onEndClick,\n      onStageClick,\n      onNewline,\n      onDiscuss,\n      onDiscussionEditClick,\n      onDiscussionDeleteClick,\n      onDiscussionFileDeleteClick,\n      onUploadClick,\n      onAttachmentDownload,\n      onLoad,\n      onStageFabricsLoad,\n\n      getTagColor,\n      getGarmentFactoryName,\n      dayjs\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./ProjectDetail.vue?vue&type=template&id=43f62cba&scoped=true\"\nimport script from \"./ProjectDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./ProjectDetail.vue?vue&type=script&lang=ts\"\n\nimport \"./ProjectDetail.vue?vue&type=style&index=0&id=43f62cba&scoped=true&lang=stylus\"\nimport \"./ProjectDetail.vue?vue&type=style&index=1&id=43f62cba&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-43f62cba\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./StageFabricsDialog.vue?vue&type=style&index=0&id=4c875014&scoped=true&lang=stylus\"","<template>\n  <el-tag\n    id=\"filter-tag-component\"\n    type=\"success\"\n    size=\"medium\"\n    :closable=\"closable\"\n    :disable-transitions=\"false\"\n    @close=\"onCloseTag\"\n  >\n    {{ data }}\n  </el-tag>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, toRefs } from \"vue\";\n\nconst Component = defineComponent({\n  name: \"FilterTag\",\n  props: {\n    data: {\n      type: String,\n      default: \"\"\n    },\n    closable: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props, context) {\n    const { data } = toRefs(props);\n\n    const onCloseTag = () => {\n      context.emit(\"close\", data.value);\n    };\n\n    return {\n      onCloseTag\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#filter-tag-component\n  margin 0 15px 10px 0\n  background $color-tag-background\n  color $color-tag-text\n  padding 0 15px\n  height 40px\n  line-height 38px\n  font-size $font-size-large\n</style>\n","\nimport { defineComponent, toRefs } from \"vue\";\n\nconst Component = defineComponent({\n  name: \"FilterTag\",\n  props: {\n    data: {\n      type: String,\n      default: \"\"\n    },\n    closable: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props, context) {\n    const { data } = toRefs(props);\n\n    const onCloseTag = () => {\n      context.emit(\"close\", data.value);\n    };\n\n    return {\n      onCloseTag\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./FilterTag.vue?vue&type=template&id=b8791da2&scoped=true\"\nimport script from \"./FilterTag.vue?vue&type=script&lang=ts\"\nexport * from \"./FilterTag.vue?vue&type=script&lang=ts\"\n\nimport \"./FilterTag.vue?vue&type=style&index=0&id=b8791da2&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-b8791da2\"\n\nexport default script","var UA = require('../internals/engine-user-agent');\n\nmodule.exports = /MSIE|Trident/.test(UA);\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./StageFabrics.vue?vue&type=style&index=0&id=64eb0c4e&scoped=true&lang=stylus\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EndDialog.vue?vue&type=style&index=1&id=49821e12&lang=stylus\""],"sourceRoot":""}