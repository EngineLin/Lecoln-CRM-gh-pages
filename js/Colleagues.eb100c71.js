(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Colleagues"],{"0a8e":function(e,t,n){"use strict";n("6ff5")},"0e75":function(e,t,n){},"14ac":function(e,t,n){"use strict";var a=n("7a23"),r=Object(a["withScopeId"])("data-v-f685ce18");Object(a["pushScopeId"])("data-v-f685ce18");var o={id:"search-bar-component"};Object(a["popScopeId"])();var c=r((function(e,t,n,c,l,i){var u=Object(a["resolveComponent"])("font-awesome-icon"),d=Object(a["resolveComponent"])("el-input");return Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[Object(a["createVNode"])(d,{placeholder:e.placeholder,"model-value":e.value,onInput:e.onChange},{prefix:r((function(){return[Object(a["createVNode"])(u,{style:{color:"#444444","font-size":"18px"},icon:["fas","search"]})]})),_:1},8,["placeholder","model-value","onInput"])])})),l=Object(a["defineComponent"])({name:"SearchBar",props:{placeholder:{type:String,default:""},value:{type:String,default:""}},setup:function(e,t){var n=t.emit,a=function(e){n("change",e)};return{onChange:a}}}),i=l;n("3e0c");i.render=c,i.__scopeId="data-v-f685ce18";t["a"]=i},"18da":function(e,t,n){},"3e0c":function(e,t,n){"use strict";n("18da")},"6dd2":function(e,t,n){"use strict";n("0e75")},"6ec5":function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return s})),n.d(t,"f",(function(){return p}));var a=n("415e");function r(e){return Object(a["a"])({url:"/members/",method:"GET",params:e})}function o(e){return e?Object(a["a"])({url:"/member/".concat(e,"/"),method:"GET"}):Object(a["a"])({url:"/member/",method:"GET"})}function c(e,t){return e?Object(a["a"])({url:"/member/".concat(e,"/roles/"),method:"GET",params:t}):Object(a["a"])({url:"/member/roles/",method:"GET",params:t})}function l(e,t){return e?Object(a["a"])({url:"/member/".concat(e,"/teams/"),method:"GET",params:t}):Object(a["a"])({url:"/member/teams/",method:"GET",params:t})}function i(e){return e?Object(a["a"])({url:"/member/".concat(e,"/business_units/"),method:"GET"}):Object(a["a"])({url:"/member/business_units/",method:"GET"})}function u(e,t){var n={email:e.email,nickname:e.nickname,role:e.role,teams:e.teams,phone:e.phone,active:e.active,business_unit:e.business_unit};return t?Object(a["a"])({url:"/member/".concat(t,"/"),method:"PUT",data:n}):Object(a["a"])({url:"/member/",method:"PUT",data:n})}function d(e){return Object(a["a"])({url:"/member/",method:"PUT",data:e})}function s(e,t){var n=new FormData;return n.append("file",e),t&&n.append("member",JSON.stringify(t)),Object(a["a"])({url:"/member/medias/",method:"POST",data:n})}function p(e){return Object(a["a"])({url:"/mail/contact_us/",method:"POST",data:e})}},"6ff5":function(e,t,n){},c5e6:function(e,t,n){"use strict";n("e2d4")},d660:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r=Object(a["withScopeId"])("data-v-4283e9fa");Object(a["pushScopeId"])("data-v-4283e9fa");var o={id:"colleagues-component"},c={class:"console-wrapper"},l=Object(a["createTextVNode"])(" Add Colleague "),i={class:"table-wrapper"};Object(a["popScopeId"])();var u=r((function(e,t,n,u,d,s){var p=Object(a["resolveComponent"])("el-button"),m=Object(a["resolveComponent"])("SearchBar"),b=Object(a["resolveComponent"])("Table"),f=Object(a["resolveComponent"])("AddDialog"),O=Object(a["resolveDirective"])("permission");return Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[Object(a["createVNode"])("div",c,[Object(a["withDirectives"])(Object(a["createVNode"])(p,{type:"success",onClick:e.onAddColleagueClick},{default:r((function(){return[l]})),_:1},8,["onClick"]),[[O,"member_colleague_add"]]),Object(a["createVNode"])(m,{placeholder:"Search colleague...",value:e.searchValue,onChange:Object(a["withModifiers"])(e.onSearchChange,["self"])},null,8,["value","onChange"])]),Object(a["createVNode"])("div",i,[Object(a["createVNode"])(b,{data:e.list},null,8,["data"])]),Object(a["createVNode"])(f,{ref:"colleaguesAddDialog",onLoad:e.onLoad},null,8,["onLoad"])])})),d=n("1da1"),s=(n("96cf"),Object(a["withScopeId"])("data-v-152739ff"));Object(a["pushScopeId"])("data-v-152739ff");var p={id:"brand-table-component"};Object(a["popScopeId"])();var m=s((function(e,t,n,r,o,c){var l=Object(a["resolveComponent"])("el-table-column"),i=Object(a["resolveComponent"])("el-table");return Object(a["openBlock"])(),Object(a["createBlock"])("div",p,[Object(a["createVNode"])(i,{data:e.data,style:{width:"100%"},"max-height":e.maxHeight,"header-row-class-name":"table-header","cell-class-name":"table-cell"},{default:s((function(){return[Object(a["createVNode"])(l,{width:"250px",prop:"id",label:"Username"},{default:s((function(t){return[Object(a["createVNode"])("a",{class:"username-text",href:"#",onClick:function(n){return e.onUsernameClick(t.row.id)}},[Object(a["createVNode"])("p",null,Object(a["toDisplayString"])(t.row.username),1)],8,["onClick"])]})),_:1}),Object(a["createVNode"])(l,{prop:"nickname",label:"Nickname",width:"250px"}),Object(a["createVNode"])(l,{prop:"email",label:"Email",width:"200px"}),Object(a["createVNode"])(l,{prop:"company",label:"Company",width:"200px"}),Object(a["createVNode"])(l,{prop:"role_name",label:"Role",width:"200px"}),Object(a["createVNode"])(l,{prop:"phone",label:"Phone",width:"200px"}),Object(a["createVNode"])(l,{prop:"active",label:"Status",width:"200px"},{default:s((function(t){return[Object(a["createVNode"])("div",{class:["status-button",e.getStatusButtonStyles(t.row.active)]},Object(a["toDisplayString"])(e.getStatusText(t.row.active)),3)]})),_:1})]})),_:1},8,["data","max-height"])])})),b=n("6c02"),f=function(e){return e?"activated":"expired"},O=function(e){return e?"Activated":"Expired"},h=Object(a["defineComponent"])({name:"BrandTable",props:{data:{type:Array,default:function(){return[]}},maxHeight:{type:String,default:"auto"}},setup:function(){var e=Object(b["d"])(),t=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.push({name:"UserProfile",params:{id:n}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{onUsernameClick:t,getStatusText:O,getStatusButtonStyles:f}}}),j=h;n("0a8e");j.render=m,j.__scopeId="data-v-152739ff";var v=j,g=(n("b0c0"),Object(a["withScopeId"])("data-v-f928391c"));Object(a["pushScopeId"])("data-v-f928391c");var w={id:"colleagues-add-dialog-component"},V={class:"inputs-container"},y=Object(a["createVNode"])("p",{class:"label"},"Username",-1),k=Object(a["createVNode"])("p",{class:"label"},"Team",-1),C=Object(a["createVNode"])("p",{class:"label"},"Role",-1),x=Object(a["createVNode"])("p",{class:"label"},"Email",-1),N=Object(a["createVNode"])("p",{class:"label"},"Password",-1),_=Object(a["createVNode"])("p",{class:"label"},"Confirm Password",-1),S={class:"dialog-footer"},T=Object(a["createTextVNode"])("Cancel"),B=Object(a["createTextVNode"])(" Done ");Object(a["popScopeId"])();var I=g((function(e,t,n,r,o,c){var l=Object(a["resolveComponent"])("el-input"),i=Object(a["resolveComponent"])("el-col"),u=Object(a["resolveComponent"])("el-option"),d=Object(a["resolveComponent"])("el-select"),s=Object(a["resolveComponent"])("el-row"),p=Object(a["resolveComponent"])("el-button"),m=Object(a["resolveComponent"])("el-dialog");return Object(a["openBlock"])(),Object(a["createBlock"])("div",w,[Object(a["createVNode"])(m,{title:"Add Colleague",modelValue:e.visible,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.visible=t}),width:"40%",top:"45px"},{footer:g((function(){return[Object(a["createVNode"])("span",S,[Object(a["createVNode"])(p,{type:"info",onClick:t[7]||(t[7]=function(t){return e.visible=!1})},{default:g((function(){return[T]})),_:1}),Object(a["createVNode"])(p,{type:"success",onClick:e.onConfirm},{default:g((function(){return[B]})),_:1},8,["onClick"])])]})),default:g((function(){return[Object(a["createVNode"])("div",V,[Object(a["createVNode"])(s,{gutter:30},{default:g((function(){return[Object(a["createVNode"])(i,{span:24},{default:g((function(){return[y,Object(a["createVNode"])(l,{modelValue:e.form.username,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.username=t})},null,8,["modelValue"])]})),_:1}),e.teamOptions.length?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,span:24},{default:g((function(){return[k,Object(a["createVNode"])(d,{modelValue:e.form.teams,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.teams=t}),multiple:""},{default:g((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.teamOptions,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:t.id,label:t.name,value:t.id,loading:!e.isLoaded},null,8,["label","value","loading"])})),128))]})),_:1},8,["modelValue"])]})),_:1})):Object(a["createCommentVNode"])("",!0),e.roleOptions.length?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:1},{default:g((function(){return[C,Object(a["createVNode"])(d,{modelValue:e.form.role,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.role=t}),placeholder:"Role..."},{default:g((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.roleOptions,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:t,value:e.value,label:e.label},{default:g((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.label),1)]})),_:2},1032,["value","label"])})),128))]})),_:1},8,["modelValue"])]})),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(i,{span:24},{default:g((function(){return[x,Object(a["createVNode"])(l,{modelValue:e.form.email,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.email=t}),type:"email"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(i,{span:24},{default:g((function(){return[N,Object(a["createVNode"])(l,{modelValue:e.form.password,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.password=t}),type:"password"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(i,{span:24},{default:g((function(){return[_,Object(a["createVNode"])(l,{modelValue:e.confirmPassword,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.confirmPassword=t}),type:"password"},null,8,["modelValue"])]})),_:1})]})),_:1})])]})),_:1},8,["modelValue"])])})),U=(n("d81d"),n("1dc8")),R=n("3fd4"),D=n("6ec5"),E=n("d257"),A=(n("99af"),function(){var e="https://weaverbird.dev.bilabasia.com/static/mail/invitation/welcome.jpeg";return'\n  <table\n    align="center"\n    border="0"\n    cellpadding="0"\n    cellspacing="0"\n    width="100%"\n  >\n    <tr>\n      <td style="font-size: 0; line-height: 0;" height="4">\n        &nbsp;\n      </td>\n    </tr>\n    <tr>\n      <td width="592" valign="top" style="padding-right: 0; padding-left: 0;">\n        <img\n          src="'.concat(e,'"\n          alt=""\n          width="600"\n          height="337"\n          style="display: block;"\n        />\n      </td>\n    </tr>\n  </table>\n  ')}),P=function(e,t){return'\n    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n      <html xmlns="http://www.w3.org/1999/xhtml">\n　      <head>\n　　      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />\n　　        <title>You have been invited to join Weaverbird</title>\n　　      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>\n　      </head>\n        <body style="margin: 0; padding: 0;">\n          <table border="0" cellpadding="0" cellspacing="0" width="100%">\n　　        <tr>\n              <table\n                align="center"\n                border="0"\n                cellpadding="0"\n                cellspacing="0"\n                width="600"\n              >\n                <tr>\n                  <td\n                    style="padding-top: 0; padding-right: 0; padding-bottom: 0; padding-left: 0;"\n                  >\n                   '.concat(A(),'\n                   </td>\n                 </tr>\n                 <tr>\n                  <td style="font-size: 0; line-height: 0;" height="30">\n                    &nbsp;\n                  </td>\n                 </tr>\n                 <tr>\n                   <td style="padding-right: 15px; padding-left: 15px;">\n                     <p style="font-size: 16px; font-weight: 500; padding: 0; margin: 0; font-family: Avenir; color: #2c3e50;">\n                       Here is your account information.\n                     </p>\n                     <p style="font-size: 16px; font-weight: 500; padding: 0; margin: 0; font-family: Avenir; color: #2c3e50;">\n                       Username: ').concat(e,'\n                     </p>\n                     <p style="font-size: 16px; font-weight: 500; padding: 0; margin: 0; font-family: Avenir; color: #2c3e50;">\n                       Password: ').concat(t,'\n                     </p>\n                     <p style="font-size: 16px; font-weight: 500; padding: 0; margin: 0; font-family: Avenir; color: #2c3e50;">\n                      Click the attached link to start your journey with Weaverbird. <br>\n                      <a href="https://weaverbird.bilabasia.com/web/login">https://weaverbird.bilabasia.com/web/login</a>\n                     </p>\n                   </td>\n                 </tr>\n                 <tr>\n                   <td style="font-size: 0; line-height: 0;" height="30">\n                     &nbsp;\n                   </td>\n                 </tr>\n              </table>\n　　        </tr>\n          </table>\n        </body>\n     </html>\n  ')},L=Object(a["defineComponent"])({name:"ColleaguesAddDialog",setup:function(e,t){var n=t.emit,r=Object(a["ref"])(!1),o=Object(a["ref"])([]),c=Object(a["ref"])(!1),l=Object(a["ref"])([]),i=Object(a["ref"])(""),u=Object(a["reactive"])({username:"",password:"",email:"",teams:[],role:null}),s=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(D["d"])(0,{category:"assignable"});case 2:return t=e.sent,n=t.data,e.next=6,Object(D["c"])(0,{category:"to_colleague"});case 6:a=e.sent,r=a.data,o.value=n,l.value=r.map((function(e){return{label:e.name,value:e.value,checked:!1}})),c.value=!0;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,e.next=3,s();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u.username&&!/[^\w@+-.]/g.test(u.username)){e.next=3;break}return Object(R["c"])({type:"error",title:"Error",message:"Username should follow rules: 150 characters or fewer. Letters, digits and @/./+/-/_ only"}),e.abrupt("return");case 3:if(u.email&&E["a"].test(u.email)){e.next=6;break}return Object(R["c"])({type:"error",title:"Error",message:"Please enter a valid email address"}),e.abrupt("return");case 6:if(u.password&&u.password===i.value){e.next=9;break}return Object(R["c"])({type:"error",title:"Error",message:"The password confirmation does not match."}),e.abrupt("return");case 9:return t={username:u.username,password:u.password,email:u.email,teams:u.teams,role:u.role,html_message:P(u.username,u.password)},e.next=12,Object(U["d"])(t);case 12:Object(R["c"])({type:"success",title:"Success",message:"Add colleague ".concat(u.username," successfully.")}),n("load"),r.value=!1;case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{form:u,confirmPassword:i,teamOptions:o,roleOptions:l,visible:r,open:p,onConfirm:m}}}),G=L;n("c5e6");G.render=I,G.__scopeId="data-v-f928391c";var z=G,F=n("14ac"),H=Object(a["defineComponent"])({name:"Colleagues",components:{Table:v,AddDialog:z,SearchBar:F["a"]},setup:function(){var e=Object(a["ref"])(null),t=Object(a["ref"])(""),n=Object(a["ref"])([]),r=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(E["f"])(),e.prev=1,e.next=4,Object(D["e"])({category:"colleagues"});case 4:a=e.sent,r=a.data,n.value=r;case 7:return e.prev=7,t.close(),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[1,,7,10]])})));return function(){return e.apply(this,arguments)}}();Object(a["onMounted"])(r);var o=function(){e.value&&e.value.open()},c=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(a){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.value=a,e.next=3,Object(D["e"])({category:"assignable",q:t.value});case 3:r=e.sent,o=r.data,n.value=o;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{list:n,colleaguesAddDialog:e,searchValue:t,onAddColleagueClick:o,onSearchChange:c,onLoad:l}}}),J=H;n("6dd2");J.render=u,J.__scopeId="data-v-4283e9fa";t["default"]=J},e2d4:function(e,t,n){}}]);
//# sourceMappingURL=Colleagues.eb100c71.js.map