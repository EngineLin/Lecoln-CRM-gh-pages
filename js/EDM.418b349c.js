(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["EDM"],{"04d1":function(e,t,c){var n=c("342f"),r=n.match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},"37f5":function(e,t,c){},"410f":function(e,t,c){"use strict";c.r(t);c("4e82");var n=c("7a23"),r=Object(n["withScopeId"])("data-v-b6a6758c");Object(n["pushScopeId"])("data-v-b6a6758c");var a={id:"edm-component"},o=Object(n["createVNode"])("h2",{class:"zoom-title"},"Choose Template",-1),i=Object(n["createVNode"])("p",{class:"name"},"Template 1",-1),u=Object(n["createVNode"])("p",{class:"name"},"Template 2",-1),s=Object(n["createVNode"])("p",{class:"name"},"Template 3",-1),l=Object(n["createVNode"])("h2",{class:"zoom-title"},"Saved EDM",-1),d={class:"name"};Object(n["popScopeId"])();var p=r((function(e,t,c,p,b,f){var v=Object(n["resolveComponent"])("EDMTemplateCard"),m=Object(n["resolveComponent"])("el-col"),O=Object(n["resolveComponent"])("el-row");return Object(n["openBlock"])(),Object(n["createBlock"])("div",a,[o,Object(n["createVNode"])(O,{gutter:30},{default:r((function(){return[Object(n["createVNode"])(m,{span:8},{default:r((function(){return[Object(n["createVNode"])(v,{onClick:t[1]||(t[1]=function(t){return e.onCardClick(-1)})},{default:r((function(){return[Object(n["createVNode"])("img",{class:"edm-cover-image",src:e.COVER_URL.COVER1,alt:"cover 1"},null,8,["src"])]})),_:1}),i]})),_:1}),Object(n["createVNode"])(m,{span:8},{default:r((function(){return[Object(n["createVNode"])(v,{onClick:t[2]||(t[2]=function(t){return e.onCardClick(-2)})},{default:r((function(){return[Object(n["createVNode"])("img",{class:"edm-cover-image",src:e.COVER_URL.COVER2,alt:"cover 2"},null,8,["src"])]})),_:1}),u]})),_:1}),Object(n["createVNode"])(m,{span:8},{default:r((function(){return[Object(n["createVNode"])(v,{onClick:t[3]||(t[3]=function(t){return e.onCardClick(-3)})},{default:r((function(){return[Object(n["createVNode"])("img",{class:"edm-cover-image",src:e.COVER_URL.COVER3,alt:"cover 3"},null,8,["src"])]})),_:1}),s]})),_:1})]})),_:1}),l,Object(n["createVNode"])(O,{gutter:30},{default:r((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.list.sort((function(e,t){return t.id-e.id})),(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])(m,{key:t.id,span:8},{default:r((function(){return[Object(n["createVNode"])(v,{editable:"",onClick:function(c){return e.onCardClick(t.id)},onDuplicate:function(c){return e.onDuplicateClick(t)}},{default:r((function(){return[Object(n["createVNode"])("img",{class:"edm-cover-image",src:e.getCover(t.chosen_template),alt:"cover"},null,8,["src"])]})),_:2},1032,["onClick","onDuplicate"]),Object(n["createVNode"])("p",d,Object(n["toDisplayString"])(t.subject),1)]})),_:2},1024)})),128))]})),_:1})])})),b=c("1da1"),f=(c("96cf"),c("5502")),v=c("6c02"),m=Object(n["withScopeId"])("data-v-713a3668");Object(n["pushScopeId"])("data-v-713a3668");var O={id:"edm-template-card-component"},j={class:"wrapper"},h={class:"content"},C={class:"edit-icon"};Object(n["popScopeId"])();var g=m((function(e,t,c,r,a,o){var i=Object(n["resolveComponent"])("font-awesome-icon"),u=Object(n["resolveComponent"])("el-popover");return Object(n["openBlock"])(),Object(n["createBlock"])("div",O,[Object(n["createVNode"])("div",j,[Object(n["renderSlot"])(e.$slots,"default",{},void 0,!0),e.editable?(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:0,visible:e.visible,"onUpdate:visible":t[3]||(t[3]=function(t){return e.visible=t}),placement:"bottom",offset:2,width:80,trigger:"click","show-arrow":!1},{reference:m((function(){return[Object(n["createVNode"])("div",C,[Object(n["createVNode"])(i,{class:"icon",icon:["fas","ellipsis-h"]})])]})),default:m((function(){return[Object(n["createVNode"])("div",h,[Object(n["createVNode"])("p",{onClick:t[1]||(t[1]=function(){return e.onDuplicateClick&&e.onDuplicateClick.apply(e,arguments)})},"Duplicate"),Object(n["createVNode"])("p",{onClick:t[2]||(t[2]=function(){return e.onDeleteClick&&e.onDeleteClick.apply(e,arguments)})},"Delete")])]})),_:1},8,["visible"])):Object(n["createCommentVNode"])("",!0)])])})),k=Object(n["defineComponent"])({name:"EDMTemplateCard",props:{editable:{type:Boolean,default:!1}},setup:function(e,t){var c=t.emit,r=Object(n["ref"])(!1),a=function(){r.value=!1,c("duplicate")},o=function(){r.value=!1,c("delete")};return{visible:r,onDuplicateClick:a,onDeleteClick:o}}}),V=k;c("4ee7");V.render=g,V.__scopeId="data-v-713a3668";var w=V,N=c("64b4"),_=c("52b1"),E=c("3fd4"),D=c("d257"),R=Object(n["defineComponent"])({name:"EDM",components:{EDMTemplateCard:w},setup:function(){var e=Object(v["d"])(),t=Object(f["b"])(),c=Object(n["computed"])((function(){return t.state.edm.list})),r=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=Object(D["e"])(),e.next=3,t.dispatch(_["l"]);case 3:c.close();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n["onMounted"])(Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var a=function(){var c=Object(b["a"])(regeneratorRuntime.mark((function c(n){var r,a,o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(r=n,!(r<0)){c.next=8;break}return a={subject:"New EDM",recipient_brand:"Brand Name",message:"Message",message_body:"Text",html_message:"<div></div>",creator:1,chosen_collection:null,chosen_template:Math.abs(r)},c.next=5,t.dispatch(_["C"],a);case 5:o=c.sent,r=o.id,Object(E["b"])({title:"Success",type:"success",message:"Create new EDM successful."});case 8:return c.next=10,e.push({name:"EDMDetail",params:{id:r}});case 10:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}(),o=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(c){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.dispatch(_["D"],c.id);case 3:return Object(E["b"])({title:"Success",type:"success",message:"EDM ".concat(c.subject," duplicated successful.")}),e.next=6,r();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),Object(E["b"])({title:"Error",type:"error",message:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return{COVER_URL:N["a"],list:c,onCardClick:a,onDuplicateClick:o,getCover:N["b"]}}}),x=R;c("b088");x.render=p,x.__scopeId="data-v-b6a6758c";t["default"]=x},"4e82":function(e,t,c){"use strict";var n=c("23e7"),r=c("1c0b"),a=c("7b0b"),o=c("50c4"),i=c("d039"),u=c("addb"),s=c("a640"),l=c("04d1"),d=c("d998"),p=c("2d00"),b=c("512c"),f=[],v=f.sort,m=i((function(){f.sort(void 0)})),O=i((function(){f.sort(null)})),j=s("sort"),h=!i((function(){if(p)return p<70;if(!(l&&l>3)){if(d)return!0;if(b)return b<603;var e,t,c,n,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:c=3;break;case 68:case 71:c=4;break;default:c=2}for(n=0;n<47;n++)f.push({k:t+n,v:c})}for(f.sort((function(e,t){return t.v-e.v})),n=0;n<f.length;n++)t=f[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}})),C=m||!O||!j||!h,g=function(e){return function(t,c){return void 0===c?-1:void 0===t?1:void 0!==e?+e(t,c)||0:String(t)>String(c)?1:-1}};n({target:"Array",proto:!0,forced:C},{sort:function(e){void 0!==e&&r(e);var t=a(this);if(h)return void 0===e?v.call(t):v.call(t,e);var c,n,i=[],s=o(t.length);for(n=0;n<s;n++)n in t&&i.push(t[n]);i=u(i,g(e)),c=i.length,n=0;while(n<c)t[n]=i[n++];while(n<s)delete t[n++];return t}})},"4ee7":function(e,t,c){"use strict";c("37f5")},"512c":function(e,t,c){var n=c("342f"),r=n.match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},"64b4":function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return r}));var n={COVER1:"https://weaverbird.bilabasia.com/static/mail/covers/cover_1.png",COVER2:"https://weaverbird.bilabasia.com/static/mail/covers/cover_2.png",COVER3:"https://weaverbird.bilabasia.com/static/mail/covers/cover_3.png"},r=function(e){return 1===e?n.COVER1:2===e?n.COVER2:3===e?n.COVER3:n.COVER1}},a45e:function(e,t,c){},addb:function(e,t){var c=Math.floor,n=function(e,t){var o=e.length,i=c(o/2);return o<8?r(e,t):a(n(e.slice(0,i),t),n(e.slice(i),t),t)},r=function(e,t){var c,n,r=e.length,a=1;while(a<r){n=a,c=e[a];while(n&&t(e[n-1],c)>0)e[n]=e[--n];n!==a++&&(e[n]=c)}return e},a=function(e,t,c){var n=e.length,r=t.length,a=0,o=0,i=[];while(a<n||o<r)a<n&&o<r?i.push(c(e[a],t[o])<=0?e[a++]:t[o++]):i.push(a<n?e[a++]:t[o++]);return i};e.exports=n},b088:function(e,t,c){"use strict";c("a45e")},d998:function(e,t,c){var n=c("342f");e.exports=/MSIE|Trident/.test(n)}}]);
//# sourceMappingURL=EDM.418b349c.js.map