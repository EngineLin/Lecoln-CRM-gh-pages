{"version":3,"sources":["webpack:///./src/views/Account/Companies/AddDialog.vue?94fc","webpack:///./src/components/SearchBar.vue","webpack:///./src/components/SearchBar.vue?d0a6","webpack:///./src/components/SearchBar.vue?1b8b","webpack:///./src/views/Account/Companies/index.vue","webpack:///./src/views/Account/Companies/Table.vue","webpack:///./src/views/Account/Companies/Table.vue?ffa5","webpack:///./src/views/Account/Companies/Table.vue?da29","webpack:///./src/views/Account/Companies/AddDialog.vue","webpack:///./src/views/Account/Companies/AddDialog.vue?3307","webpack:///./src/views/Account/Companies/AddDialog.vue?d144","webpack:///./src/views/Account/Companies/index.vue?489c","webpack:///./src/views/Account/Companies/index.vue?9c55","webpack:///./src/views/Account/Companies/Table.vue?fb6c","webpack:///./src/components/SearchBar.vue?588c","webpack:///./src/views/Account/Companies/index.vue?4165"],"names":["id","placeholder","model-value","value","onChange","prefix","style","icon","Component","name","props","type","String","default","setup","_","emit","render","__scopeId","class","onAddColleagueClick","searchValue","onSearchChange","data","list","ref","onLoad","max-height","maxHeight","header-row-class-name","cell-class-name","onRowClick","width","size","image-url","prop","label","components","Avatar","Array","router","row","push","params","formatImageUrl","title","visible","top","footer","onConfirm","gutter","span","logoUrl","onUploadLogo","form","company_type","typeOptions","item","index","key","logo","init","console","log","open","element","document","createElement","accept","multiple","addEventListener","files","file","click","Table","AddDialog","SearchBar","colleaguesAddDialog","timeId","undefined","loadingInstance","close","clearTimeout","setTimeout","q"],"mappings":"6GAAA,W,qJCCOA,GAAG,wB,8LAAR,yBASM,MATN,EASM,CARJ,yBAOW,GAPAC,YAAa,EAAAA,YAAcC,cAAa,EAAAC,MAAQ,QAAO,EAAAC,U,CACrDC,OAAM,GACf,iBAGqB,CAHrB,yBAGqB,GAFnBC,MAAA,qCACCC,KAAM,CAAC,MAAO,gB,qDCHnBC,EAAY,6BAAgB,CAChCC,KAAM,YACNC,MAAO,CACLT,YAAa,CACXU,KAAMC,OACNC,QAAS,IAEXV,MAAO,CACLQ,KAAMC,OACNC,QAAS,KAGbC,MAZgC,SAY1BC,EAZ0B,GAYf,IAANC,EAAM,EAANA,KACHZ,EAAW,SAACD,GAChBa,EAAK,SAAUb,IAEjB,MAAO,CACLC,eAKS,I,UCpBf,EAAOa,OAASA,EAChB,EAAOC,UAAY,kBAEJ,U,8MCPRlB,GAAG,wB,GACDmB,MAAM,mB,+BAKR,iB,GASEA,MAAM,iB,2TAfb,yBAmBM,MAnBN,EAmBM,CAlBJ,yBAaM,MAbN,EAaM,C,4BAZJ,yBAMY,GAJVR,KAAK,UACJ,QAAO,EAAAS,qB,YACT,iBAED,C,8BALgB,0BAMhB,yBAIa,GAHXnB,YAAY,oBACXE,MAAO,EAAAkB,YACP,SAAM,2BAAO,EAAAC,eAAc,W,+BAGhC,yBAEM,MAFN,EAEM,CADJ,yBAA4B,GAApBC,KAAM,EAAAC,MAAI,mBAEpB,yBAAgE,GAArDC,IAAI,sBAAuB,OAAM,EAAAC,Q,iJClBzC1B,GAAG,yB,sOAAR,yBAwBM,MAxBN,EAwBM,CAvBJ,yBAsBW,GArBRuB,KAAM,EAAAA,KACNjB,MAAO,eACPqB,aAAY,EAAAC,UACbC,wBAAsB,eACtBC,kBAAgB,aACf,WAAU,EAAAC,Y,YAEX,iBASkB,CATlB,yBASkB,GATDC,MAAM,QAAM,CAChBnB,QAAO,GAChB,SADuB,GACvB,MADuB,CACvB,yBAKU,GAJPoB,KAAM,GACNC,YAA0B,iBAAe,EAAM,IAAI,KAAO,EAAM,IAAI,KAAK,KAAI,K,gCAMpF,yBACkB,GADDC,KAAK,OAAOC,MAAM,UAAUJ,MAAM,UAEnD,yBAAqE,GAApDG,KAAK,eAAeC,MAAM,SAC3C,yBAAkF,GAAjED,KAAK,kBAAkBC,MAAM,uB,oFChB9C5B,EAAY,6BAAgB,CAChCC,KAAM,eACN4B,WAAY,CACVC,SAAA,MAEF5B,MAAO,CACLa,KAAM,CACJZ,KAAM4B,MACN1B,QAAS,iBAAM,KAEjBe,UAAW,CACTjB,KAAMC,OACNC,QAAS,SAGbC,MAfgC,WAgB9B,IAAM0B,EAAS,iBAETT,EAAU,yDAAG,WAAOU,GAAP,iGACXD,EAAOE,KAAK,CAAEjC,KAAM,gBAAiBkC,OAAQ,CAAE3C,GAAIyC,EAAIzC,MAD5C,2CAAH,sDAIhB,MAAO,CACL+B,aAEAa,eAAA,WAKS,I,UChCf,EAAO3B,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,6GCPRlB,GAAG,mC,GAECmB,MAAM,oB,EAuBL,yBAA2C,KAAxCA,MAAM,SAAO,C,6BAAC,YAAQ,yBAAc,YAAR,O,KAI/B,yBAAwC,KAArCA,MAAM,SAAO,C,6BAAC,SAAK,yBAAc,YAAR,O,MAa1BA,MAAM,iB,+BACsC,U,+BACH,S,scA5CrD,yBAkDM,MAlDN,EAkDM,CAjDJ,yBAgDY,GAhDD0B,MAAM,c,WAAuB,EAAAC,Q,qDAAA,EAAAA,QAAO,IAAEd,MAAM,QAAQe,IAAI,Q,CAwCtDC,OAAM,GACf,iBAKO,CALP,yBAKO,OALP,EAKO,CAJL,yBAAkE,GAAvDrC,KAAK,OAAQ,QAAK,+BAAE,EAAAmC,SAAO,K,YAAU,iBAAM,C,YACtD,yBAEY,GAFDnC,KAAK,UAAW,QAAO,EAAAsC,W,YAAW,iBAE7C,C,2CA5CJ,iBAsCM,CAtCN,yBAsCM,MAtCN,EAsCM,CArCJ,yBAoCS,GApCAC,OAAQ,IAAE,C,WACjB,iBAmBS,CAnBT,yBAmBS,GAnBAC,KAAM,IAAE,C,WACf,iBAiBM,CAjBN,yBAiBM,OAhBJhC,MAAM,SACLb,MAAK,C,+BAA6C,iBAAe,W,SAKzD,EAAA8C,Q,iEADT,yBAIqB,G,MAFnBjC,MAAM,OACLZ,KAAM,CAAC,MAAO,WAGR,EAAA6C,Q,iEADT,yBAKqB,G,MAHnBjC,MAAM,aACLZ,KAAM,CAAC,MAAO,UACd,QAAO,EAAA8C,c,mCAId,yBAGS,GAHAF,KAAM,IAAE,C,WACf,iBAA2C,CAA3C,EACA,yBAAyC,G,WAAtB,EAAAG,KAAK7C,K,qDAAL,EAAA6C,KAAK7C,KAAI,K,iCAE9B,yBAUS,GAVA0C,KAAM,IAAE,C,WACf,iBAAwC,CAAxC,EACA,yBAOY,G,WAPQ,EAAAG,KAAKC,a,qDAAL,EAAAD,KAAKC,aAAY,K,YAEjC,iBAAoC,E,2BADtC,yBAKa,2CAJa,EAAAC,aAAW,SAA3BC,EAAMC,G,gCADhB,yBAKa,GAHVC,IAAKD,EACLtB,MAAOqB,EAAKrB,MACZjC,MAAOsD,EAAKtD,O,gIC5BvBqD,EAA4B,CAChC,CACEpB,MAAO,QACPjC,MAAO,SAET,CACEiC,MAAO,kBACPjC,MAAO,aAIL,EAAY,6BAAgB,CAChCM,KAAM,mBACNK,MAFgC,SAE1BC,EAF0B,GAEf,IAANC,EAAM,EAANA,KACH8B,EAAU,kBAAI,GAEdQ,EAAO,sBAA8B,CACzCM,MAAO,EACPnD,KAAM,GACN8C,aAAc,KAEVH,EAAU,iBAAI,IAEdS,EAAI,yDAAG,8FACXC,QAAQC,IAAI,QADD,2CAAH,qDAIJC,EAAI,yDAAG,qGACXlB,EAAQ3C,OAAQ,EADL,SAEL0D,IAFK,2CAAH,qDAKJR,EAAe,WACnB,IAAMY,EAAUC,SAASC,cAAc,SACvCF,EAAQtD,KAAO,OACfsD,EAAQG,OAAS,UACjBH,EAAQI,UAAW,EACnBJ,EAAQK,iBAAiB,SAAzB,wCAAmC,0GAC7BL,EAAQM,MADqB,gCAER,eAAgBN,EAAQM,MAAM,IAFtB,gBAEvBhD,EAFuB,EAEvBA,KACR+B,EAAKM,KAAOrC,EAAKvB,GACjBoD,EAAQjD,MAAQoB,EAAKiD,KAJU,4CAOnCP,EAAQQ,SAGJxB,EAAS,yDAAG,8GACV,eAAkBK,GADR,OAEhBtC,EAAK,QACL8B,EAAQ3C,OAAQ,EAHA,2CAAH,qDAMf,MAAO,CACLmD,OACAF,UACAI,cACAV,UAEAkB,OACAX,eACAJ,YAEAL,eAAA,WAKS,I,UCvEf,EAAO3B,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,YCET,EAAY,6BAAgB,CAChCT,KAAM,aACN4B,WAAY,CACVqC,QACAC,YACAC,YAAA,MAEF9D,MAPgC,WAQ9B,IAAM+D,EAAsB,iBAA0B,MAChDxD,EAAc,iBAAI,IAClBG,EAAO,iBAA2B,IAClCsD,EAAS,sBAA+CC,GAExDlB,EAAI,yDAAG,+GACLmB,EAAkB,iBADb,kBAGc,iBAHd,gBAGDzD,EAHC,EAGDA,KACRC,EAAKrB,MAAQoB,EAJJ,uBAMTyD,EAAgBC,QANP,yEAAH,qDAUV,uBAAUpB,GAEV,IAAMzC,EAAsB,WACrByD,EAAoB1E,OACzB0E,EAAoB1E,MAAM6D,QAGtB1C,EAAc,yDAAG,WAAOnB,GAAP,iFACrBkB,EAAYlB,MAAQA,EAEpB2E,EAAO3E,OAAS+E,aAAaJ,EAAO3E,OACpC2E,EAAO3E,MAAQgF,WAAU,wCAAC,sHACD,eAAa,CAAEC,EAAG/D,EAAYlB,QAD7B,gBAChBoB,EADgB,EAChBA,KACRC,EAAKrB,MAAQoB,EAFW,2CAGvB,KAPkB,2CAAH,sDAUdG,EAAM,yDAAG,8GACPmC,IADO,2CAAH,qDAIZ,MAAO,CACLrC,OACAqD,sBACAxD,cAEAD,sBACAE,iBACAI,aAKS,I,UC7Df,EAAOT,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf,W,2DCAA,W,2DCAA","file":"js/Companies.3fc84ca0.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AddDialog.vue?vue&type=style&index=0&id=04d09adc&scoped=true&lang=stylus\"","<template>\n  <div id=\"search-bar-component\">\n    <el-input :placeholder=\"placeholder\" :model-value=\"value\" @input=\"onChange\">\n      <template #prefix>\n        <font-awesome-icon\n          style=\"color: #444444; font-size: 18px;\"\n          :icon=\"['fas', 'search']\"\n        ></font-awesome-icon>\n      </template>\n    </el-input>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nconst Component = defineComponent({\n  name: \"SearchBar\",\n  props: {\n    placeholder: {\n      type: String,\n      default: \"\"\n    },\n    value: {\n      type: String,\n      default: \"\"\n    }\n  },\n  setup(_, { emit }) {\n    const onChange = (value: string) => {\n      emit(\"change\", value);\n    };\n    return {\n      onChange\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#search-bar-component\n  .el-input\n    width 300px\n\n    :deep() .el-input__prefix\n      flex()\n  p\n    font-weight 400\n    font-size $font-size-large\n    margin-right 15px\n</style>\n","\nimport { defineComponent } from \"vue\";\n\nconst Component = defineComponent({\n  name: \"SearchBar\",\n  props: {\n    placeholder: {\n      type: String,\n      default: \"\"\n    },\n    value: {\n      type: String,\n      default: \"\"\n    }\n  },\n  setup(_, { emit }) {\n    const onChange = (value: string) => {\n      emit(\"change\", value);\n    };\n    return {\n      onChange\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./SearchBar.vue?vue&type=template&id=f685ce18&scoped=true\"\nimport script from \"./SearchBar.vue?vue&type=script&lang=ts\"\nexport * from \"./SearchBar.vue?vue&type=script&lang=ts\"\n\nimport \"./SearchBar.vue?vue&type=style&index=0&id=f685ce18&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-f685ce18\"\n\nexport default script","<template>\n  <div id=\"colleagues-component\">\n    <div class=\"console-wrapper\">\n      <el-button\n        v-permission=\"'member_colleague_add'\"\n        type=\"success\"\n        @click=\"onAddColleagueClick\"\n      >\n        Add Company\n      </el-button>\n      <SearchBar\n        placeholder=\"Search company...\"\n        :value=\"searchValue\"\n        @change.self=\"onSearchChange\"\n      ></SearchBar>\n    </div>\n    <div class=\"table-wrapper\">\n      <Table :data=\"list\"></Table>\n    </div>\n    <AddDialog ref=\"colleaguesAddDialog\" @load=\"onLoad\"></AddDialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, onMounted } from \"vue\";\nimport Table from \"./Table.vue\";\nimport AddDialog from \"./AddDialog.vue\";\nimport SearchBar from \"@/components/SearchBar.vue\";\nimport { iCreateDialog } from \"@/typings/component\";\nimport { loading } from \"@/utils\";\nimport { getCompanies } from \"@/apis/company\";\nimport { CompanyCardResponse } from \"@/typings/company\";\n\nconst Component = defineComponent({\n  name: \"Colleagues\",\n  components: {\n    Table,\n    AddDialog,\n    SearchBar\n  },\n  setup() {\n    const colleaguesAddDialog = ref<iCreateDialog | null>(null);\n    const searchValue = ref(\"\");\n    const list = ref<CompanyCardResponse[]>([]);\n    const timeId = ref<ReturnType<typeof setTimeout> | undefined>(undefined);\n\n    const init = async () => {\n      const loadingInstance = loading();\n      try {\n        const { data } = await getCompanies();\n        list.value = data;\n      } finally {\n        loadingInstance.close();\n      }\n    };\n\n    onMounted(init);\n\n    const onAddColleagueClick = () => {\n      if (!colleaguesAddDialog.value) return;\n      colleaguesAddDialog.value.open();\n    };\n\n    const onSearchChange = async (value: string) => {\n      searchValue.value = value;\n\n      timeId.value && clearTimeout(timeId.value);\n      timeId.value = setTimeout(async () => {\n        const { data } = await getCompanies({ q: searchValue.value });\n        list.value = data;\n      }, 500);\n    };\n\n    const onLoad = async () => {\n      await init();\n    };\n\n    return {\n      list,\n      colleaguesAddDialog,\n      searchValue,\n\n      onAddColleagueClick,\n      onSearchChange,\n      onLoad\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#colleagues-component\n  page-container()\n  .console-wrapper\n    flex(space-between)\n  .table-wrapper\n    height calc(100vh - 170px)\n    overflow-y scroll\n    margin-top 30px\n</style>\n","<template>\n  <div id=\"brand-table-component\">\n    <el-table\n      :data=\"data\"\n      :style=\"{ width: '100%' }\"\n      :max-height=\"maxHeight\"\n      header-row-class-name=\"table-header\"\n      cell-class-name=\"table-cell\"\n      @rowClick=\"onRowClick\"\n    >\n      <el-table-column width=\"80px\">\n        <template #default=\"scope\">\n          <Avatar\n            :size=\"50\"\n            :image-url=\"\n              formatImageUrl(scope.row.logo ? scope.row.logo.file : '')\n            \"\n          ></Avatar>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"name\" label=\"Company\" width=\"200px\">\n      </el-table-column>\n      <el-table-column prop=\"company_type\" label=\"Type\"> </el-table-column>\n      <el-table-column prop=\"activated_users\" label=\"Activated User\"> </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport Avatar from \"@/components/Avatar.vue\";\nimport { Member } from \"@/typings/member\";\nimport { formatImageUrl } from \"@/utils\";\n\nconst Component = defineComponent({\n  name: \"CompanyTable\",\n  components: {\n    Avatar\n  },\n  props: {\n    data: {\n      type: Array as PropType<Member[]>,\n      default: () => []\n    },\n    maxHeight: {\n      type: String,\n      default: \"auto\"\n    }\n  },\n  setup() {\n    const router = useRouter();\n\n    const onRowClick = async (row: Member) => {\n      await router.push({ name: \"CompanyDetail\", params: { id: row.id } });\n    };\n\n    return {\n      onRowClick,\n\n      formatImageUrl\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#brand-table-component\n  :deep() .el-table\n    background $color-background\n\n  :deep() .el-table__header-wrapper\n    border-bottom 1px solid $color-black\n    thead\n      color $color-black\n\n  :deep() .table-header\n    th\n      padding 0 0 15px\n      background $color-background\n\n  :deep() .el-table__body-wrapper\n    margin 15px 0 0\n\n  :deep() .el-table__row\n    cursor pointer\n\n  :deep() .cell\n    flex()\n    font-size $font-size-large\n    font-weight 500\n    text-align center\n    white-space nowrap\n</style>\n","\nimport { defineComponent, PropType } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport Avatar from \"@/components/Avatar.vue\";\nimport { Member } from \"@/typings/member\";\nimport { formatImageUrl } from \"@/utils\";\n\nconst Component = defineComponent({\n  name: \"CompanyTable\",\n  components: {\n    Avatar\n  },\n  props: {\n    data: {\n      type: Array as PropType<Member[]>,\n      default: () => []\n    },\n    maxHeight: {\n      type: String,\n      default: \"auto\"\n    }\n  },\n  setup() {\n    const router = useRouter();\n\n    const onRowClick = async (row: Member) => {\n      await router.push({ name: \"CompanyDetail\", params: { id: row.id } });\n    };\n\n    return {\n      onRowClick,\n\n      formatImageUrl\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./Table.vue?vue&type=template&id=1b730c89&scoped=true\"\nimport script from \"./Table.vue?vue&type=script&lang=ts\"\nexport * from \"./Table.vue?vue&type=script&lang=ts\"\n\nimport \"./Table.vue?vue&type=style&index=0&id=1b730c89&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-1b730c89\"\n\nexport default script","<template>\n  <div id=\"colleagues-add-dialog-component\">\n    <el-dialog title=\"Add Company\" v-model=\"visible\" width=\"500px\" top=\"45px\">\n      <div class=\"inputs-container\">\n        <el-row :gutter=\"30\">\n          <el-col :span=\"24\">\n            <div\n              class=\"avatar\"\n              :style=\"{\n                backgroundImage: `url('${formatImageUrl(logoUrl)}')`\n              }\"\n            >\n              <font-awesome-icon\n                v-if=\"!logoUrl\"\n                class=\"icon\"\n                :icon=\"['fas', 'user']\"\n              ></font-awesome-icon>\n              <font-awesome-icon\n                v-if=\"!logoUrl\"\n                class=\"icon-photo\"\n                :icon=\"['fas', 'camera']\"\n                @click=\"onUploadLogo\"\n              ></font-awesome-icon>\n            </div>\n          </el-col>\n          <el-col :span=\"24\">\n            <p class=\"label\">Company <span>*</span></p>\n            <el-input v-model=\"form.name\"></el-input>\n          </el-col>\n          <el-col :span=\"24\">\n            <p class=\"label\">Type <span>*</span></p>\n            <el-select v-model=\"form.company_type\">\n              <el-option\n                v-for=\"(item, index) in typeOptions\"\n                :key=\"index\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n          </el-col>\n        </el-row>\n      </div>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button type=\"info\" @click=\"visible = false\">Cancel</el-button>\n          <el-button type=\"success\" @click=\"onConfirm\">\n            Add\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive } from \"vue\";\n\nimport { formatImageUrl } from \"@/utils\";\nimport { OptionItem } from \"@/typings/asideFilter\";\nimport { CompanyCreateParams } from \"@/typings/company\";\nimport { postCompanyCreate, postCompanyLogo } from \"@/apis/company\";\n\nconst typeOptions: OptionItem[] = [\n  {\n    label: \"Buyer\",\n    value: \"buyer\"\n  },\n  {\n    label: \"Garment Factory\",\n    value: \"supplier\"\n  }\n];\n\nconst Component = defineComponent({\n  name: \"CompanyAddDialog\",\n  setup(_, { emit }) {\n    const visible = ref(false);\n\n    const form = reactive<CompanyCreateParams>({\n      logo: -1,\n      name: \"\",\n      company_type: \"\"\n    });\n    const logoUrl = ref(\"\");\n\n    const init = async () => {\n      console.log(\"work\");\n    };\n\n    const open = async () => {\n      visible.value = true;\n      await init();\n    };\n\n    const onUploadLogo = () => {\n      const element = document.createElement(\"input\");\n      element.type = \"file\";\n      element.accept = \"image/*\";\n      element.multiple = false;\n      element.addEventListener(\"change\", async () => {\n        if (element.files) {\n          const { data } = await postCompanyLogo(element.files[0]);\n          form.logo = data.id;\n          logoUrl.value = data.file;\n        }\n      });\n      element.click();\n    };\n\n    const onConfirm = async () => {\n      await postCompanyCreate(form);\n      emit(\"load\");\n      visible.value = false;\n    };\n\n    return {\n      form,\n      logoUrl,\n      typeOptions,\n      visible,\n\n      open,\n      onUploadLogo,\n      onConfirm,\n\n      formatImageUrl\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#colleagues-add-dialog-component\n  .inputs-container\n    padding 0 10%\n\n    .avatar\n      position relative\n      flex()\n      width 70px\n      height 70px\n      border 1px solid $color-black\n      border-radius 50%\n      background-color white\n      font-size 30px\n      background-position center\n      background-repeat no-repeat\n      background-size contain\n\n      .icon-photo\n        position absolute\n        right 0\n        bottom 0\n        width 15px\n        height 15px\n        padding 3px\n        border 1px solid $color-black\n        border-radius 50%\n        background white\n        cursor pointer\n\n    .label\n      text-align start\n      font-size $font-size-large\n      font-weight 500\n      padding 0 8px\n      margin-bottom 15px\n      span\n        color $color-active\n\n    :deep() .el-col\n      margin-bottom 30px\n\n    :deep() .el-input\n      width 100%\n\n    :deep() .el-select\n      width 100%\n</style>\n","\nimport { defineComponent, ref, reactive } from \"vue\";\n\nimport { formatImageUrl } from \"@/utils\";\nimport { OptionItem } from \"@/typings/asideFilter\";\nimport { CompanyCreateParams } from \"@/typings/company\";\nimport { postCompanyCreate, postCompanyLogo } from \"@/apis/company\";\n\nconst typeOptions: OptionItem[] = [\n  {\n    label: \"Buyer\",\n    value: \"buyer\"\n  },\n  {\n    label: \"Garment Factory\",\n    value: \"supplier\"\n  }\n];\n\nconst Component = defineComponent({\n  name: \"CompanyAddDialog\",\n  setup(_, { emit }) {\n    const visible = ref(false);\n\n    const form = reactive<CompanyCreateParams>({\n      logo: -1,\n      name: \"\",\n      company_type: \"\"\n    });\n    const logoUrl = ref(\"\");\n\n    const init = async () => {\n      console.log(\"work\");\n    };\n\n    const open = async () => {\n      visible.value = true;\n      await init();\n    };\n\n    const onUploadLogo = () => {\n      const element = document.createElement(\"input\");\n      element.type = \"file\";\n      element.accept = \"image/*\";\n      element.multiple = false;\n      element.addEventListener(\"change\", async () => {\n        if (element.files) {\n          const { data } = await postCompanyLogo(element.files[0]);\n          form.logo = data.id;\n          logoUrl.value = data.file;\n        }\n      });\n      element.click();\n    };\n\n    const onConfirm = async () => {\n      await postCompanyCreate(form);\n      emit(\"load\");\n      visible.value = false;\n    };\n\n    return {\n      form,\n      logoUrl,\n      typeOptions,\n      visible,\n\n      open,\n      onUploadLogo,\n      onConfirm,\n\n      formatImageUrl\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./AddDialog.vue?vue&type=template&id=04d09adc&scoped=true\"\nimport script from \"./AddDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./AddDialog.vue?vue&type=script&lang=ts\"\n\nimport \"./AddDialog.vue?vue&type=style&index=0&id=04d09adc&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-04d09adc\"\n\nexport default script","\nimport { defineComponent, ref, onMounted } from \"vue\";\nimport Table from \"./Table.vue\";\nimport AddDialog from \"./AddDialog.vue\";\nimport SearchBar from \"@/components/SearchBar.vue\";\nimport { iCreateDialog } from \"@/typings/component\";\nimport { loading } from \"@/utils\";\nimport { getCompanies } from \"@/apis/company\";\nimport { CompanyCardResponse } from \"@/typings/company\";\n\nconst Component = defineComponent({\n  name: \"Colleagues\",\n  components: {\n    Table,\n    AddDialog,\n    SearchBar\n  },\n  setup() {\n    const colleaguesAddDialog = ref<iCreateDialog | null>(null);\n    const searchValue = ref(\"\");\n    const list = ref<CompanyCardResponse[]>([]);\n    const timeId = ref<ReturnType<typeof setTimeout> | undefined>(undefined);\n\n    const init = async () => {\n      const loadingInstance = loading();\n      try {\n        const { data } = await getCompanies();\n        list.value = data;\n      } finally {\n        loadingInstance.close();\n      }\n    };\n\n    onMounted(init);\n\n    const onAddColleagueClick = () => {\n      if (!colleaguesAddDialog.value) return;\n      colleaguesAddDialog.value.open();\n    };\n\n    const onSearchChange = async (value: string) => {\n      searchValue.value = value;\n\n      timeId.value && clearTimeout(timeId.value);\n      timeId.value = setTimeout(async () => {\n        const { data } = await getCompanies({ q: searchValue.value });\n        list.value = data;\n      }, 500);\n    };\n\n    const onLoad = async () => {\n      await init();\n    };\n\n    return {\n      list,\n      colleaguesAddDialog,\n      searchValue,\n\n      onAddColleagueClick,\n      onSearchChange,\n      onLoad\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./index.vue?vue&type=template&id=1a4fa957&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1a4fa957&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-1a4fa957\"\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Table.vue?vue&type=style&index=0&id=1b730c89&scoped=true&lang=stylus\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SearchBar.vue?vue&type=style&index=0&id=f685ce18&scoped=true&lang=stylus\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=1a4fa957&scoped=true&lang=stylus\""],"sourceRoot":""}