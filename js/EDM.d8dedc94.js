(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["EDM"],{"37f5":function(e,t,n){},"410f":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r=Object(c["fb"])("data-v-b6a6758c");Object(c["H"])("data-v-b6a6758c");var a={id:"edm-component"},i=Object(c["n"])("h2",{class:"zoom-title"},"Choose Template",-1),u=Object(c["n"])("p",{class:"name"},"Template 1",-1),s=Object(c["n"])("p",{class:"name"},"Template 2",-1),o=Object(c["n"])("p",{class:"name"},"Template 3",-1),l=Object(c["n"])("h2",{class:"zoom-title"},"Saved EDM",-1),b={class:"name"};Object(c["F"])();var p=r((function(e,t,n,p,d,f){var O=Object(c["N"])("EDMTemplateCard"),j=Object(c["N"])("el-col"),m=Object(c["N"])("el-row");return Object(c["E"])(),Object(c["i"])("div",a,[i,Object(c["n"])(m,{gutter:30},{default:r((function(){return[Object(c["n"])(j,{span:8},{default:r((function(){return[Object(c["n"])(O,{onClick:t[1]||(t[1]=function(t){return e.onCardClick(-1)})},{default:r((function(){return[Object(c["n"])("img",{class:"edm-cover-image",src:e.COVER_URL.COVER1,alt:"cover 1"},null,8,["src"])]})),_:1}),u]})),_:1}),Object(c["n"])(j,{span:8},{default:r((function(){return[Object(c["n"])(O,{onClick:t[2]||(t[2]=function(t){return e.onCardClick(-2)})},{default:r((function(){return[Object(c["n"])("img",{class:"edm-cover-image",src:e.COVER_URL.COVER2,alt:"cover 2"},null,8,["src"])]})),_:1}),s]})),_:1}),Object(c["n"])(j,{span:8},{default:r((function(){return[Object(c["n"])(O,{onClick:t[3]||(t[3]=function(t){return e.onCardClick(-3)})},{default:r((function(){return[Object(c["n"])("img",{class:"edm-cover-image",src:e.COVER_URL.COVER3,alt:"cover 3"},null,8,["src"])]})),_:1}),o]})),_:1})]})),_:1}),l,Object(c["n"])(m,{gutter:30},{default:r((function(){return[(Object(c["E"])(!0),Object(c["i"])(c["b"],null,Object(c["L"])(e.list.sort((function(e,t){return t.id-e.id})),(function(t){return Object(c["E"])(),Object(c["i"])(j,{key:t.id,span:8},{default:r((function(){return[Object(c["n"])(O,{editable:"",onClick:function(n){return e.onCardClick(t.id)},onDuplicate:function(n){return e.onDuplicateClick(t)}},{default:r((function(){return[Object(c["n"])("img",{class:"edm-cover-image",src:e.getCover(t.chosen_template),alt:"cover"},null,8,["src"])]})),_:2},1032,["onClick","onDuplicate"]),Object(c["n"])("p",b,Object(c["R"])(t.subject),1)]})),_:2},1024)})),128))]})),_:1})])})),d=(n("96cf"),n("1da1")),f=n("5502"),O=n("6c02"),j=Object(c["fb"])("data-v-713a3668");Object(c["H"])("data-v-713a3668");var m={id:"edm-template-card-component"},v={class:"wrapper"},C={class:"content"},g={class:"edit-icon"};Object(c["F"])();var h=j((function(e,t,n,r,a,i){var u=Object(c["N"])("font-awesome-icon"),s=Object(c["N"])("el-popover");return Object(c["E"])(),Object(c["i"])("div",m,[Object(c["n"])("div",v,[Object(c["M"])(e.$slots,"default"),e.editable?(Object(c["E"])(),Object(c["i"])(s,{key:0,visible:e.visible,"onUpdate:visible":t[3]||(t[3]=function(t){return e.visible=t}),placement:"bottom",offset:2,width:80,trigger:"click","show-arrow":!1},{reference:j((function(){return[Object(c["n"])("div",g,[Object(c["n"])(u,{class:"icon",icon:["fas","ellipsis-h"]})])]})),default:j((function(){return[Object(c["n"])("div",C,[Object(c["n"])("p",{onClick:t[1]||(t[1]=function(){return e.onDuplicateClick&&e.onDuplicateClick.apply(e,arguments)})},"Duplicate"),Object(c["n"])("p",{onClick:t[2]||(t[2]=function(){return e.onDeleteClick&&e.onDeleteClick.apply(e,arguments)})},"Delete")])]})),_:1},8,["visible"])):Object(c["j"])("",!0)])])})),k=Object(c["o"])({name:"EDMTemplateCard",props:{editable:{type:Boolean,default:!1}},setup:function(e,t){var n=t.emit,r=Object(c["J"])(!1),a=function(){r.value=!1,n("duplicate")},i=function(){r.value=!1,n("delete")};return{visible:r,onDuplicateClick:a,onDeleteClick:i}}}),w=k;n("4ee7");w.render=h,w.__scopeId="data-v-713a3668";var E=w,_=n("64b4"),R=n("52b1"),D=n("3fd4"),x=n("d257"),V=Object(c["o"])({name:"EDM",components:{EDMTemplateCard:E},setup:function(){var e=Object(O["d"])(),t=Object(f["b"])(),n=Object(c["g"])((function(){return t.state.edm.list})),r=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(x["d"])(),e.next=3,t.dispatch(R["i"]);case 3:n.close();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c["B"])(Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var a=function(){var n=Object(d["a"])(regeneratorRuntime.mark((function n(c){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=c,!(r<0)){n.next=8;break}return a={subject:"New EDM",recipient_brand:"Brand Name",message:"Message",message_body:"Text",html_message:"<div></div>",creator:1,chosen_collection:null,chosen_template:Math.abs(r)},n.next=5,t.dispatch(R["w"],a);case 5:i=n.sent,r=i.id,Object(D["b"])({title:"Success",type:"success",message:"Create new EDM successful."});case 8:return n.next=10,e.push({name:"EDMDetail",params:{id:r}});case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),i=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.dispatch(R["x"],n.id);case 3:return Object(D["b"])({title:"Success",type:"success",message:"EDM ".concat(n.subject," duplicated successful.")}),e.next=6,r();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),Object(D["b"])({title:"Error",type:"error",message:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return{COVER_URL:_["a"],list:n,onCardClick:a,onDuplicateClick:i,getCover:_["b"]}}}),M=V;n("b088");M.render=p,M.__scopeId="data-v-b6a6758c";t["default"]=M},"4ee7":function(e,t,n){"use strict";n("37f5")},"64b4":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r}));var c={COVER1:"https://weaverbird.bilabasia.com/static/mail/covers/cover_1.png",COVER2:"https://weaverbird.bilabasia.com/static/mail/covers/cover_2.png",COVER3:"https://weaverbird.bilabasia.com/static/mail/covers/cover_3.png"},r=function(e){return 1===e?c.COVER1:2===e?c.COVER2:3===e?c.COVER3:c.COVER1}},a45e:function(e,t,n){},b088:function(e,t,n){"use strict";n("a45e")}}]);
//# sourceMappingURL=EDM.d8dedc94.js.map