{"version":3,"sources":["webpack:///./src/components/OverallCard.vue?88e0","webpack:///./src/views/BrandInsight/BrandPower.vue?992e","webpack:///./node_modules/echarts/lib/component/dataZoom/helper.js","webpack:///./node_modules/echarts/lib/component/dataZoom/DataZoomModel.js","webpack:///./node_modules/echarts/lib/component/dataZoom/InsideZoomModel.js","webpack:///./node_modules/echarts/lib/component/dataZoom/DataZoomView.js","webpack:///./node_modules/echarts/lib/component/helper/sliderMove.js","webpack:///./node_modules/echarts/lib/component/helper/interactionMutex.js","webpack:///./node_modules/echarts/lib/component/helper/RoamController.js","webpack:///./node_modules/echarts/lib/component/dataZoom/roams.js","webpack:///./node_modules/echarts/lib/component/dataZoom/InsideZoomView.js","webpack:///./node_modules/echarts/lib/component/dataZoom/AxisProxy.js","webpack:///./node_modules/echarts/lib/component/dataZoom/dataZoomProcessor.js","webpack:///./node_modules/echarts/lib/component/dataZoom/dataZoomAction.js","webpack:///./node_modules/echarts/lib/component/dataZoom/installCommon.js","webpack:///./node_modules/echarts/lib/component/dataZoom/installDataZoomInside.js","webpack:///./node_modules/echarts/lib/component/dataZoom/SliderZoomModel.js","webpack:///./node_modules/echarts/lib/component/dataZoom/SliderZoomView.js","webpack:///./node_modules/echarts/lib/component/dataZoom/installDataZoomSlider.js","webpack:///./node_modules/echarts/lib/component/dataZoom/install.js","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./src/components/BarChartCard.vue","webpack:///./src/components/BarChartCard.vue?b5b3","webpack:///./src/components/BarChartCard.vue?d537","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/components/BarChartCard.vue?05e2","webpack:///./src/components/LineBarChartCard.vue?9eb0","webpack:///./src/components/PowerChart.vue?823d","webpack:///./src/utils/brandInsight.ts","webpack:///./src/components/LineChartCard.vue?d55b","webpack:///./src/components/RadarChartCard.vue?30f2","webpack:///./src/apis/brand.ts","webpack:///./src/views/BrandInsight/FinancialPower.vue?de92","webpack:///./src/views/BrandInsight/index.vue?8639","webpack:///./src/views/BrandInsight/ProductPower.vue?cb40","webpack:///./src/views/BrandInsight/BrandSummary.vue","webpack:///./src/components/PowerChart.vue","webpack:///./src/components/PowerChart.vue?5cbb","webpack:///./src/components/PowerChart.vue?856a","webpack:///./src/views/BrandInsight/BrandSummary.vue?5df7","webpack:///./src/views/BrandInsight/BrandSummary.vue?1363","webpack:///./src/components/BoxplotChartCard.vue?cb30","webpack:///./src/views/BrandInsight/ProductPower.vue","webpack:///./src/components/BoxplotChartCard.vue","webpack:///./node_modules/echarts/lib/chart/helper/whiskerBoxCommon.js","webpack:///./node_modules/echarts/lib/chart/boxplot/BoxplotSeries.js","webpack:///./node_modules/echarts/lib/chart/boxplot/BoxplotView.js","webpack:///./node_modules/echarts/lib/chart/boxplot/boxplotVisual.js","webpack:///./node_modules/echarts/lib/chart/boxplot/boxplotLayout.js","webpack:///./node_modules/echarts/lib/chart/boxplot/prepareBoxplotData.js","webpack:///./node_modules/echarts/lib/chart/boxplot/boxplotTransform.js","webpack:///./node_modules/echarts/lib/chart/boxplot/install.js","webpack:///./node_modules/echarts/lib/chart/scatter/ScatterSeries.js","webpack:///./node_modules/echarts/lib/chart/helper/LargeSymbolDraw.js","webpack:///./node_modules/echarts/lib/chart/scatter/ScatterView.js","webpack:///./node_modules/echarts/lib/chart/scatter/install.js","webpack:///./node_modules/echarts/lib/component/dataset/install.js","webpack:///./src/components/BoxplotChartCard.vue?6980","webpack:///./src/components/BoxplotChartCard.vue?ff48","webpack:///./src/components/PieChartCard.vue","webpack:///./node_modules/echarts/lib/component/legend/LegendModel.js","webpack:///./node_modules/echarts/lib/component/helper/listComponent.js","webpack:///./node_modules/echarts/lib/component/legend/LegendView.js","webpack:///./node_modules/echarts/lib/component/legend/legendFilter.js","webpack:///./node_modules/echarts/lib/component/legend/legendAction.js","webpack:///./node_modules/echarts/lib/component/legend/installLegendPlain.js","webpack:///./node_modules/echarts/lib/component/legend/ScrollableLegendModel.js","webpack:///./node_modules/echarts/lib/component/legend/ScrollableLegendView.js","webpack:///./node_modules/echarts/lib/component/legend/scrollableLegendAction.js","webpack:///./node_modules/echarts/lib/component/legend/installLegendScroll.js","webpack:///./node_modules/echarts/lib/component/legend/install.js","webpack:///./src/components/PieChartCard.vue?abd6","webpack:///./src/components/PieChartCard.vue?5ef8","webpack:///./src/views/BrandInsight/ProductPower.vue?5d16","webpack:///./src/views/BrandInsight/ProductPower.vue?9ca5","webpack:///./src/components/PieChartCard.vue?efb7","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/views/BrandInsight/FinancialPower.vue","webpack:///./src/components/RadarChartCard.vue","webpack:///./node_modules/echarts/lib/chart/radar/radarLayout.js","webpack:///./node_modules/echarts/lib/chart/radar/backwardCompat.js","webpack:///./node_modules/echarts/lib/chart/radar/RadarView.js","webpack:///./node_modules/echarts/lib/chart/radar/RadarSeries.js","webpack:///./node_modules/echarts/lib/coord/radar/RadarModel.js","webpack:///./node_modules/echarts/lib/component/radar/RadarView.js","webpack:///./node_modules/echarts/lib/coord/radar/IndicatorAxis.js","webpack:///./node_modules/echarts/lib/coord/radar/Radar.js","webpack:///./node_modules/echarts/lib/component/radar/install.js","webpack:///./node_modules/echarts/lib/chart/radar/install.js","webpack:///./src/components/RadarChartCard.vue?aa15","webpack:///./src/components/RadarChartCard.vue?a533","webpack:///./src/views/BrandInsight/FinancialPower.vue?2825","webpack:///./src/views/BrandInsight/FinancialPower.vue?89de","webpack:///./src/views/BrandInsight/BrandSummary.vue?a18b","webpack:///./src/views/BrandInsight/BrandPower.vue","webpack:///./src/components/LineBarChartCard.vue","webpack:///./src/components/LineBarChartCard.vue?d6cc","webpack:///./src/components/LineBarChartCard.vue?3647","webpack:///./src/views/BrandInsight/BrandPower.vue?f1b7","webpack:///./src/views/BrandInsight/BrandPower.vue?149a","webpack:///./src/views/BrandInsight/index.vue","webpack:///./src/views/BrandInsight/index.vue?dfb6","webpack:///./src/views/BrandInsight/index.vue?a78e","webpack:///./src/components/LineChartCard.vue","webpack:///./src/components/LineChartCard.vue?020f","webpack:///./src/components/LineChartCard.vue?cde6","webpack:///./src/components/OverallCard.vue","webpack:///./src/components/OverallCard.vue?57ec","webpack:///./src/components/OverallCard.vue?d68c"],"names":["DATA_ZOOM_AXIS_DIMENSIONS","SERIES_COORDS","isCoordSupported","seriesModel","coordType","get","getAxisMainType","axisDim","findEffectedDataZooms","ecModel","payload","foundNewLink","axisRecords","effectedModels","effectedModelMap","eachComponent","mainType","query","dataZoomModel","uid","addToEffected","processSingle","isLinked","dataZoom","set","push","markAxisControlled","isLink","eachTargetAxis","axisIndex","axisIdxArr","collectReferCoordSysModelInfo","coordSysInfoWrap","infoList","infoMap","axisModel","getComponent","coordSysModel","getCoordSysModel","coordSysUid","coordSysInfo","model","axisModels","DataZoomAxisInfo","this","indexList","indexMap","prototype","add","axisCmptIdx","_super","DataZoomModel","_this","apply","arguments","type","_autoThrottle","_noTarget","_rangePropMode","init","option","parentModel","inputRawOption","retrieveRawOption","settledOption","mergeDefaultAndTheme","_doInit","mergeOption","newOption","thisOption","_setDefaultThrottle","_updateRangeUse","names","index","_resetTarget","optionOrient","targetAxisIndexMap","_targetAxisInfoMap","hasAxisSpecified","_fillSpecifiedTargetAxis","_orient","_makeAutoOrientByTargetAxis","_fillAutoTargetAxisByOrient","each","axisInfo","length","refering","getReferringComponents","specified","models","componentIndex","orient","needAuto","findComponents","setParallelAxis","filter","gridModel_1","axModel","dim","hasOwnProperty","globalOption","throttle","animation","animationDurationUpdate","rangePropMode","rangeModeInOption","percentSpecified","valueSpecified","noTarget","getFirstTargetAxisModel","firstAxisModel","callback","context","call","getAxisProxy","getAxisModel","__dzAxisProxy","setRawRange","opt","setCalculatedRange","name","getPercentRange","axisProxy","findRepresentativeAxisProxy","getDataPercentWindow","getValueRange","getDataValueWindow","firstProxy","axisDimList","keys","i","j","proxy","hostedBy","getRangePropMode","slice","getOrient","dependencies","defaultOption","zlevel","z","filterMode","start","end","Component","ret","InsideZoomModel","disabled","zoomLock","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","preventDefaultMouseMove","DataZoomView","render","api","sliderMove","delta","handleEnds","extent","handleIndex","minSpan","maxSpan","extentSpan","restrict","Math","max","handleSpan","abs","originalDistSign","getSpanSign","currDistSign","extentMinSpan","realExtent","sign","span","dist","value","extend","min","Infinity","ATTR","isTaken","zr","resourceKey","getStore","echarts","event","update","RoamController","_zr","mousedownHandler","_mousedownHandler","mousemoveHandler","_mousemoveHandler","mouseupHandler","_mouseupHandler","mousewheelHandler","_mousewheelHandler","pinchHandler","_pinchHandler","enable","controlType","disable","_opt","on","off","isDragging","_dragging","isPinching","_pinching","setPointerChecker","pointerChecker","dispose","e","target","draggable","x","offsetX","y","offsetY","_x","_y","isAvailableBehavior","gestureEvent","oldX","oldY","dx","dy","trigger","newX","newY","shouldZoom","shouldMove","wheelDelta","absWheelDeltaDelta","originX","originY","factor","scale","checkPointerAndTrigger","absDelta","scrollDelta","pinchScale","pinchX","pinchY","Eventful","controller","eventName","behaviorToCheck","contollerEvent","settings","setting","inner","setViewInfoToCoordSysRecord","getRange","coordSysRecordMap","coordSysRecord","dzInfo","dataZoomInfoMap","disposeCoordSysRecordIfNeeded","coordSysKeyArr","coordSysKey","dzUid","removeKey","disposeCoordSysRecord","createCoordSysRecord","containsPoint","dispatchAction","getZr","batch","method","range","dzReferCoordSysInfo","dataZoomId","id","easing","duration","coordinateSystem","containPoint","mergeControllerParams","prefix","typePriority","dataZoomInfo","oneType","installDataZoomRoamProcessor","registers","registerProcessor","PRIORITY","PROCESSOR","FILTER","apiInner","subType","dzReferCoordSysWrap","dzCoordSysInfo","firstDzInfo","firstDzKey","controllerParams","InsideZoomView","_clear","pan","getRangeHandlers","zoom","scrollMove","coordSysMainType","lastRange","directionInfo","getDirectionInfo","percentPoint","signal","pixelStart","pixelLength","pixel","minMaxSpan","getMinMaxSpan","makeMover","getPercentDelta","percentDelta","grid","oldPoint","newPoint","axis","rect","getRect","width","inverse","height","polar","radiusExtent","getRadiusAxis","getExtent","angleExtent","getAngleAxis","pointToCoord","singleAxis","asc","number","AxisProxy","dimName","_dimName","_axisIndex","_dataZoomModel","_valueWindow","_percentWindow","getTargetSeriesModels","seriesModels","eachSeries","axisMainType","_minMaxSpan","calculateDataWindow","hasPropModeValue","dataExtent","_dataExtent","percentExtent","percentWindow","valueWindow","prop","idx","boundPercent","boundValue","parse","spans","restrictSet","fromWindow","toWindow","fromExtent","toExtent","toValue","suffix","reset","targetSeries","calculateDataExtent","_updateMinMaxSpan","dataWindow","_setAxisModel","filterData","seriesData","getData","dataDims","mapDimensionsAll","filterSelf","dataIndex","leftOut","rightOut","hasValue","thisHasValue","isNaN","thisLeftOut","thisRightOut","setData","map","isInWindow","NaN","selectRange","setApproximateExtent","minMax","percentSpan","valueSpan","precision","rawExtentInfo","setDeterminedMinMax","toFixed","freeze","rawExtentResult","calculate","dataZoomProcessor","getTargetSeries","eachAxisModel","cb","proxyList","seriesModelMap","overallReset","percentRange","valueRange","startValue","endValue","installDataZoomAction","registerAction","installed","installCommon","registerSubTypeDefaulter","install","registerComponentModel","registerComponentView","SliderZoomModel","layoutMode","show","right","top","left","bottom","borderColor","borderRadius","backgroundColor","dataBackground","lineStyle","color","areaStyle","opacity","selectedDataBackground","fillerColor","handleIcon","handleSize","handleStyle","moveHandleSize","moveHandleIcon","moveHandleStyle","showDetail","showDataShadow","realtime","textStyle","brushSelect","brushStyle","emphasis","DEFAULT_LOCATION_EDGE_GAP","DEFAULT_FRAME_BORDER_WIDTH","DEFAULT_FILLER_SIZE","DEFAULT_MOVE_HANDLE_SIZE","HORIZONTAL","VERTICAL","LABEL_GAP","SHOW_DATA_SHADOW_SERIES_TYPE","REALTIME_ANIMATION_CONFIG","SliderZoomView","_displayables","_onBrush","_onBrushEnd","group","removeAll","from","_buildView","_updateView","thisGroup","_brushing","brushRect","_resetLocation","_resetInterval","barGroup","sliderGroup","_renderBackground","_renderHandle","_renderDataShadow","_positionGroup","showMoveHandle","coordRect","_findCoordRect","ecSize","getWidth","getHeight","positionInfo","layoutParams","layout","layoutRect","_location","_size","reverse","location","targetAxisModel","otherAxisInverse","_dataShadowInfo","attr","scaleY","scaleX","rotation","PI","getBoundingRect","markRedraw","_getViewExtent","size","silent","shape","style","fill","z2","clickPanel","onclick","_onClickPanel","_onBrushStart","cursor","info","_prepareDataShadowInfo","dataShadowSegs","series","data","getRawData","otherDim","getShadowDim","otherDataExtent","getDataExtent","otherOffset","lastIsEmpty","otherShadowExtent","thisShadowExtent","areaPoints","linePoints","step","count","thisCoord","stride","round","isEmpty","otherCoord","createDataShadowGroup","isSelectedArea","getModel","polygon","points","segmentIgnoreThreshold","getAreaStyle","polyline","getLineStyle","result","thisAxis","getOtherDim","coordSys","getOtherAxis","mapDimension","thisDim","displayables","handles","handleLabels","filler","textConfig","position","subPixelOptimize","r","stroke","lineWidth","iconStr","symbol","indexOf","path","getCursor","drift","_onDragMove","ondragend","_onDragEnd","onmouseover","_showDataInfo","onmouseout","bRect","_handleHeight","_handleWidth","setStyle","getItemStyle","strokeNoScale","rectHover","ensureState","handleColor","textStyleModel","invisible","text","verticalAlign","align","getTextColor","font","getFont","actualMoveZone","moveHandleHeight","moveHandle_1","moveHandle","iconSize","moveZoneExpandSize","moveZone","enterEmphasis","leaveEmphasis","ondragstart","_range","viewExtent","_handleEnds","_updateInterval","viewExtend","nonRealtime","displaybles","handleInterval","handle","handleHeight","setShape","segIntervals","segGroup","clipPath","getClipPath","setClipPath","_updateDataInfo","labelTexts","dataInterval","_formatLabel","orderedHandleEnds","setLabel","barTransform","graphic","parent","direction","offset","textPoint","labelFormatter","labelPrecision","getPixelPrecision","valueStr","getLabel","replace","showOrHide","getLocalTransform","vertex","changed","_dispatchZoomAction","localPoint","transformCoordToLocal","center","_brushStart","_brushStartTime","Date","brushShape","brushEndTime","_updateBrushRect","mouseX","mouseY","brushStart","endPoint","startPoint","coordSysInfoList","radius","angle","toInteger","requireObjectCoercible","module","exports","str","String","n","RangeError","class","src","alt","title","hasData","onExpandClick","dialogVisible","props","default","Object","percentage","Boolean","setup","store","tooltip","formatter","params","it","marker","seriesName","join","xAxis","yAxis","axisLabel","chart","document","getElementById","setOption","commit","__scopeId","classof","TypeError","formatLineBarData","_data","line_trend","format","lineData","barData","bar_changes","formatLineData","formatStackBarData","c","stack","formatTableData","category","products","formatPieChartData","label","formatFinanceRegionData","datetimes","datetime","values","parseFloat","getBrandOptions","url","getBrandSummary","brand","getProductTypePriceBoxPlotChart","getProductDiscountTrendChart","getTopMaterialsUsedChart","getTopRecycleMaterialsUsedChart","getSportsCountTable","getCategoriesCountTable","getMaterialPieChart","getSportPieChart","getOverallChart","getGoogleTrendChart","getInstagramGrowthRate","getFinanceRadarChart","getDaysPayableOutstandingQChart","getDaysPayableOutstandingYChart","getCashToCLRatioQChart","getCashToCLRatioYChart","getFinanceRegionChart","getBrandsTable","getBrandMostViewed","putBrandFavorite","isFavorite","is_favorite","getDiscoverBrandOptions","gutter","formatImageUrl","summary","logo","biography","split","p","key","power_scores","Array","components","PowerChart","productDiscountTrend","topMaterialsUsed","topRecycleMaterialsUsed","subtitle","columns","categoriesCountTable","sportsCountTable","sportPie","materialPie","ref","WhiskerBoxCommonMixin","getInitialData","ordinalMeta","addOrdinal","xAxisModel","yAxisModel","xAxisType","yAxisType","getOrdinalMeta","coordDims","baseAxisDimIndex","baseAxisDim","_baseAxisDim","otherAxisDim","baseAxisType","otherAxisType","newOptionData_1","item","newItem","unshift","defaultValueDimensions","coordDimensions","otherDims","itemName","dimsDef","createListSimply","dimensionsCount","encodeDefaulter","getBaseAxis","BoxplotSeriesModel","defaultTooltip","visualDrawType","legendHoverLink","boxWidth","itemStyle","borderWidth","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","animationDuration","Series","BoxplotSeries","BoxplotView","oldData","constDim","diff","newIdx","itemLayout","getItemLayout","symbolEl","createNormalBox","setItemGraphicEl","oldIdx","getItemGraphicEl","updateNormalBoxData","remove","el","execute","eachItemGraphicEl","Chart","BoxPathShape","BoxPath","opts","getDefaultShape","buildPath","ctx","ends","moveTo","lineTo","closePath","Path","isInit","transInit","hostModel","updateMethod","useStyle","getItemVisual","itemModel","getItemModel","point","initBaseline","boxplotVisual","boxplotLayout","groupResult","groupSeriesByAxis","groupItem","calculateBase","layoutSingleSeries","boxOffsetList","boxWidthList","axisList","eachSeriesByType","baseAxis","bandWidth","seriesCount","boundList","getBandWidth","maxDataCount_1","boxWidthBound","availableWidth","boxGap","base","halfWidth","cDimIdx","vDimIdx","cDim","vDims","axisDimVal","median","getPoint","end1","end2","end4","end5","addBodyEnd","layEndLine","setItemLayout","val","dataToPoint","point1","point2","endCenter","to","prepareBoxplotData","rawData","boxData","outliers","boundIQR","useExtreme","ascList","Q1","Q2","Q3","bound","low","high","itemNameFormatter","dataItem","outlier","boxplotTransform","transform","upstream","sourceFormat","errMsg","config","dimensions","registerSeriesModel","registerChartView","registerVisual","registerLayout","registerTransform","ScatterSeriesModel","hasSymbolVisual","createListFromArray","getSource","useEncodeDefaulter","getProgressive","progressive","large","getProgressiveThreshold","progressiveThreshold","brushSelector","selectors","symbolSize","largeThreshold","clip","select","ScatterSeries","BOOST_SIZE_THRESHOLD","LargeSymbolPathShape","LargeSymbolPath","symbolProxy","symbolProxyShape","getContext","canBoost","_ctx","softClipShape","contain","afterBrush","fillRect","findDataIndex","w","h","x0","y0","LargeSymbolDraw","isPersistent","_incremental","updateData","getLayout","_setCommon","updateLayout","eachChild","child","startIndex","len","endIndex","byteOffset","Float32Array","buffer","incrementalPrepareUpdate","_clearIncremental","IncrementalDisplayable","incrementalUpdate","taskParams","addDisplayable","incremental","isIncremental","getVisual","clipShape","setColor","extrudeShadow","globalStyle","visualColor","ecData_1","seriesIndex","clearDisplaybles","ScatterView","symbolDraw","_updateSymbolDraw","_getClipShape","_finished","incrementalPrepareRender","incrementalRender","_symbolDraw","updateTransform","dirty","res","progress","clipArea","getArea","pipelineContext","isLargeDraw","_isLargeDraw","SymbolDraw","DatasetModel","_sourceManager","optionUpdated","getSourceManager","seriesLayoutBy","DatasetView","categories","refComponent","param","componentSubType","dataset","source","fromDatasetIndex","fromTransformResult","nameLocation","nameGap","SPLIT_MAX","datasetIndex","encode","interval","getDefaultSelectorOptions","getLocale","LegendModel","ignoreSize","selected","_updateSelector","selector","_updateData","legendData","hasSelected","name_1","isSelected","potentialData","availableNames","eachRawSeries","isPotential","legendVisualProvider","provider","getAllNames","isSeriesFiltered","concat","_availableNames","Model","selectedMode","unSelect","toggleSelected","allSelect","inverseSelect","padding","itemGap","itemWidth","itemHeight","symbolRotate","inactiveColor","inactiveBorderColor","inactiveBorderWidth","decal","borderCap","borderJoin","borderDashOffset","borderMiterLimit","inactiveWidth","cap","dashOffset","miterLimit","selectorLabel","fontSize","fontFamily","selectorPosition","selectorItemGap","selectorButtonGap","makeBackground","componentModel","curry","LegendView","newlineDisabled","_contentGroup","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","legendModel","isFirstRender","resetInner","itemAlign","renderInner","getBoxLayoutParams","viewportSize","maxSize","mainRect","layoutInner","_backgroundEl","contentGroup","legendDrawnMap","selectMode","excludeSeriesId","legendItemModel","g","newline","getSeriesByName","lineVisualStyle","legendIcon","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","containName","indexOfName","colorArr","_createSelector","selectorGroup","selectorItem","labelText","labelModel","emphasisLabelModel","normal","defaultText","itemVisualStyle","drawType","iconRotate","legendIconType","legendLineStyle","getLegendStyle","getLegendIcon","rotate","getDefaultLegendIcon","icon","textX","textAlign","content","hitRect","tooltipModel","itemTooltipOption","__legendDataIndex","contentRect","contentPos","selectorRect","selectorPos","orientIdx","wh","hw","yx","iconType","itemProperties","propName","visualName","getShallow","lastIndexOf","legendLineModel","lineProperties","visualHasBorder","symboType","setOrigin","dataName","isUseHoverLayer","emphasisState","list","storage","getDisplayList","states","hoverLayer","legendFilter","legendModels","filterSeries","legendSelectActionHandler","methodName","selectedMap","isToggleSelect","isItemSelected","installLegendAction","SERIES_FILTER","ScrollableLegendModel","setScrollDataIndex","scrollDataIndex","inputPositionParams","mergeAndNormalizeLayoutParams","pageButtonItemGap","pageButtonGap","pageButtonPosition","pageFormatter","pageIcons","horizontal","vertical","pageIconColor","pageIconInactiveColor","pageIconSize","pageTextStyle","raw","WH","XY","ScrollableLegendView","_currentIndex","_containerGroup","_controllerGroup","removeClipPath","__rectSize","self","controllerGroup","pageIconSizeArr","createPageButton","pageTextStyleModel","iconIdx","pageDataIndexName","_pageGo","xy","processMaxSize","_layoutContentAndController","containerGroup","controllerRect","showController","_showController","containerPos","controllerPos","setPosition","pageInfo","_getPageInfo","pageIndex","contentPosition","_updatePageInfoView","legendId","canJump","childOfName","pageText","current","total","pageCount","containerRectSize","targetItemIndex","_findTargetItemIndex","children","targetItem","itemCount","pCount","pagePrevDataIndex","pageNextDataIndex","targetItemInfo","getItemInfo","s","winStartItemInfo","winEndItemInfo","currItemInfo","intersect","itemRect","itemInfo","winStart","targetDataIndex","defaultIndex","legendDataIdx","installScrollableLegendAction","reduce","sum","legend","BoxplotChartCard","BarChartCard","LineChartCard","TableCard","PieChartCard","productTypePriceBoxPlot","console","log","$","thisNumberValue","repeat","fails","nativeToFixed","floor","pow","acc","x2","multiply","c2","divide","dataToString","t","FORCED","proto","forced","fractionDigits","k","fractDigits","financeRegionChart","financeRadarChart","undefined","daysPayableOutstandingQChart","daysPayableOutstandingYChart","times","cashToCLRatioQChart","cashToCLRatioYChart","radarLayout","axes","getIndicatorAxes","isValidPoint","getValueMissingPoint","firstPoint","cx","cy","radarBackwardCompat","polarOptArr","polarNotRadar_1","polarOpt","indicator","radar","seriesOpt","polarIndex","radarIndex","normalizeSymbolSize","RadarView","createSymbol","symbolType","symbolPath","updateSymbols","oldPoints","newPoints","symbolGroup","__dimIdx","getInitialPoints","pt","childAt","areaStyleModel","polygonIgnore","ignore","stateName","stateModel","stateIgnore","emphasisModel","itemHoverStyle","pathStyle","image","pathEmphasisState","labelFetcher","labelDataIndex","labelDimIndex","inheritColor","defaultOpacity","RadarSeriesModel","useColorPaletteOnData","LegendVisualProvider","generateCoord","generateCoordCount","formatTooltip","multipleSeries","dataType","indicatorAxes","getName","nameToDisplay","markerColor","header","sortBlocks","blocks","markerType","sortParam","getTooltipPosition","data_1","getValues","coordToPoint","dataToCoord","RadarSeries","valueAxisDefault","axisDefault","defaultsShow","RadarModel","boundaryGap","splitNumber","axisLine","axisTick","nameTextStyle","showName","nameFormatter","triggerEvent","indicatorModels","indicatorOpt","iNameTextStyle","innerIndicatorOpt","indName","_indicatorModels","getIndicatorModels","startAngle","axisName","axisNameGap","splitLine","splitArea","axisBuilderAttrs","radarModel","_buildAxes","_buildSplitLineAndArea","axisBuilders","indicatorAxis","axisBuilder","AxisBuilder","labelDirection","tickDirection","nameDirection","getGroup","splitLineModel","splitAreaModel","lineStyleModel","showSplitLine","showSplitArea","splitLineColors","splitAreaColors","splitLineColorsArr","splitAreaColorsArr","splitLines","splitAreas","ticksRadius","getTicksCoords","colorIndex","getColorIndex","coord","r0","realSplitNumber_1","axesTicksPoints","ticksCoords","tickCoord","prevPoints","areaOrLine","areaOrLineColorList","IndicatorAxis","Axis","Radar","_model","_indicatorAxes","indicatorModel","Interval","resize","indicatorIndex","cos","sin","pointToData","sqrt","closestAxis","radian","atan2","minRadianDiff","closestAxisIdx","coordToData","viewWidth","viewHeight","viewSize","setExtent","radarSeries","unionExtentFromData","increaseInterval","exp10","LN10","f","rawExtent","fixedMin","fixedMax","getInterval","setInterval","isFinite","nicedSplitNumber","getTicks","ceil","convertToPixel","finder","warn","convertFromPixel","create","radarList","registerCoordinateSystem","seriesType","setItemVisual","setVisual","dataFilter","registerPreprocessor","calcPercentage","includes","labels","maxs","mins","RadarChartCard","outlookNumber","growthNumber","managementNumber","googleTrendChart","takeTypeText","adapter","thousand","yAxisIndex","OverallCard","LineBarChartCard","outlook","management","growth","googleTrend","topRecycle","Value","growth_rate","searchValue","filterable","placeholder","searchOptions","tabValue","onTabClick","router","route","brands","checked","Number","_","splitAt","messages"],"mappings":"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","file":"js/BrandInsights.4c27a442.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OverallCard.vue?vue&type=style&index=0&id=e29d2ed6&scoped=true&lang=stylus\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BrandPower.vue?vue&type=style&index=0&id=5812e846&scoped=true&lang=stylus\"","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { indexOf, createHashMap, assert } from 'zrender/lib/core/util';\nexport var DATA_ZOOM_AXIS_DIMENSIONS = ['x', 'y', 'radius', 'angle', 'single']; // Supported coords.\n// FIXME: polar has been broken (but rarely used).\n\nvar SERIES_COORDS = ['cartesian2d', 'polar', 'singleAxis'];\nexport function isCoordSupported(seriesModel) {\n  var coordType = seriesModel.get('coordinateSystem');\n  return indexOf(SERIES_COORDS, coordType) >= 0;\n}\nexport function getAxisMainType(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n\n  return axisDim + 'Axis';\n}\nexport function getAxisIndexPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n\n  return axisDim + 'AxisIndex';\n}\nexport function getAxisIdPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n\n  return axisDim + 'AxisId';\n}\n/**\n * If two dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * This function finds all linked dataZoomModels start from the given payload.\n */\n\nexport function findEffectedDataZooms(ecModel, payload) {\n  // Key: `DataZoomAxisDimension`\n  var axisRecords = createHashMap();\n  var effectedModels = []; // Key: uid of dataZoomModel\n\n  var effectedModelMap = createHashMap(); // Find the dataZooms specified by payload.\n\n  ecModel.eachComponent({\n    mainType: 'dataZoom',\n    query: payload\n  }, function (dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid)) {\n      addToEffected(dataZoomModel);\n    }\n  }); // Start from the given dataZoomModels, travel the graph to find\n  // all of the linked dataZoom models.\n\n  var foundNewLink;\n\n  do {\n    foundNewLink = false;\n    ecModel.eachComponent('dataZoom', processSingle);\n  } while (foundNewLink);\n\n  function processSingle(dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid) && isLinked(dataZoomModel)) {\n      addToEffected(dataZoomModel);\n      foundNewLink = true;\n    }\n  }\n\n  function addToEffected(dataZoom) {\n    effectedModelMap.set(dataZoom.uid, true);\n    effectedModels.push(dataZoom);\n    markAxisControlled(dataZoom);\n  }\n\n  function isLinked(dataZoomModel) {\n    var isLink = false;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var axisIdxArr = axisRecords.get(axisDim);\n\n      if (axisIdxArr && axisIdxArr[axisIndex]) {\n        isLink = true;\n      }\n    });\n    return isLink;\n  }\n\n  function markAxisControlled(dataZoomModel) {\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      (axisRecords.get(axisDim) || axisRecords.set(axisDim, []))[axisIndex] = true;\n    });\n  }\n\n  return effectedModels;\n}\n/**\n * Find the first target coordinate system.\n * Available after model built.\n *\n * @return Like {\n *                  grid: [\n *                      {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n *                      {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n *                      ...\n *                  ],  // cartesians must not be null/undefined.\n *                  polar: [\n *                      {model: coord0, axisModels: [axis4], coordIndex: 0},\n *                      ...\n *                  ],  // polars must not be null/undefined.\n *                  singleAxis: [\n *                      {model: coord0, axisModels: [], coordIndex: 0}\n *                  ]\n *              }\n */\n\nexport function collectReferCoordSysModelInfo(dataZoomModel) {\n  var ecModel = dataZoomModel.ecModel;\n  var coordSysInfoWrap = {\n    infoList: [],\n    infoMap: createHashMap()\n  };\n  dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n    var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n\n    if (!axisModel) {\n      return;\n    }\n\n    var coordSysModel = axisModel.getCoordSysModel();\n\n    if (!coordSysModel) {\n      return;\n    }\n\n    var coordSysUid = coordSysModel.uid;\n    var coordSysInfo = coordSysInfoWrap.infoMap.get(coordSysUid);\n\n    if (!coordSysInfo) {\n      coordSysInfo = {\n        model: coordSysModel,\n        axisModels: []\n      };\n      coordSysInfoWrap.infoList.push(coordSysInfo);\n      coordSysInfoWrap.infoMap.set(coordSysUid, coordSysInfo);\n    }\n\n    coordSysInfo.axisModels.push(axisModel);\n  });\n  return coordSysInfoWrap;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { each, createHashMap, merge, assert } from 'zrender/lib/core/util';\nimport ComponentModel from '../../model/Component';\nimport { getAxisMainType, DATA_ZOOM_AXIS_DIMENSIONS } from './helper';\nimport { MULTIPLE_REFERRING, SINGLE_REFERRING } from '../../util/model';\n\nvar DataZoomAxisInfo =\n/** @class */\nfunction () {\n  function DataZoomAxisInfo() {\n    this.indexList = [];\n    this.indexMap = [];\n  }\n\n  DataZoomAxisInfo.prototype.add = function (axisCmptIdx) {\n    // Remove duplication.\n    if (!this.indexMap[axisCmptIdx]) {\n      this.indexList.push(axisCmptIdx);\n      this.indexMap[axisCmptIdx] = true;\n    }\n  };\n\n  return DataZoomAxisInfo;\n}();\n\nvar DataZoomModel =\n/** @class */\nfunction (_super) {\n  __extends(DataZoomModel, _super);\n\n  function DataZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = DataZoomModel.type;\n    _this._autoThrottle = true;\n    _this._noTarget = true;\n    /**\n     * It is `[rangeModeForMin, rangeModeForMax]`.\n     * The optional values for `rangeMode`:\n     * + `'value'` mode: the axis extent will always be determined by\n     *     `dataZoom.startValue` and `dataZoom.endValue`, despite\n     *     how data like and how `axis.min` and `axis.max` are.\n     * + `'percent'` mode: `100` represents 100% of the `[dMin, dMax]`,\n     *     where `dMin` is `axis.min` if `axis.min` specified, otherwise `data.extent[0]`,\n     *     and `dMax` is `axis.max` if `axis.max` specified, otherwise `data.extent[1]`.\n     *     Axis extent will be determined by the result of the percent of `[dMin, dMax]`.\n     *\n     * For example, when users are using dynamic data (update data periodically via `setOption`),\n     * if in `'value`' mode, the window will be kept in a fixed value range despite how\n     * data are appended, while if in `'percent'` mode, whe window range will be changed alone with\n     * the appended data (suppose `axis.min` and `axis.max` are not specified).\n     */\n\n    _this._rangePropMode = ['percent', 'percent'];\n    return _this;\n  }\n\n  DataZoomModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputRawOption = retrieveRawOption(option);\n    /**\n     * Suppose a \"main process\" start at the point that model prepared (that is,\n     * model initialized or merged or method called in `action`).\n     * We should keep the `main process` idempotent, that is, given a set of values\n     * on `option`, we get the same result.\n     *\n     * But sometimes, values on `option` will be updated for providing users\n     * a \"final calculated value\" (`dataZoomProcessor` will do that). Those value\n     * should not be the base/input of the `main process`.\n     *\n     * So in that case we should save and keep the input of the `main process`\n     * separately, called `settledOption`.\n     *\n     * For example, consider the case:\n     * (Step_1) brush zoom the grid by `toolbox.dataZoom`,\n     *     where the original input `option.startValue`, `option.endValue` are earsed by\n     *     calculated value.\n     * (Step)2) click the legend to hide and show a series,\n     *     where the new range is calculated by the earsed `startValue` and `endValue`,\n     *     which brings incorrect result.\n     */\n\n    this.settledOption = inputRawOption;\n    this.mergeDefaultAndTheme(option, ecModel);\n\n    this._doInit(inputRawOption);\n  };\n\n  DataZoomModel.prototype.mergeOption = function (newOption) {\n    var inputRawOption = retrieveRawOption(newOption); //FIX #2591\n\n    merge(this.option, newOption, true);\n    merge(this.settledOption, inputRawOption, true);\n\n    this._doInit(inputRawOption);\n  };\n\n  DataZoomModel.prototype._doInit = function (inputRawOption) {\n    var thisOption = this.option; // if (!env.canvasSupported) {\n    //     thisOption.realtime = false;\n    // }\n\n    this._setDefaultThrottle(inputRawOption);\n\n    this._updateRangeUse(inputRawOption);\n\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      // start/end has higher priority over startValue/endValue if they\n      // both set, but we should make chart.setOption({endValue: 1000})\n      // effective, rather than chart.setOption({endValue: 1000, end: null}).\n      if (this._rangePropMode[index] === 'value') {\n        thisOption[names[0]] = settledOption[names[0]] = null;\n      } // Otherwise do nothing and use the merge result.\n\n    }, this);\n\n    this._resetTarget();\n  };\n\n  DataZoomModel.prototype._resetTarget = function () {\n    var optionOrient = this.get('orient', true);\n    var targetAxisIndexMap = this._targetAxisInfoMap = createHashMap();\n\n    var hasAxisSpecified = this._fillSpecifiedTargetAxis(targetAxisIndexMap);\n\n    if (hasAxisSpecified) {\n      this._orient = optionOrient || this._makeAutoOrientByTargetAxis();\n    } else {\n      this._orient = optionOrient || 'horizontal';\n\n      this._fillAutoTargetAxisByOrient(targetAxisIndexMap, this._orient);\n    }\n\n    this._noTarget = true;\n    targetAxisIndexMap.each(function (axisInfo) {\n      if (axisInfo.indexList.length) {\n        this._noTarget = false;\n      }\n    }, this);\n  };\n\n  DataZoomModel.prototype._fillSpecifiedTargetAxis = function (targetAxisIndexMap) {\n    var hasAxisSpecified = false;\n    each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n      var refering = this.getReferringComponents(getAxisMainType(axisDim), MULTIPLE_REFERRING); // When user set axisIndex as a empty array, we think that user specify axisIndex\n      // but do not want use auto mode. Because empty array may be encountered when\n      // some error occured.\n\n      if (!refering.specified) {\n        return;\n      }\n\n      hasAxisSpecified = true;\n      var axisInfo = new DataZoomAxisInfo();\n      each(refering.models, function (axisModel) {\n        axisInfo.add(axisModel.componentIndex);\n      });\n      targetAxisIndexMap.set(axisDim, axisInfo);\n    }, this);\n    return hasAxisSpecified;\n  };\n\n  DataZoomModel.prototype._fillAutoTargetAxisByOrient = function (targetAxisIndexMap, orient) {\n    var ecModel = this.ecModel;\n    var needAuto = true; // Find axis that parallel to dataZoom as default.\n\n    if (needAuto) {\n      var axisDim = orient === 'vertical' ? 'y' : 'x';\n      var axisModels = ecModel.findComponents({\n        mainType: axisDim + 'Axis'\n      });\n      setParallelAxis(axisModels, axisDim);\n    } // Find axis that parallel to dataZoom as default.\n\n\n    if (needAuto) {\n      var axisModels = ecModel.findComponents({\n        mainType: 'singleAxis',\n        filter: function (axisModel) {\n          return axisModel.get('orient', true) === orient;\n        }\n      });\n      setParallelAxis(axisModels, 'single');\n    }\n\n    function setParallelAxis(axisModels, axisDim) {\n      // At least use the first parallel axis as the target axis.\n      var axisModel = axisModels[0];\n\n      if (!axisModel) {\n        return;\n      }\n\n      var axisInfo = new DataZoomAxisInfo();\n      axisInfo.add(axisModel.componentIndex);\n      targetAxisIndexMap.set(axisDim, axisInfo);\n      needAuto = false; // Find parallel axes in the same grid.\n\n      if (axisDim === 'x' || axisDim === 'y') {\n        var gridModel_1 = axisModel.getReferringComponents('grid', SINGLE_REFERRING).models[0];\n        gridModel_1 && each(axisModels, function (axModel) {\n          if (axisModel.componentIndex !== axModel.componentIndex && gridModel_1 === axModel.getReferringComponents('grid', SINGLE_REFERRING).models[0]) {\n            axisInfo.add(axModel.componentIndex);\n          }\n        });\n      }\n    }\n\n    if (needAuto) {\n      // If no parallel axis, find the first category axis as default. (Also consider polar).\n      each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n        if (!needAuto) {\n          return;\n        }\n\n        var axisModels = ecModel.findComponents({\n          mainType: getAxisMainType(axisDim),\n          filter: function (axisModel) {\n            return axisModel.get('type', true) === 'category';\n          }\n        });\n\n        if (axisModels[0]) {\n          var axisInfo = new DataZoomAxisInfo();\n          axisInfo.add(axisModels[0].componentIndex);\n          targetAxisIndexMap.set(axisDim, axisInfo);\n          needAuto = false;\n        }\n      }, this);\n    }\n  };\n\n  DataZoomModel.prototype._makeAutoOrientByTargetAxis = function () {\n    var dim; // Find the first axis\n\n    this.eachTargetAxis(function (axisDim) {\n      !dim && (dim = axisDim);\n    }, this);\n    return dim === 'y' ? 'vertical' : 'horizontal';\n  };\n\n  DataZoomModel.prototype._setDefaultThrottle = function (inputRawOption) {\n    // When first time user set throttle, auto throttle ends.\n    if (inputRawOption.hasOwnProperty('throttle')) {\n      this._autoThrottle = false;\n    }\n\n    if (this._autoThrottle) {\n      var globalOption = this.ecModel.option;\n      this.option.throttle = globalOption.animation && globalOption.animationDurationUpdate > 0 ? 100 : 20;\n    }\n  };\n\n  DataZoomModel.prototype._updateRangeUse = function (inputRawOption) {\n    var rangePropMode = this._rangePropMode;\n    var rangeModeInOption = this.get('rangeMode');\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      var percentSpecified = inputRawOption[names[0]] != null;\n      var valueSpecified = inputRawOption[names[1]] != null;\n\n      if (percentSpecified && !valueSpecified) {\n        rangePropMode[index] = 'percent';\n      } else if (!percentSpecified && valueSpecified) {\n        rangePropMode[index] = 'value';\n      } else if (rangeModeInOption) {\n        rangePropMode[index] = rangeModeInOption[index];\n      } else if (percentSpecified) {\n        // percentSpecified && valueSpecified\n        rangePropMode[index] = 'percent';\n      } // else remain its original setting.\n\n    });\n  };\n\n  DataZoomModel.prototype.noTarget = function () {\n    return this._noTarget;\n  };\n\n  DataZoomModel.prototype.getFirstTargetAxisModel = function () {\n    var firstAxisModel;\n    this.eachTargetAxis(function (axisDim, axisIndex) {\n      if (firstAxisModel == null) {\n        firstAxisModel = this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n      }\n    }, this);\n    return firstAxisModel;\n  };\n  /**\n   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n   */\n\n\n  DataZoomModel.prototype.eachTargetAxis = function (callback, context) {\n    this._targetAxisInfoMap.each(function (axisInfo, axisDim) {\n      each(axisInfo.indexList, function (axisIndex) {\n        callback.call(context, axisDim, axisIndex);\n      });\n    });\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n\n\n  DataZoomModel.prototype.getAxisProxy = function (axisDim, axisIndex) {\n    var axisModel = this.getAxisModel(axisDim, axisIndex);\n\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    }\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n\n\n  DataZoomModel.prototype.getAxisModel = function (axisDim, axisIndex) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(axisDim && axisIndex != null);\n    }\n\n    var axisInfo = this._targetAxisInfoMap.get(axisDim);\n\n    if (axisInfo && axisInfo.indexMap[axisIndex]) {\n      return this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n    }\n  };\n  /**\n   * If not specified, set to undefined.\n   */\n\n\n  DataZoomModel.prototype.setRawRange = function (opt) {\n    var thisOption = this.option;\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names) {\n      // Consider the pair <start, startValue>:\n      // If one has value and the other one is `null/undefined`, we both set them\n      // to `settledOption`. This strategy enables the feature to clear the original\n      // value in `settledOption` to `null/undefined`.\n      // But if both of them are `null/undefined`, we do not set them to `settledOption`\n      // and keep `settledOption` with the original value. This strategy enables users to\n      // only set <end or endValue> but not set <start or startValue> when calling\n      // `dispatchAction`.\n      // The pair <end, endValue> is treated in the same way.\n      if (opt[names[0]] != null || opt[names[1]] != null) {\n        thisOption[names[0]] = settledOption[names[0]] = opt[names[0]];\n        thisOption[names[1]] = settledOption[names[1]] = opt[names[1]];\n      }\n    }, this);\n\n    this._updateRangeUse(opt);\n  };\n\n  DataZoomModel.prototype.setCalculatedRange = function (opt) {\n    var option = this.option;\n    each(['start', 'startValue', 'end', 'endValue'], function (name) {\n      option[name] = opt[name];\n    });\n  };\n\n  DataZoomModel.prototype.getPercentRange = function () {\n    var axisProxy = this.findRepresentativeAxisProxy();\n\n    if (axisProxy) {\n      return axisProxy.getDataPercentWindow();\n    }\n  };\n  /**\n   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n   *\n   * @return [startValue, endValue] value can only be '-' or finite number.\n   */\n\n\n  DataZoomModel.prototype.getValueRange = function (axisDim, axisIndex) {\n    if (axisDim == null && axisIndex == null) {\n      var axisProxy = this.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        return axisProxy.getDataValueWindow();\n      }\n    } else {\n      return this.getAxisProxy(axisDim, axisIndex).getDataValueWindow();\n    }\n  };\n  /**\n   * @param axisModel If axisModel given, find axisProxy\n   *      corresponding to the axisModel\n   */\n\n\n  DataZoomModel.prototype.findRepresentativeAxisProxy = function (axisModel) {\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    } // Find the first hosted axisProxy\n\n\n    var firstProxy;\n\n    var axisDimList = this._targetAxisInfoMap.keys();\n\n    for (var i = 0; i < axisDimList.length; i++) {\n      var axisDim = axisDimList[i];\n\n      var axisInfo = this._targetAxisInfoMap.get(axisDim);\n\n      for (var j = 0; j < axisInfo.indexList.length; j++) {\n        var proxy = this.getAxisProxy(axisDim, axisInfo.indexList[j]);\n\n        if (proxy.hostedBy(this)) {\n          return proxy;\n        }\n\n        if (!firstProxy) {\n          firstProxy = proxy;\n        }\n      }\n    } // If no hosted proxy found, still need to return a proxy.\n    // This case always happens in toolbox dataZoom, where axes are all hosted by\n    // other dataZooms.\n\n\n    return firstProxy;\n  };\n\n  DataZoomModel.prototype.getRangePropMode = function () {\n    return this._rangePropMode.slice();\n  };\n\n  DataZoomModel.prototype.getOrient = function () {\n    if (process.env.NODE_ENV !== 'production') {\n      // Should not be called before initialized.\n      assert(this._orient);\n    }\n\n    return this._orient;\n  };\n\n  DataZoomModel.type = 'dataZoom';\n  DataZoomModel.dependencies = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series', 'toolbox'];\n  DataZoomModel.defaultOption = {\n    zlevel: 0,\n    z: 4,\n    filterMode: 'filter',\n    start: 0,\n    end: 100\n  };\n  return DataZoomModel;\n}(ComponentModel);\n/**\n * Retrieve the those raw params from option, which will be cached separately.\n * becasue they will be overwritten by normalized/calculated values in the main\n * process.\n */\n\n\nfunction retrieveRawOption(option) {\n  var ret = {};\n  each(['start', 'end', 'startValue', 'endValue', 'throttle'], function (name) {\n    option.hasOwnProperty(name) && (ret[name] = option[name]);\n  });\n  return ret;\n}\n\nexport default DataZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel';\nimport { inheritDefaultOption } from '../../util/component';\n\nvar InsideZoomModel =\n/** @class */\nfunction (_super) {\n  __extends(InsideZoomModel, _super);\n\n  function InsideZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = InsideZoomModel.type;\n    return _this;\n  }\n\n  InsideZoomModel.type = 'dataZoom.inside';\n  InsideZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    disabled: false,\n    zoomLock: false,\n    zoomOnMouseWheel: true,\n    moveOnMouseMove: true,\n    moveOnMouseWheel: false,\n    preventDefaultMouseMove: true\n  });\n  return InsideZoomModel;\n}(DataZoomModel);\n\nexport default InsideZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component';\n\nvar DataZoomView =\n/** @class */\nfunction (_super) {\n  __extends(DataZoomView, _super);\n\n  function DataZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = DataZoomView.type;\n    return _this;\n  }\n\n  DataZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    this.dataZoomModel = dataZoomModel;\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n\n  DataZoomView.type = 'dataZoom';\n  return DataZoomView;\n}(ComponentView);\n\nexport default DataZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param delta Move length.\n * @param handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param handleIndex Can be 'all', means that both move the two handleEnds.\n * @param minSpan The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param maxSpan The range of dataZoom can not be larger than that.\n * @return The input handleEnds.\n */\nexport default function sliderMove(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0]; // Notice maxSpan and minSpan can be null/undefined.\n\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n\n  if (handleIndex === 'all') {\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\n    handleIndex = 0;\n  }\n\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta; // Restrict in extent.\n\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent); // Expand span.\n\n  var currDistSign;\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbidden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  } // Shrink span.\n\n\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n\n  return handleEnds;\n}\n\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex]; // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\n\nfunction restrict(value, extend) {\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as echarts from '../../core/echarts';\nvar ATTR = '\\0_ec_interaction_mutex';\nexport function take(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  store[resourceKey] = userKey;\n}\nexport function release(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  var uKey = store[resourceKey];\n\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\nexport function isTaken(zr, resourceKey) {\n  return !!getStore(zr)[resourceKey];\n}\n\nfunction getStore(zr) {\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n// TODO: SELF REGISTERED.\n\n\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, function () {});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Eventful from 'zrender/lib/core/Eventful';\nimport * as eventTool from 'zrender/lib/core/event';\nimport * as interactionMutex from './interactionMutex';\nimport { isString, bind, defaults, clone } from 'zrender/lib/core/util';\n\nvar RoamController =\n/** @class */\nfunction (_super) {\n  __extends(RoamController, _super);\n\n  function RoamController(zr) {\n    var _this = _super.call(this) || this;\n\n    _this._zr = zr; // Avoid two roamController bind the same handler\n\n    var mousedownHandler = bind(_this._mousedownHandler, _this);\n    var mousemoveHandler = bind(_this._mousemoveHandler, _this);\n    var mouseupHandler = bind(_this._mouseupHandler, _this);\n    var mousewheelHandler = bind(_this._mousewheelHandler, _this);\n    var pinchHandler = bind(_this._pinchHandler, _this);\n    /**\n     * Notice: only enable needed types. For example, if 'zoom'\n     * is not needed, 'zoom' should not be enabled, otherwise\n     * default mousewheel behaviour (scroll page) will be disabled.\n     */\n\n    _this.enable = function (controlType, opt) {\n      // Disable previous first\n      this.disable();\n      this._opt = defaults(clone(opt) || {}, {\n        zoomOnMouseWheel: true,\n        moveOnMouseMove: true,\n        // By default, wheel do not trigger move.\n        moveOnMouseWheel: false,\n        preventDefaultMouseMove: true\n      });\n\n      if (controlType == null) {\n        controlType = true;\n      }\n\n      if (controlType === true || controlType === 'move' || controlType === 'pan') {\n        zr.on('mousedown', mousedownHandler);\n        zr.on('mousemove', mousemoveHandler);\n        zr.on('mouseup', mouseupHandler);\n      }\n\n      if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\n        zr.on('mousewheel', mousewheelHandler);\n        zr.on('pinch', pinchHandler);\n      }\n    };\n\n    _this.disable = function () {\n      zr.off('mousedown', mousedownHandler);\n      zr.off('mousemove', mousemoveHandler);\n      zr.off('mouseup', mouseupHandler);\n      zr.off('mousewheel', mousewheelHandler);\n      zr.off('pinch', pinchHandler);\n    };\n\n    return _this;\n  }\n\n  RoamController.prototype.isDragging = function () {\n    return this._dragging;\n  };\n\n  RoamController.prototype.isPinching = function () {\n    return this._pinching;\n  };\n\n  RoamController.prototype.setPointerChecker = function (pointerChecker) {\n    this.pointerChecker = pointerChecker;\n  };\n\n  RoamController.prototype.dispose = function () {\n    this.disable();\n  };\n\n  RoamController.prototype._mousedownHandler = function (e) {\n    if (eventTool.isMiddleOrRightButtonOnMouseUpDown(e) || e.target && e.target.draggable) {\n      return;\n    }\n\n    var x = e.offsetX;\n    var y = e.offsetY; // Only check on mosedown, but not mousemove.\n    // Mouse can be out of target when mouse moving.\n\n    if (this.pointerChecker && this.pointerChecker(e, x, y)) {\n      this._x = x;\n      this._y = y;\n      this._dragging = true;\n    }\n  };\n\n  RoamController.prototype._mousemoveHandler = function (e) {\n    if (!this._dragging || !isAvailableBehavior('moveOnMouseMove', e, this._opt) || e.gestureEvent === 'pinch' || interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var oldX = this._x;\n    var oldY = this._y;\n    var dx = x - oldX;\n    var dy = y - oldY;\n    this._x = x;\n    this._y = y;\n    this._opt.preventDefaultMouseMove && eventTool.stop(e.event);\n    trigger(this, 'pan', 'moveOnMouseMove', e, {\n      dx: dx,\n      dy: dy,\n      oldX: oldX,\n      oldY: oldY,\n      newX: x,\n      newY: y,\n      isAvailableBehavior: null\n    });\n  };\n\n  RoamController.prototype._mouseupHandler = function (e) {\n    if (!eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      this._dragging = false;\n    }\n  };\n\n  RoamController.prototype._mousewheelHandler = function (e) {\n    var shouldZoom = isAvailableBehavior('zoomOnMouseWheel', e, this._opt);\n    var shouldMove = isAvailableBehavior('moveOnMouseWheel', e, this._opt);\n    var wheelDelta = e.wheelDelta;\n    var absWheelDeltaDelta = Math.abs(wheelDelta);\n    var originX = e.offsetX;\n    var originY = e.offsetY; // wheelDelta maybe -0 in chrome mac.\n\n    if (wheelDelta === 0 || !shouldZoom && !shouldMove) {\n      return;\n    } // If both `shouldZoom` and `shouldMove` is true, trigger\n    // their event both, and the final behavior is determined\n    // by event listener themselves.\n\n\n    if (shouldZoom) {\n      // Convenience:\n      // Mac and VM Windows on Mac: scroll up: zoom out.\n      // Windows: scroll up: zoom in.\n      // FIXME: Should do more test in different environment.\n      // wheelDelta is too complicated in difference nvironment\n      // (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),\n      // although it has been normallized by zrender.\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var factor = absWheelDeltaDelta > 3 ? 1.4 : absWheelDeltaDelta > 1 ? 1.2 : 1.1;\n      var scale = wheelDelta > 0 ? factor : 1 / factor;\n      checkPointerAndTrigger(this, 'zoom', 'zoomOnMouseWheel', e, {\n        scale: scale,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n\n    if (shouldMove) {\n      // FIXME: Should do more test in different environment.\n      var absDelta = Math.abs(wheelDelta); // wheelDelta of mouse wheel is bigger than touch pad.\n\n      var scrollDelta = (wheelDelta > 0 ? 1 : -1) * (absDelta > 3 ? 0.4 : absDelta > 1 ? 0.15 : 0.05);\n      checkPointerAndTrigger(this, 'scrollMove', 'moveOnMouseWheel', e, {\n        scrollDelta: scrollDelta,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n  };\n\n  RoamController.prototype._pinchHandler = function (e) {\n    if (interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n\n    var scale = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n    checkPointerAndTrigger(this, 'zoom', null, e, {\n      scale: scale,\n      originX: e.pinchX,\n      originY: e.pinchY,\n      isAvailableBehavior: null\n    });\n  };\n\n  return RoamController;\n}(Eventful);\n\nfunction checkPointerAndTrigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  if (controller.pointerChecker && controller.pointerChecker(e, contollerEvent.originX, contollerEvent.originY)) {\n    // When mouse is out of roamController rect,\n    // default befavoius should not be be disabled, otherwise\n    // page sliding is disabled, contrary to expectation.\n    eventTool.stop(e.event);\n    trigger(controller, eventName, behaviorToCheck, e, contollerEvent);\n  }\n}\n\nfunction trigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  // Also provide behavior checker for event listener, for some case that\n  // multiple components share one listener.\n  contollerEvent.isAvailableBehavior = bind(isAvailableBehavior, null, behaviorToCheck, e);\n  controller.trigger(eventName, contollerEvent);\n} // settings: {\n//     zoomOnMouseWheel\n//     moveOnMouseMove\n//     moveOnMouseWheel\n// }\n// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\n\n\nfunction isAvailableBehavior(behaviorToCheck, e, settings) {\n  var setting = settings[behaviorToCheck];\n  return !behaviorToCheck || setting && (!isString(setting) || e.event[setting + 'Key']);\n}\n\nexport default RoamController;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Only create one roam controller for each coordinate system.\n// one roam controller might be refered by two inside data zoom\n// components (for example, one for x and one for y). When user\n// pan or zoom, only dispatch one action for those data zoom\n// components.\nimport RoamController from '../../component/helper/RoamController';\nimport * as throttleUtil from '../../util/throttle';\nimport { makeInner } from '../../util/model';\nimport { each, curry, createHashMap } from 'zrender/lib/core/util';\nimport { collectReferCoordSysModelInfo } from './helper';\nvar inner = makeInner();\nexport function setViewInfoToCoordSysRecord(api, dataZoomModel, getRange) {\n  inner(api).coordSysRecordMap.each(function (coordSysRecord) {\n    var dzInfo = coordSysRecord.dataZoomInfoMap.get(dataZoomModel.uid);\n\n    if (dzInfo) {\n      dzInfo.getRange = getRange;\n    }\n  });\n}\nexport function disposeCoordSysRecordIfNeeded(api, dataZoomModel) {\n  var coordSysRecordMap = inner(api).coordSysRecordMap;\n  var coordSysKeyArr = coordSysRecordMap.keys();\n\n  for (var i = 0; i < coordSysKeyArr.length; i++) {\n    var coordSysKey = coordSysKeyArr[i];\n    var coordSysRecord = coordSysRecordMap.get(coordSysKey);\n    var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n\n    if (dataZoomInfoMap) {\n      var dzUid = dataZoomModel.uid;\n      var dzInfo = dataZoomInfoMap.get(dzUid);\n\n      if (dzInfo) {\n        dataZoomInfoMap.removeKey(dzUid);\n\n        if (!dataZoomInfoMap.keys().length) {\n          disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        }\n      }\n    }\n  }\n}\n\nfunction disposeCoordSysRecord(coordSysRecordMap, coordSysRecord) {\n  if (coordSysRecord) {\n    coordSysRecordMap.removeKey(coordSysRecord.model.uid);\n    var controller = coordSysRecord.controller;\n    controller && controller.dispose();\n  }\n}\n\nfunction createCoordSysRecord(api, coordSysModel) {\n  // These init props will never change after record created.\n  var coordSysRecord = {\n    model: coordSysModel,\n    containsPoint: curry(containsPoint, coordSysModel),\n    dispatchAction: curry(dispatchAction, api),\n    dataZoomInfoMap: null,\n    controller: null\n  }; // Must not do anything depends on coordSysRecord outside the event handler here,\n  // because coordSysRecord not completed yet.\n\n  var controller = coordSysRecord.controller = new RoamController(api.getZr());\n  each(['pan', 'zoom', 'scrollMove'], function (eventName) {\n    controller.on(eventName, function (event) {\n      var batch = [];\n      coordSysRecord.dataZoomInfoMap.each(function (dzInfo) {\n        // Check whether the behaviors (zoomOnMouseWheel, moveOnMouseMove,\n        // moveOnMouseWheel, ...) enabled.\n        if (!event.isAvailableBehavior(dzInfo.model.option)) {\n          return;\n        }\n\n        var method = (dzInfo.getRange || {})[eventName];\n        var range = method && method(dzInfo.dzReferCoordSysInfo, coordSysRecord.model.mainType, coordSysRecord.controller, event);\n        !dzInfo.model.get('disabled', true) && range && batch.push({\n          dataZoomId: dzInfo.model.id,\n          start: range[0],\n          end: range[1]\n        });\n      });\n      batch.length && coordSysRecord.dispatchAction(batch);\n    });\n  });\n  return coordSysRecord;\n}\n/**\n * This action will be throttled.\n */\n\n\nfunction dispatchAction(api, batch) {\n  api.dispatchAction({\n    type: 'dataZoom',\n    animation: {\n      easing: 'cubicOut',\n      duration: 100\n    },\n    batch: batch\n  });\n}\n\nfunction containsPoint(coordSysModel, e, x, y) {\n  return coordSysModel.coordinateSystem.containPoint([x, y]);\n}\n/**\n * Merge roamController settings when multiple dataZooms share one roamController.\n */\n\n\nfunction mergeControllerParams(dataZoomInfoMap) {\n  var controlType; // DO NOT use reserved word (true, false, undefined) as key literally. Even if encapsulated\n  // as string, it is probably revert to reserved word by compress tool. See #7411.\n\n  var prefix = 'type_';\n  var typePriority = {\n    'type_true': 2,\n    'type_move': 1,\n    'type_false': 0,\n    'type_undefined': -1\n  };\n  var preventDefaultMouseMove = true;\n  dataZoomInfoMap.each(function (dataZoomInfo) {\n    var dataZoomModel = dataZoomInfo.model;\n    var oneType = dataZoomModel.get('disabled', true) ? false : dataZoomModel.get('zoomLock', true) ? 'move' : true;\n\n    if (typePriority[prefix + oneType] > typePriority[prefix + controlType]) {\n      controlType = oneType;\n    } // Prevent default move event by default. If one false, do not prevent. Otherwise\n    // users may be confused why it does not work when multiple insideZooms exist.\n\n\n    preventDefaultMouseMove = preventDefaultMouseMove && dataZoomModel.get('preventDefaultMouseMove', true);\n  });\n  return {\n    controlType: controlType,\n    opt: {\n      // RoamController will enable all of these functionalities,\n      // and the final behavior is determined by its event listener\n      // provided by each inside zoom.\n      zoomOnMouseWheel: true,\n      moveOnMouseMove: true,\n      moveOnMouseWheel: true,\n      preventDefaultMouseMove: !!preventDefaultMouseMove\n    }\n  };\n}\n\nexport function installDataZoomRoamProcessor(registers) {\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, function (ecModel, api) {\n    var apiInner = inner(api);\n    var coordSysRecordMap = apiInner.coordSysRecordMap || (apiInner.coordSysRecordMap = createHashMap());\n    coordSysRecordMap.each(function (coordSysRecord) {\n      // `coordSysRecordMap` always exists (becuase it hold the `roam controller`, which should\n      // better not re-create each time), but clear `dataZoomInfoMap` each round of the workflow.\n      coordSysRecord.dataZoomInfoMap = null;\n    });\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'inside'\n    }, function (dataZoomModel) {\n      var dzReferCoordSysWrap = collectReferCoordSysModelInfo(dataZoomModel);\n      each(dzReferCoordSysWrap.infoList, function (dzCoordSysInfo) {\n        var coordSysUid = dzCoordSysInfo.model.uid;\n        var coordSysRecord = coordSysRecordMap.get(coordSysUid) || coordSysRecordMap.set(coordSysUid, createCoordSysRecord(api, dzCoordSysInfo.model));\n        var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap || (coordSysRecord.dataZoomInfoMap = createHashMap()); // Notice these props might be changed each time for a single dataZoomModel.\n\n        dataZoomInfoMap.set(dataZoomModel.uid, {\n          dzReferCoordSysInfo: dzCoordSysInfo,\n          model: dataZoomModel,\n          getRange: null\n        });\n      });\n    }); // (1) Merge dataZoom settings for each coord sys and set to the roam controller.\n    // (2) Clear coord sys if not refered by any dataZoom.\n\n    coordSysRecordMap.each(function (coordSysRecord) {\n      var controller = coordSysRecord.controller;\n      var firstDzInfo;\n      var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n\n      if (dataZoomInfoMap) {\n        var firstDzKey = dataZoomInfoMap.keys()[0];\n\n        if (firstDzKey != null) {\n          firstDzInfo = dataZoomInfoMap.get(firstDzKey);\n        }\n      }\n\n      if (!firstDzInfo) {\n        disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        return;\n      }\n\n      var controllerParams = mergeControllerParams(dataZoomInfoMap);\n      controller.enable(controllerParams.controlType, controllerParams.opt);\n      controller.setPointerChecker(coordSysRecord.containsPoint);\n      throttleUtil.createOrUpdate(coordSysRecord, 'dispatchAction', firstDzInfo.model.get('throttle', true), 'fixRate');\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomView from './DataZoomView';\nimport sliderMove from '../helper/sliderMove';\nimport * as roams from './roams';\nimport { bind } from 'zrender/lib/core/util';\n\nvar InsideZoomView =\n/** @class */\nfunction (_super) {\n  __extends(InsideZoomView, _super);\n\n  function InsideZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'dataZoom.inside';\n    return _this;\n  }\n\n  InsideZoomView.prototype.render = function (dataZoomModel, ecModel, api) {\n    _super.prototype.render.apply(this, arguments);\n\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n\n      return;\n    } // Hence the `throttle` util ensures to preserve command order,\n    // here simply updating range all the time will not cause missing\n    // any of the the roam change.\n\n\n    this.range = dataZoomModel.getPercentRange(); // Reset controllers.\n\n    roams.setViewInfoToCoordSysRecord(api, dataZoomModel, {\n      pan: bind(getRangeHandlers.pan, this),\n      zoom: bind(getRangeHandlers.zoom, this),\n      scrollMove: bind(getRangeHandlers.scrollMove, this)\n    });\n  };\n\n  InsideZoomView.prototype.dispose = function () {\n    this._clear();\n\n    _super.prototype.dispose.apply(this, arguments);\n  };\n\n  InsideZoomView.prototype._clear = function () {\n    roams.disposeCoordSysRecordIfNeeded(this.api, this.dataZoomModel);\n    this.range = null;\n  };\n\n  InsideZoomView.type = 'dataZoom.inside';\n  return InsideZoomView;\n}(DataZoomView);\n\nvar getRangeHandlers = {\n  zoom: function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice(); // Calculate transform by the first axis.\n\n    var axisModel = coordSysInfo.axisModels[0];\n\n    if (!axisModel) {\n      return;\n    }\n\n    var directionInfo = getDirectionInfo[coordSysMainType](null, [e.originX, e.originY], axisModel, controller, coordSysInfo);\n    var percentPoint = (directionInfo.signal > 0 ? directionInfo.pixelStart + directionInfo.pixelLength - directionInfo.pixel : directionInfo.pixel - directionInfo.pixelStart) / directionInfo.pixelLength * (range[1] - range[0]) + range[0];\n    var scale = Math.max(1 / e.scale, 0);\n    range[0] = (range[0] - percentPoint) * scale + percentPoint;\n    range[1] = (range[1] - percentPoint) * scale + percentPoint; // Restrict range.\n\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    sliderMove(0, range, [0, 100], 0, minMaxSpan.minSpan, minMaxSpan.maxSpan);\n    this.range = range;\n\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  },\n  pan: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([e.oldX, e.oldY], [e.newX, e.newY], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * directionInfo.pixel / directionInfo.pixelLength;\n  }),\n  scrollMove: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([0, 0], [e.scrollDelta, e.scrollDelta], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * e.scrollDelta;\n  })\n};\n\nfunction makeMover(getPercentDelta) {\n  return function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice(); // Calculate transform by the first axis.\n\n    var axisModel = coordSysInfo.axisModels[0];\n\n    if (!axisModel) {\n      return;\n    }\n\n    var percentDelta = getPercentDelta(range, axisModel, coordSysInfo, coordSysMainType, controller, e);\n    sliderMove(percentDelta, range, [0, 100], 'all');\n    this.range = range;\n\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  };\n}\n\nvar getDirectionInfo = {\n  grid: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    oldPoint = oldPoint || [0, 0];\n\n    if (axis.dim === 'x') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // axis.dim === 'y'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  },\n  polar: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var polar = coordSysInfo.model.coordinateSystem;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var angleExtent = polar.getAngleAxis().getExtent();\n    oldPoint = oldPoint ? polar.pointToCoord(oldPoint) : [0, 0];\n    newPoint = polar.pointToCoord(newPoint);\n\n    if (axisModel.mainType === 'radiusAxis') {\n      ret.pixel = newPoint[0] - oldPoint[0]; // ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);\n      // ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);\n\n      ret.pixelLength = radiusExtent[1] - radiusExtent[0];\n      ret.pixelStart = radiusExtent[0];\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'angleAxis'\n      ret.pixel = newPoint[1] - oldPoint[1]; // ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);\n      // ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);\n\n      ret.pixelLength = angleExtent[1] - angleExtent[0];\n      ret.pixelStart = angleExtent[0];\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  },\n  singleAxis: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    var ret = {};\n    oldPoint = oldPoint || [0, 0];\n\n    if (axis.orient === 'horizontal') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'vertical'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  }\n};\nexport default InsideZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as numberUtil from '../../util/number';\nimport sliderMove from '../helper/sliderMove';\nimport { unionAxisExtentFromData } from '../../coord/axisHelper';\nimport { ensureScaleRawExtentInfo } from '../../coord/scaleRawExtentInfo';\nimport { getAxisMainType, isCoordSupported } from './helper';\nimport { SINGLE_REFERRING } from '../../util/model';\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n */\n\nvar AxisProxy =\n/** @class */\nfunction () {\n  function AxisProxy(dimName, axisIndex, dataZoomModel, ecModel) {\n    this._dimName = dimName;\n    this._axisIndex = axisIndex;\n    this.ecModel = ecModel;\n    this._dataZoomModel = dataZoomModel; // /**\n    //  * @readOnly\n    //  * @private\n    //  */\n    // this.hasSeriesStacked;\n  }\n  /**\n   * Whether the axisProxy is hosted by dataZoomModel.\n   */\n\n\n  AxisProxy.prototype.hostedBy = function (dataZoomModel) {\n    return this._dataZoomModel === dataZoomModel;\n  };\n  /**\n   * @return Value can only be NaN or finite value.\n   */\n\n\n  AxisProxy.prototype.getDataValueWindow = function () {\n    return this._valueWindow.slice();\n  };\n  /**\n   * @return {Array.<number>}\n   */\n\n\n  AxisProxy.prototype.getDataPercentWindow = function () {\n    return this._percentWindow.slice();\n  };\n\n  AxisProxy.prototype.getTargetSeriesModels = function () {\n    var seriesModels = [];\n    this.ecModel.eachSeries(function (seriesModel) {\n      if (isCoordSupported(seriesModel)) {\n        var axisMainType = getAxisMainType(this._dimName);\n        var axisModel = seriesModel.getReferringComponents(axisMainType, SINGLE_REFERRING).models[0];\n\n        if (axisModel && this._axisIndex === axisModel.componentIndex) {\n          seriesModels.push(seriesModel);\n        }\n      }\n    }, this);\n    return seriesModels;\n  };\n\n  AxisProxy.prototype.getAxisModel = function () {\n    return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n  };\n\n  AxisProxy.prototype.getMinMaxSpan = function () {\n    return zrUtil.clone(this._minMaxSpan);\n  };\n  /**\n   * Only calculate by given range and this._dataExtent, do not change anything.\n   */\n\n\n  AxisProxy.prototype.calculateDataWindow = function (opt) {\n    var dataExtent = this._dataExtent;\n    var axisModel = this.getAxisModel();\n    var scale = axisModel.axis.scale;\n\n    var rangePropMode = this._dataZoomModel.getRangePropMode();\n\n    var percentExtent = [0, 100];\n    var percentWindow = [];\n    var valueWindow = [];\n    var hasPropModeValue;\n    each(['start', 'end'], function (prop, idx) {\n      var boundPercent = opt[prop];\n      var boundValue = opt[prop + 'Value']; // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n      // on `valueProp` ('startValue', 'endValue'). (They are based on the data extent\n      // but not min/max of axis, which will be calculated by data window then).\n      // The former one is suitable for cases that a dataZoom component controls multiple\n      // axes with different unit or extent, and the latter one is suitable for accurate\n      // zoom by pixel (e.g., in dataZoomSelect).\n      // we use `getRangePropMode()` to mark which prop is used. `rangePropMode` is updated\n      // only when setOption or dispatchAction, otherwise it remains its original value.\n      // (Why not only record `percentProp` and always map to `valueProp`? Because\n      // the map `valueProp` -> `percentProp` -> `valueProp` probably not the original\n      // `valueProp`. consider two axes constrolled by one dataZoom. They have different\n      // data extent. All of values that are overflow the `dataExtent` will be calculated\n      // to percent '100%').\n\n      if (rangePropMode[idx] === 'percent') {\n        boundPercent == null && (boundPercent = percentExtent[idx]); // Use scale.parse to math round for category or time axis.\n\n        boundValue = scale.parse(numberUtil.linearMap(boundPercent, percentExtent, dataExtent));\n      } else {\n        hasPropModeValue = true;\n        boundValue = boundValue == null ? dataExtent[idx] : scale.parse(boundValue); // Calculating `percent` from `value` may be not accurate, because\n        // This calculation can not be inversed, because all of values that\n        // are overflow the `dataExtent` will be calculated to percent '100%'\n\n        boundPercent = numberUtil.linearMap(boundValue, dataExtent, percentExtent);\n      } // valueWindow[idx] = round(boundValue);\n      // percentWindow[idx] = round(boundPercent);\n\n\n      valueWindow[idx] = boundValue;\n      percentWindow[idx] = boundPercent;\n    });\n    asc(valueWindow);\n    asc(percentWindow); // The windows from user calling of `dispatchAction` might be out of the extent,\n    // or do not obey the `min/maxSpan`, `min/maxValueSpan`. But we dont restrict window\n    // by `zoomLock` here, because we see `zoomLock` just as a interaction constraint,\n    // where API is able to initialize/modify the window size even though `zoomLock`\n    // specified.\n\n    var spans = this._minMaxSpan;\n    hasPropModeValue ? restrictSet(valueWindow, percentWindow, dataExtent, percentExtent, false) : restrictSet(percentWindow, valueWindow, percentExtent, dataExtent, true);\n\n    function restrictSet(fromWindow, toWindow, fromExtent, toExtent, toValue) {\n      var suffix = toValue ? 'Span' : 'ValueSpan';\n      sliderMove(0, fromWindow, fromExtent, 'all', spans['min' + suffix], spans['max' + suffix]);\n\n      for (var i = 0; i < 2; i++) {\n        toWindow[i] = numberUtil.linearMap(fromWindow[i], fromExtent, toExtent, true);\n        toValue && (toWindow[i] = scale.parse(toWindow[i]));\n      }\n    }\n\n    return {\n      valueWindow: valueWindow,\n      percentWindow: percentWindow\n    };\n  };\n  /**\n   * Notice: reset should not be called before series.restoreData() called,\n   * so it is recommanded to be called in \"process stage\" but not \"model init\n   * stage\".\n   */\n\n\n  AxisProxy.prototype.reset = function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var targetSeries = this.getTargetSeriesModels(); // Culculate data window and data extent, and record them.\n\n    this._dataExtent = calculateDataExtent(this, this._dimName, targetSeries); // this.hasSeriesStacked = false;\n    // each(targetSeries, function (series) {\n    // let data = series.getData();\n    // let dataDim = data.mapDimension(this._dimName);\n    // let stackedDimension = data.getCalculationInfo('stackedDimension');\n    // if (stackedDimension && stackedDimension === dataDim) {\n    // this.hasSeriesStacked = true;\n    // }\n    // }, this);\n    // `calculateDataWindow` uses min/maxSpan.\n\n    this._updateMinMaxSpan();\n\n    var dataWindow = this.calculateDataWindow(dataZoomModel.settledOption);\n    this._valueWindow = dataWindow.valueWindow;\n    this._percentWindow = dataWindow.percentWindow; // Update axis setting then.\n\n    this._setAxisModel();\n  };\n\n  AxisProxy.prototype.filterData = function (dataZoomModel, api) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var axisDim = this._dimName;\n    var seriesModels = this.getTargetSeriesModels();\n    var filterMode = dataZoomModel.get('filterMode');\n    var valueWindow = this._valueWindow;\n\n    if (filterMode === 'none') {\n      return;\n    } // FIXME\n    // Toolbox may has dataZoom injected. And if there are stacked bar chart\n    // with NaN data, NaN will be filtered and stack will be wrong.\n    // So we need to force the mode to be set empty.\n    // In fect, it is not a big deal that do not support filterMode-'filter'\n    // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n    // selection\" some day, which might need \"adapt to data extent on the\n    // otherAxis\", which is disabled by filterMode-'empty'.\n    // But currently, stack has been fixed to based on value but not index,\n    // so this is not an issue any more.\n    // let otherAxisModel = this.getOtherAxisModel();\n    // if (dataZoomModel.get('$fromToolbox')\n    //     && otherAxisModel\n    //     && otherAxisModel.hasSeriesStacked\n    // ) {\n    //     filterMode = 'empty';\n    // }\n    // TODO\n    // filterMode 'weakFilter' and 'empty' is not optimized for huge data yet.\n\n\n    each(seriesModels, function (seriesModel) {\n      var seriesData = seriesModel.getData();\n      var dataDims = seriesData.mapDimensionsAll(axisDim);\n\n      if (!dataDims.length) {\n        return;\n      }\n\n      if (filterMode === 'weakFilter') {\n        seriesData.filterSelf(function (dataIndex) {\n          var leftOut;\n          var rightOut;\n          var hasValue;\n\n          for (var i = 0; i < dataDims.length; i++) {\n            var value = seriesData.get(dataDims[i], dataIndex);\n            var thisHasValue = !isNaN(value);\n            var thisLeftOut = value < valueWindow[0];\n            var thisRightOut = value > valueWindow[1];\n\n            if (thisHasValue && !thisLeftOut && !thisRightOut) {\n              return true;\n            }\n\n            thisHasValue && (hasValue = true);\n            thisLeftOut && (leftOut = true);\n            thisRightOut && (rightOut = true);\n          } // If both left out and right out, do not filter.\n\n\n          return hasValue && leftOut && rightOut;\n        });\n      } else {\n        each(dataDims, function (dim) {\n          if (filterMode === 'empty') {\n            seriesModel.setData(seriesData = seriesData.map(dim, function (value) {\n              return !isInWindow(value) ? NaN : value;\n            }));\n          } else {\n            var range = {};\n            range[dim] = valueWindow; // console.time('select');\n\n            seriesData.selectRange(range); // console.timeEnd('select');\n          }\n        });\n      }\n\n      each(dataDims, function (dim) {\n        seriesData.setApproximateExtent(valueWindow, dim);\n      });\n    });\n\n    function isInWindow(value) {\n      return value >= valueWindow[0] && value <= valueWindow[1];\n    }\n  };\n\n  AxisProxy.prototype._updateMinMaxSpan = function () {\n    var minMaxSpan = this._minMaxSpan = {};\n    var dataZoomModel = this._dataZoomModel;\n    var dataExtent = this._dataExtent;\n    each(['min', 'max'], function (minMax) {\n      var percentSpan = dataZoomModel.get(minMax + 'Span');\n      var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n      valueSpan != null && (valueSpan = this.getAxisModel().axis.scale.parse(valueSpan)); // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n\n      if (valueSpan != null) {\n        percentSpan = numberUtil.linearMap(dataExtent[0] + valueSpan, dataExtent, [0, 100], true);\n      } else if (percentSpan != null) {\n        valueSpan = numberUtil.linearMap(percentSpan, [0, 100], dataExtent, true) - dataExtent[0];\n      }\n\n      minMaxSpan[minMax + 'Span'] = percentSpan;\n      minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n    }, this);\n  };\n\n  AxisProxy.prototype._setAxisModel = function () {\n    var axisModel = this.getAxisModel();\n    var percentWindow = this._percentWindow;\n    var valueWindow = this._valueWindow;\n\n    if (!percentWindow) {\n      return;\n    } // [0, 500]: arbitrary value, guess axis extent.\n\n\n    var precision = numberUtil.getPixelPrecision(valueWindow, [0, 500]);\n    precision = Math.min(precision, 20); // For value axis, if min/max/scale are not set, we just use the extent obtained\n    // by series data, which may be a little different from the extent calculated by\n    // `axisHelper.getScaleExtent`. But the different just affects the experience a\n    // little when zooming. So it will not be fixed until some users require it strongly.\n\n    var rawExtentInfo = axisModel.axis.scale.rawExtentInfo;\n\n    if (percentWindow[0] !== 0) {\n      rawExtentInfo.setDeterminedMinMax('min', +valueWindow[0].toFixed(precision));\n    }\n\n    if (percentWindow[1] !== 100) {\n      rawExtentInfo.setDeterminedMinMax('max', +valueWindow[1].toFixed(precision));\n    }\n\n    rawExtentInfo.freeze();\n  };\n\n  return AxisProxy;\n}();\n\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n  var dataExtent = [Infinity, -Infinity];\n  each(seriesModels, function (seriesModel) {\n    unionAxisExtentFromData(dataExtent, seriesModel.getData(), axisDim);\n  }); // It is important to get \"consistent\" extent when more then one axes is\n  // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n  // when zooming. But it is difficult to know what is \"consistent\", considering\n  // axes have different type or even different meanings (For example, two\n  // time axes are used to compare data of the same date in different years).\n  // So basically dataZoom just obtains extent by series.data (in category axis\n  // extent can be obtained from axis.data).\n  // Nevertheless, user can set min/max/scale on axes to make extent of axes\n  // consistent.\n\n  var axisModel = axisProxy.getAxisModel();\n  var rawExtentResult = ensureScaleRawExtentInfo(axisModel.axis.scale, axisModel, dataExtent).calculate();\n  return [rawExtentResult.min, rawExtentResult.max];\n}\n\nexport default AxisProxy;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util';\nimport { getAxisMainType } from './helper';\nimport AxisProxy from './AxisProxy';\nvar dataZoomProcessor = {\n  // `dataZoomProcessor` will only be performed in needed series. Consider if\n  // there is a line series and a pie series, it is better not to update the\n  // line series if only pie series is needed to be updated.\n  getTargetSeries: function (ecModel) {\n    function eachAxisModel(cb) {\n      ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n        dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n          var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n          cb(axisDim, axisIndex, axisModel, dataZoomModel);\n        });\n      });\n    } // FIXME: it brings side-effect to `getTargetSeries`.\n    // Prepare axis proxies.\n\n\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // dispose all last axis proxy, in case that some axis are deleted.\n      axisModel.__dzAxisProxy = null;\n    });\n    var proxyList = [];\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // Different dataZooms may constrol the same axis. In that case,\n      // an axisProxy serves both of them.\n      if (!axisModel.__dzAxisProxy) {\n        // Use the first dataZoomModel as the main model of axisProxy.\n        axisModel.__dzAxisProxy = new AxisProxy(axisDim, axisIndex, dataZoomModel, ecModel);\n        proxyList.push(axisModel.__dzAxisProxy);\n      }\n    });\n    var seriesModelMap = createHashMap();\n    each(proxyList, function (axisProxy) {\n      each(axisProxy.getTargetSeriesModels(), function (seriesModel) {\n        seriesModelMap.set(seriesModel.uid, seriesModel);\n      });\n    });\n    return seriesModelMap;\n  },\n  // Consider appendData, where filter should be performed. Because data process is\n  // in block mode currently, it is not need to worry about that the overallProgress\n  // execute every frame.\n  overallReset: function (ecModel, api) {\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // We calculate window and reset axis here but not in model\n      // init stage and not after action dispatch handler, because\n      // reset should be called after seriesData.restoreData.\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).reset(dataZoomModel);\n      }); // Caution: data zoom filtering is order sensitive when using\n      // percent range and no min/max/scale set on axis.\n      // For example, we have dataZoom definition:\n      // [\n      //      {xAxisIndex: 0, start: 30, end: 70},\n      //      {yAxisIndex: 0, start: 20, end: 80}\n      // ]\n      // In this case, [20, 80] of y-dataZoom should be based on data\n      // that have filtered by x-dataZoom using range of [30, 70],\n      // but should not be based on full raw data. Thus sliding\n      // x-dataZoom will change both ranges of xAxis and yAxis,\n      // while sliding y-dataZoom will only change the range of yAxis.\n      // So we should filter x-axis after reset x-axis immediately,\n      // and then reset y-axis and filter y-axis.\n\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).filterData(dataZoomModel, api);\n      });\n    });\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // Fullfill all of the range props so that user\n      // is able to get them from chart.getOption().\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var percentRange = axisProxy.getDataPercentWindow();\n        var valueRange = axisProxy.getDataValueWindow();\n        dataZoomModel.setCalculatedRange({\n          start: percentRange[0],\n          end: percentRange[1],\n          startValue: valueRange[0],\n          endValue: valueRange[1]\n        });\n      }\n    });\n  }\n};\nexport default dataZoomProcessor;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { findEffectedDataZooms } from './helper';\nimport { each } from 'zrender/lib/core/util';\nexport default function installDataZoomAction(registers) {\n  registers.registerAction('dataZoom', function (payload, ecModel) {\n    var effectedModels = findEffectedDataZooms(ecModel, payload);\n    each(effectedModels, function (dataZoomModel) {\n      dataZoomModel.setRawRange({\n        start: payload.start,\n        end: payload.end,\n        startValue: payload.startValue,\n        endValue: payload.endValue\n      });\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport dataZoomProcessor from './dataZoomProcessor';\nimport installDataZoomAction from './dataZoomAction';\nvar installed = false;\nexport default function installCommon(registers) {\n  if (installed) {\n    return;\n  }\n\n  installed = true;\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, dataZoomProcessor);\n  installDataZoomAction(registers);\n  registers.registerSubTypeDefaulter('dataZoom', function () {\n    // Default 'slider' when no type specified.\n    return 'slider';\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport InsideZoomModel from './InsideZoomModel';\nimport InsideZoomView from './InsideZoomView';\nimport { installDataZoomRoamProcessor } from './roams';\nimport installCommon from './installCommon';\nexport function install(registers) {\n  installCommon(registers);\n  registers.registerComponentModel(InsideZoomModel);\n  registers.registerComponentView(InsideZoomView);\n  installDataZoomRoamProcessor(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel';\nimport { inheritDefaultOption } from '../../util/component';\n\nvar SliderZoomModel =\n/** @class */\nfunction (_super) {\n  __extends(SliderZoomModel, _super);\n\n  function SliderZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SliderZoomModel.type;\n    return _this;\n  }\n\n  SliderZoomModel.type = 'dataZoom.slider';\n  SliderZoomModel.layoutMode = 'box';\n  SliderZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    show: true,\n    // deault value can only be drived in view stage.\n    right: 'ph',\n    top: 'ph',\n    width: 'ph',\n    height: 'ph',\n    left: null,\n    bottom: null,\n    borderColor: '#d2dbee',\n    borderRadius: 3,\n    backgroundColor: 'rgba(47,69,84,0)',\n    // dataBackgroundColor: '#ddd',\n    dataBackground: {\n      lineStyle: {\n        color: '#d2dbee',\n        width: 0.5\n      },\n      areaStyle: {\n        color: '#d2dbee',\n        opacity: 0.2\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: '#8fb0f7',\n        width: 0.5\n      },\n      areaStyle: {\n        color: '#8fb0f7',\n        opacity: 0.2\n      }\n    },\n    // Color of selected window.\n    fillerColor: 'rgba(135,175,274,0.2)',\n    handleIcon: 'path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z',\n    // Percent of the slider height\n    handleSize: '100%',\n    handleStyle: {\n      color: '#fff',\n      borderColor: '#ACB8D1'\n    },\n    moveHandleSize: 7,\n    moveHandleIcon: 'path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z',\n    moveHandleStyle: {\n      color: '#D2DBEE',\n      opacity: 0.7\n    },\n    showDetail: true,\n    showDataShadow: 'auto',\n    realtime: true,\n    zoomLock: false,\n    textStyle: {\n      color: '#6E7079'\n    },\n    brushSelect: true,\n    brushStyle: {\n      color: 'rgba(135,175,274,0.15)'\n    },\n    emphasis: {\n      handleStyle: {\n        borderColor: '#8FB0F7'\n      },\n      moveHandleStyle: {\n        color: '#8FB0F7'\n      }\n    }\n  });\n  return SliderZoomModel;\n}(DataZoomModel);\n\nexport default SliderZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { bind, each, isFunction, isString, indexOf } from 'zrender/lib/core/util';\nimport * as eventTool from 'zrender/lib/core/event';\nimport * as graphic from '../../util/graphic';\nimport * as throttle from '../../util/throttle';\nimport DataZoomView from './DataZoomView';\nimport { linearMap, asc, parsePercent } from '../../util/number';\nimport * as layout from '../../util/layout';\nimport sliderMove from '../helper/sliderMove';\nimport { getAxisMainType, collectReferCoordSysModelInfo } from './helper';\nimport { enableHoverEmphasis } from '../../util/states';\nimport { createSymbol, symbolBuildProxies } from '../../util/symbol';\nimport { deprecateLog } from '../../util/log';\nimport { createTextStyle } from '../../label/labelStyle';\nvar Rect = graphic.Rect; // Constants\n\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar DEFAULT_MOVE_HANDLE_SIZE = 7;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar REALTIME_ANIMATION_CONFIG = {\n  easing: 'cubicOut',\n  duration: 100\n};\n\nvar SliderZoomView =\n/** @class */\nfunction (_super) {\n  __extends(SliderZoomView, _super);\n\n  function SliderZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SliderZoomView.type;\n    _this._displayables = {};\n    return _this;\n  }\n\n  SliderZoomView.prototype.init = function (ecModel, api) {\n    this.api = api; // A unique handler for each dataZoom component\n\n    this._onBrush = bind(this._onBrush, this);\n    this._onBrushEnd = bind(this._onBrushEnd, this);\n  };\n\n  SliderZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    _super.prototype.render.apply(this, arguments);\n\n    throttle.createOrUpdate(this, '_dispatchZoomAction', dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.getOrient();\n\n    if (dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n\n      this.group.removeAll();\n      return;\n    } // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n\n\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n\n    this._updateView();\n  };\n\n  SliderZoomView.prototype.dispose = function () {\n    this._clear();\n\n    _super.prototype.dispose.apply(this, arguments);\n  };\n\n  SliderZoomView.prototype._clear = function () {\n    throttle.clear(this, '_dispatchZoomAction');\n    var zr = this.api.getZr();\n    zr.off('mousemove', this._onBrush);\n    zr.off('mouseup', this._onBrushEnd);\n  };\n\n  SliderZoomView.prototype._buildView = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    this._brushing = false;\n    this._displayables.brushRect = null;\n\n    this._resetLocation();\n\n    this._resetInterval();\n\n    var barGroup = this._displayables.sliderGroup = new graphic.Group();\n\n    this._renderBackground();\n\n    this._renderHandle();\n\n    this._renderDataShadow();\n\n    thisGroup.add(barGroup);\n\n    this._positionGroup();\n  };\n\n  SliderZoomView.prototype._resetLocation = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var showMoveHandle = dataZoomModel.get('brushSelect');\n    var moveHandleSize = showMoveHandle ? DEFAULT_MOVE_HANDLE_SIZE : 0; // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n\n    var coordRect = this._findCoordRect();\n\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }; // Default align by coordinate system rect.\n\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP - moveHandleSize,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    }; // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option); // Replace the placeholder value.\n\n    each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  };\n\n  SliderZoomView.prototype._positionGroup = function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient; // Just use the first axis to determine mapping.\n\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var sliderGroup = this._displayables.sliderGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse; // Transform barGroup.\n\n    sliderGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: 1\n    } : orient === HORIZONTAL && inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: -1\n    } : orient === VERTICAL && !inverse ? {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: 1,\n      rotation: Math.PI / 2\n    } // Dont use Math.PI, considering shadow direction.\n    : {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: -1,\n      rotation: Math.PI / 2\n    }); // Position barGroup\n\n    var rect = thisGroup.getBoundingRect([sliderGroup]);\n    thisGroup.x = location.x - rect.x;\n    thisGroup.y = location.y - rect.y;\n    thisGroup.markRedraw();\n  };\n\n  SliderZoomView.prototype._getViewExtent = function () {\n    return [0, this._size[0]];\n  };\n\n  SliderZoomView.prototype._renderBackground = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.sliderGroup;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    })); // Click panel, over shadow, below handles.\n\n    var clickPanel = new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: bind(this._onClickPanel, this)\n    });\n    var zr = this.api.getZr();\n\n    if (brushSelect) {\n      clickPanel.on('mousedown', this._onBrushStart, this);\n      clickPanel.cursor = 'crosshair';\n      zr.on('mousemove', this._onBrush);\n      zr.on('mouseup', this._onBrushEnd);\n    } else {\n      zr.off('mousemove', this._onBrush);\n      zr.off('mouseup', this._onBrushEnd);\n    }\n\n    barGroup.add(clickPanel);\n  };\n\n  SliderZoomView.prototype._renderDataShadow = function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n\n    this._displayables.dataShadowSegs = [];\n\n    if (!info) {\n      return;\n    }\n\n    var size = this._size;\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var otherDim = seriesModel.getShadowDim ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n\n    if (otherDim == null) {\n      return;\n    }\n\n    var otherDataExtent = data.getDataExtent(otherDim); // Nice extent.\n\n    var otherOffset = (otherDataExtent[1] - otherDataExtent[0]) * 0.3;\n    otherDataExtent = [otherDataExtent[0] - otherOffset, otherDataExtent[1] + otherOffset];\n    var otherShadowExtent = [0, size[1]];\n    var thisShadowExtent = [0, size[0]];\n    var areaPoints = [[size[0], 0], [0, 0]];\n    var linePoints = [];\n    var step = thisShadowExtent[1] / (data.count() - 1);\n    var thisCoord = 0; // Optimize for large data shadow\n\n    var stride = Math.round(data.count() / size[0]);\n    var lastIsEmpty;\n    data.each([otherDim], function (value, index) {\n      if (stride > 0 && index % stride) {\n        thisCoord += step;\n        return;\n      } // FIXME\n      // Should consider axis.min/axis.max when drawing dataShadow.\n      // FIXME\n      // 应该使用统一的空判断？还是在list里进行空判断？\n\n\n      var isEmpty = value == null || isNaN(value) || value === ''; // See #4235.\n\n      var otherCoord = isEmpty ? 0 : linearMap(value, otherDataExtent, otherShadowExtent, true); // Attempt to draw data shadow precisely when there are empty value.\n\n      if (isEmpty && !lastIsEmpty && index) {\n        areaPoints.push([areaPoints[areaPoints.length - 1][0], 0]);\n        linePoints.push([linePoints[linePoints.length - 1][0], 0]);\n      } else if (!isEmpty && lastIsEmpty) {\n        areaPoints.push([thisCoord, 0]);\n        linePoints.push([thisCoord, 0]);\n      }\n\n      areaPoints.push([thisCoord, otherCoord]);\n      linePoints.push([thisCoord, otherCoord]);\n      thisCoord += step;\n      lastIsEmpty = isEmpty;\n    });\n    var dataZoomModel = this.dataZoomModel;\n\n    function createDataShadowGroup(isSelectedArea) {\n      var model = dataZoomModel.getModel(isSelectedArea ? 'selectedDataBackground' : 'dataBackground');\n      var group = new graphic.Group();\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: areaPoints\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('areaStyle').getAreaStyle(),\n        silent: true,\n        z2: -20\n      });\n      var polyline = new graphic.Polyline({\n        shape: {\n          points: linePoints\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('lineStyle').getLineStyle(),\n        silent: true,\n        z2: -19\n      });\n      group.add(polygon);\n      group.add(polyline);\n      return group;\n    } // let dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n\n\n    for (var i = 0; i < 3; i++) {\n      var group = createDataShadowGroup(i === 1);\n\n      this._displayables.sliderGroup.add(group);\n\n      this._displayables.dataShadowSegs.push(group);\n    }\n  };\n\n  SliderZoomView.prototype._prepareDataShadowInfo = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n\n    if (showDataShadow === false) {\n      return;\n    } // Find a representative series.\n\n\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(axisDim, axisIndex).getTargetSeriesModels();\n      each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n\n        if (showDataShadow !== true && indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n\n        var thisAxis = ecModel.getComponent(getAxisMainType(axisDim), axisIndex).axis;\n        var otherDim = getOtherDim(axisDim);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: axisDim,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  };\n\n  SliderZoomView.prototype._renderHandle = function () {\n    var thisGroup = this.group;\n    var displayables = this._displayables;\n    var handles = displayables.handles = [null, null];\n    var handleLabels = displayables.handleLabels = [null, null];\n    var sliderGroup = this._displayables.sliderGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var borderRadius = dataZoomModel.get('borderRadius') || 0;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    var filler = displayables.filler = new Rect({\n      silent: brushSelect,\n      style: {\n        fill: dataZoomModel.get('fillerColor')\n      },\n      textConfig: {\n        position: 'inside'\n      }\n    });\n    sliderGroup.add(filler); // Frame border.\n\n    sliderGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1],\n        r: borderRadius\n      },\n      style: {\n        stroke: dataZoomModel.get('dataBackgroundColor') // deprecated option\n        || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    })); // Left and right handle to resize\n\n    each([0, 1], function (handleIndex) {\n      var iconStr = dataZoomModel.get('handleIcon');\n\n      if (!symbolBuildProxies[iconStr] && iconStr.indexOf('path://') < 0 && iconStr.indexOf('image://') < 0) {\n        // Compatitable with the old icon parsers. Which can use a path string without path://\n        iconStr = 'path://' + iconStr;\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('handleIcon now needs \\'path://\\' prefix when using a path string');\n        }\n      }\n\n      var path = createSymbol(iconStr, -1, 0, 2, 2, null, true);\n      path.attr({\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false),\n        z2: 5\n      });\n      var bRect = path.getBoundingRect();\n      var handleSize = dataZoomModel.get('handleSize');\n      this._handleHeight = parsePercent(handleSize, this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      path.style.strokeNoScale = true;\n      path.rectHover = true;\n      path.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n      enableHoverEmphasis(path);\n      var handleColor = dataZoomModel.get('handleColor'); // deprecated option\n      // Compatitable with previous version\n\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n\n      sliderGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.getModel('textStyle');\n      thisGroup.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: createTextStyle(textStyleModel, {\n          x: 0,\n          y: 0,\n          text: '',\n          verticalAlign: 'middle',\n          align: 'center',\n          fill: textStyleModel.getTextColor(),\n          font: textStyleModel.getFont()\n        }),\n        z2: 10\n      }));\n    }, this); // Handle to move. Only visible when brushSelect is set true.\n\n    var actualMoveZone = filler;\n\n    if (brushSelect) {\n      var moveHandleHeight = parsePercent(dataZoomModel.get('moveHandleSize'), size[1]);\n      var moveHandle_1 = displayables.moveHandle = new graphic.Rect({\n        style: dataZoomModel.getModel('moveHandleStyle').getItemStyle(),\n        silent: true,\n        shape: {\n          r: [0, 0, 2, 2],\n          y: size[1] - 0.5,\n          height: moveHandleHeight\n        }\n      });\n      var iconSize = moveHandleHeight * 0.8;\n      var moveHandleIcon = displayables.moveHandleIcon = createSymbol(dataZoomModel.get('moveHandleIcon'), -iconSize / 2, -iconSize / 2, iconSize, iconSize, '#fff', true);\n      moveHandleIcon.silent = true;\n      moveHandleIcon.y = size[1] + moveHandleHeight / 2 - 0.5;\n      moveHandle_1.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'moveHandleStyle']).getItemStyle();\n      var moveZoneExpandSize = Math.min(size[1] / 2, Math.max(moveHandleHeight, 10));\n      actualMoveZone = displayables.moveZone = new graphic.Rect({\n        invisible: true,\n        shape: {\n          y: size[1] - moveZoneExpandSize,\n          height: moveHandleHeight + moveZoneExpandSize\n        }\n      });\n      actualMoveZone.on('mouseover', function () {\n        api.enterEmphasis(moveHandle_1);\n      }).on('mouseout', function () {\n        api.leaveEmphasis(moveHandle_1);\n      });\n      sliderGroup.add(moveHandle_1);\n      sliderGroup.add(moveHandleIcon);\n      sliderGroup.add(actualMoveZone);\n    }\n\n    actualMoveZone.attr({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false)\n    });\n  };\n\n  SliderZoomView.prototype._resetInterval = function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n\n    var viewExtent = this._getViewExtent();\n\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  };\n\n  SliderZoomView.prototype._updateInterval = function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n\n    var viewExtend = this._getViewExtent();\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  };\n\n  SliderZoomView.prototype._updateView = function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scaleX: handleHeight / 2,\n        scaleY: handleHeight / 2,\n        // This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.\n        // NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.\n        x: handleEnds[handleIndex] + (handleIndex ? -1 : 1),\n        y: size[1] / 2 - handleHeight / 2\n      });\n    }, this); // Filler\n\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n    var viewExtent = {\n      x: handleInterval[0],\n      width: handleInterval[1] - handleInterval[0]\n    }; // Move handle\n\n    if (displaybles.moveHandle) {\n      displaybles.moveHandle.setShape(viewExtent);\n      displaybles.moveZone.setShape(viewExtent); // Force update path on the invisible object\n\n      displaybles.moveZone.getBoundingRect();\n      displaybles.moveHandleIcon && displaybles.moveHandleIcon.attr('x', viewExtent.x + viewExtent.width / 2);\n    } // update clip path of shadow.\n\n\n    var dataShadowSegs = displaybles.dataShadowSegs;\n    var segIntervals = [0, handleInterval[0], handleInterval[1], size[0]];\n\n    for (var i = 0; i < dataShadowSegs.length; i++) {\n      var segGroup = dataShadowSegs[i];\n      var clipPath = segGroup.getClipPath();\n\n      if (!clipPath) {\n        clipPath = new graphic.Rect();\n        segGroup.setClipPath(clipPath);\n      }\n\n      clipPath.setShape({\n        x: segIntervals[i],\n        y: 0,\n        width: segIntervals[i + 1] - segIntervals[i],\n        height: size[1]\n      });\n    }\n\n    this._updateDataInfo(nonRealtime);\n  };\n\n  SliderZoomView.prototype._updateDataInfo = function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', '']; // FIXME\n    // date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）\n\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        verticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        align: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  };\n\n  SliderZoomView.prototype._formatLabel = function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n\n    var valueStr = value == null || isNaN(value) ? '' // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel({\n      value: Math.round(value)\n    }) // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return isFunction(labelFormatter) ? labelFormatter(value, valueStr) : isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  };\n  /**\n   * @param showOrHide true: show, false: hide\n   */\n\n\n  SliderZoomView.prototype._showDataInfo = function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var displayables = this._displayables;\n    var handleLabels = displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide); // Highlight move handle\n\n    displayables.moveHandle && this.api[showOrHide ? 'enterEmphasis' : 'leaveEmphasis'](displayables.moveHandle, 1);\n  };\n\n  SliderZoomView.prototype._onDragMove = function (handleIndex, dx, dy, event) {\n    this._dragging = true; // For mobile device, prevent screen slider on the button.\n\n    eventTool.stop(event.event); // Transform dx, dy to bar coordination.\n\n    var barTransform = this._displayables.sliderGroup.getLocalTransform();\n\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n\n    var realtime = this.dataZoomModel.get('realtime');\n\n    this._updateView(!realtime); // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n\n\n    changed && realtime && this._dispatchZoomAction(true);\n  };\n\n  SliderZoomView.prototype._onDragEnd = function () {\n    this._dragging = false;\n\n    this._showDataInfo(false); // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n\n\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onClickPanel = function (e) {\n    var size = this._size;\n\n    var localPoint = this._displayables.sliderGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n\n    var changed = this._updateInterval('all', localPoint[0] - center);\n\n    this._updateView();\n\n    changed && this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onBrushStart = function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    this._brushStart = new graphic.Point(x, y);\n    this._brushing = true;\n    this._brushStartTime = +new Date(); // this._updateBrushRect(x, y);\n  };\n\n  SliderZoomView.prototype._onBrushEnd = function (e) {\n    if (!this._brushing) {\n      return;\n    }\n\n    var brushRect = this._displayables.brushRect;\n    this._brushing = false;\n\n    if (!brushRect) {\n      return;\n    }\n\n    brushRect.attr('ignore', true);\n    var brushShape = brushRect.shape;\n    var brushEndTime = +new Date(); // console.log(brushEndTime - this._brushStartTime);\n\n    if (brushEndTime - this._brushStartTime < 200 && Math.abs(brushShape.width) < 5) {\n      // Will treat it as a click\n      return;\n    }\n\n    var viewExtend = this._getViewExtent();\n\n    var percentExtent = [0, 100];\n    this._range = asc([linearMap(brushShape.x, viewExtend, percentExtent, true), linearMap(brushShape.x + brushShape.width, viewExtend, percentExtent, true)]);\n    this._handleEnds = [brushShape.x, brushShape.x + brushShape.width];\n\n    this._updateView();\n\n    this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onBrush = function (e) {\n    if (this._brushing) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n\n      this._updateBrushRect(e.offsetX, e.offsetY);\n    }\n  };\n\n  SliderZoomView.prototype._updateBrushRect = function (mouseX, mouseY) {\n    var displayables = this._displayables;\n    var dataZoomModel = this.dataZoomModel;\n    var brushRect = displayables.brushRect;\n\n    if (!brushRect) {\n      brushRect = displayables.brushRect = new Rect({\n        silent: true,\n        style: dataZoomModel.getModel('brushStyle').getItemStyle()\n      });\n      displayables.sliderGroup.add(brushRect);\n    }\n\n    brushRect.attr('ignore', false);\n    var brushStart = this._brushStart;\n    var sliderGroup = this._displayables.sliderGroup;\n    var endPoint = sliderGroup.transformCoordToLocal(mouseX, mouseY);\n    var startPoint = sliderGroup.transformCoordToLocal(brushStart.x, brushStart.y);\n    var size = this._size;\n    endPoint[0] = Math.max(Math.min(size[0], endPoint[0]), 0);\n    brushRect.setShape({\n      x: startPoint[0],\n      y: 0,\n      width: endPoint[0] - startPoint[0],\n      height: size[1]\n    });\n  };\n  /**\n   * This action will be throttled.\n   */\n\n\n  SliderZoomView.prototype._dispatchZoomAction = function (realtime) {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      animation: realtime ? REALTIME_ANIMATION_CONFIG : null,\n      start: range[0],\n      end: range[1]\n    });\n  };\n\n  SliderZoomView.prototype._findCoordRect = function () {\n    // Find the grid coresponding to the first axis referred by dataZoom.\n    var rect;\n    var coordSysInfoList = collectReferCoordSysModelInfo(this.dataZoomModel).infoList;\n\n    if (!rect && coordSysInfoList.length) {\n      var coordSys = coordSysInfoList[0].model.coordinateSystem;\n      rect = coordSys.getRect && coordSys.getRect();\n    }\n\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n\n    return rect;\n  };\n\n  SliderZoomView.type = 'dataZoom.slider';\n  return SliderZoomView;\n}(DataZoomView);\n\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // 这个逻辑和getOtherAxis里一致，但是写在这里是否不好\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nexport default SliderZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SliderZoomModel from './SliderZoomModel';\nimport SliderZoomView from './SliderZoomView';\nimport installCommon from './installCommon';\nexport function install(registers) {\n  registers.registerComponentModel(SliderZoomModel);\n  registers.registerComponentView(SliderZoomView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport { install as installDataZoomInside } from './installDataZoomInside';\nimport { install as installDataZoomSlider } from './installDataZoomSlider';\nexport function install(registers) {\n  use(installDataZoomInside);\n  use(installDataZoomSlider); // Do not install './dataZoomSelect',\n  // since it only work for toolbox dataZoom.\n}","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","<template>\n  <div id=\"bar-chart-card-component\">\n    <div class=\"top-container\">\n      <h3 class=\"title\">{{ title }}</h3>\n      <div v-if=\"hasData\" class=\"expand-button\" @click=\"onExpandClick\">\n        <img src=\"@/assets/images/icons/png/expand.png\" alt=\"\" />\n      </div>\n    </div>\n    <div v-if=\"hasData\" class=\"chart-container\">\n      <div :id=\"'bar-chart-main-' + title\" class=\"chart-main\"></div>\n    </div>\n    <div v-else class=\"chart-empty\">\n      <h3>No Data</h3>\n    </div>\n\n    <el-dialog :title=\"title\" v-model=\"dialogVisible\" width=\"80%\">\n      <div class=\"dialog-container\">\n        <div :id=\"'bar-chart-dialog-' + title\" class=\"chart-dialog\"></div>\n        <p class=\"hint\">Scrolling to zoom.</p>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  ref,\n  toRefs,\n  watchEffect,\n  nextTick,\n  computed,\n  PropType\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport { BarChart, BarSeriesOption } from \"echarts/charts\";\nimport {\n  DataZoomComponent,\n  DataZoomComponentOption,\n  GridComponent,\n  GridComponentOption,\n  TooltipComponent,\n  TooltipComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { useStore } from \"vuex\";\nimport { AddResizer } from \"@/typings/store\";\n\ntype ECOption = echarts.ComposeOption<\n  | BarSeriesOption\n  | GridComponentOption\n  | TooltipComponentOption\n  | DataZoomComponentOption\n>;\n\necharts.use([\n  BarChart,\n  GridComponent,\n  TooltipComponent,\n  DataZoomComponent,\n  CanvasRenderer\n]);\n\nconst Component = defineComponent({\n  name: \"BarChart\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Object as PropType<{ axis: string[]; series: any[] }>,\n      default: () => ({ axis: [], series: [] })\n    },\n    percentage: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const { title, data, percentage } = toRefs(props);\n    const store = useStore();\n    const dialogVisible = ref(false);\n    const hasData = computed(() => {\n      return data.value.series.length;\n    });\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      if (!data.value.series.length) return;\n\n      option = {\n        tooltip: {\n          trigger: \"axis\",\n          formatter(params: any) {\n            return `\n              ${params[0].name} <br />\n                ${params\n                  .map(\n                    (it: any) => `\n                  <div  style=\"display: flex; justify-content: space-between;\">\n                    <span>${it.marker} ${it.seriesName}</span> ${it.value}% <br />\n                  </div>\n                `\n                  )\n                  .join(\"\")}\n            `;\n          }\n        },\n        xAxis: {\n          type: \"category\",\n          data: data.value.axis\n        },\n        yAxis: {\n          type: \"value\",\n          axisLabel: {\n            formatter: percentage.value ? \"{value}%\" : \"{value}\"\n          }\n        },\n        series: data.value.series\n      };\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"bar-chart-main-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    });\n\n    const onExpandClick = async () => {\n      dialogVisible.value = true;\n      await nextTick();\n\n      const chart = echarts.init(\n        document.getElementById(\"bar-chart-dialog-\" + title.value)!\n      );\n      chart.setOption({\n        ...option,\n        dataZoom: [\n          {\n            type: \"inside\"\n          }\n        ]\n      });\n      store.commit(AddResizer, chart);\n    };\n\n    return {\n      dialogVisible,\n      hasData,\n\n      onExpandClick\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#bar-chart-card-component\n  width 100%\n  background-color white\n\n  .top-container\n    display flex\n    justify-content space-between\n    align-items center\n    padding 20px 30px 0\n    .title\n      font-size $font-size-lg2x\n      font-weight 500\n    .expand-button\n      cursor pointer\n      img\n        width 20px\n        height 20px\n\n  .chart-container\n    width 100%\n  .dialog-container\n    width 100%\n    position relative\n  .chart-main\n    chart-main()\n  .chart-empty\n    chart-empty()\n  .chart-dialog\n    chart-dialog()\n  .hint\n    position absolute\n    right 30px\n    bottom 5px\n</style>\n","\nimport {\n  defineComponent,\n  ref,\n  toRefs,\n  watchEffect,\n  nextTick,\n  computed,\n  PropType\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport { BarChart, BarSeriesOption } from \"echarts/charts\";\nimport {\n  DataZoomComponent,\n  DataZoomComponentOption,\n  GridComponent,\n  GridComponentOption,\n  TooltipComponent,\n  TooltipComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { useStore } from \"vuex\";\nimport { AddResizer } from \"@/typings/store\";\n\ntype ECOption = echarts.ComposeOption<\n  | BarSeriesOption\n  | GridComponentOption\n  | TooltipComponentOption\n  | DataZoomComponentOption\n>;\n\necharts.use([\n  BarChart,\n  GridComponent,\n  TooltipComponent,\n  DataZoomComponent,\n  CanvasRenderer\n]);\n\nconst Component = defineComponent({\n  name: \"BarChart\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Object as PropType<{ axis: string[]; series: any[] }>,\n      default: () => ({ axis: [], series: [] })\n    },\n    percentage: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const { title, data, percentage } = toRefs(props);\n    const store = useStore();\n    const dialogVisible = ref(false);\n    const hasData = computed(() => {\n      return data.value.series.length;\n    });\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      if (!data.value.series.length) return;\n\n      option = {\n        tooltip: {\n          trigger: \"axis\",\n          formatter(params: any) {\n            return `\n              ${params[0].name} <br />\n                ${params\n                  .map(\n                    (it: any) => `\n                  <div  style=\"display: flex; justify-content: space-between;\">\n                    <span>${it.marker} ${it.seriesName}</span> ${it.value}% <br />\n                  </div>\n                `\n                  )\n                  .join(\"\")}\n            `;\n          }\n        },\n        xAxis: {\n          type: \"category\",\n          data: data.value.axis\n        },\n        yAxis: {\n          type: \"value\",\n          axisLabel: {\n            formatter: percentage.value ? \"{value}%\" : \"{value}\"\n          }\n        },\n        series: data.value.series\n      };\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"bar-chart-main-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    });\n\n    const onExpandClick = async () => {\n      dialogVisible.value = true;\n      await nextTick();\n\n      const chart = echarts.init(\n        document.getElementById(\"bar-chart-dialog-\" + title.value)!\n      );\n      chart.setOption({\n        ...option,\n        dataZoom: [\n          {\n            type: \"inside\"\n          }\n        ]\n      });\n      store.commit(AddResizer, chart);\n    };\n\n    return {\n      dialogVisible,\n      hasData,\n\n      onExpandClick\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./BarChartCard.vue?vue&type=template&id=a9348d56&scoped=true\"\nimport script from \"./BarChartCard.vue?vue&type=script&lang=ts\"\nexport * from \"./BarChartCard.vue?vue&type=script&lang=ts\"\n\nimport \"./BarChartCard.vue?vue&type=style&index=0&id=a9348d56&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-a9348d56\"\n\nexport default script","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BarChartCard.vue?vue&type=style&index=0&id=a9348d56&scoped=true&lang=stylus\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LineBarChartCard.vue?vue&type=style&index=0&id=69dac912&scoped=true&lang=stylus\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PowerChart.vue?vue&type=style&index=0&id=7b0c9159&scoped=true&lang=stylus\"","import dayjs from \"dayjs\";\n\nimport {\n  FinanceRegionChartResponse, LineBarChartResponse, LineChartResponse,\n  PieChartResponse,\n  PieItemResponse, StackBarChartResponse,\n  TableResponse\n} from \"@/typings/brandInsight\";\nimport { PieDataItemOption } from \"echarts/types/src/chart/pie/PieSeries\";\n\nexport function formatLineBarData(data: LineBarChartResponse | null) {\n  if (!data) return;\n\n  const _data = data.data;\n  const axis = _data.line_trend.map((it: [string, number]) =>\n    dayjs(it[0]).format(\"YYYY-MM-DD\")\n  );\n  const lineData = _data.line_trend.map((it: [string, number]) => it[1]);\n  const barData = _data.bar_changes.map((it: [string, number]) => it[1]);\n  return {\n    axis,\n    lineData,\n    barData\n  };\n}\n\nexport function formatLineData(data: LineChartResponse | null) {\n  if (!data) return;\n\n  const _data = data.data;\n  const axis = _data.line_trend.map((it: [string, number]) =>\n    dayjs(it[0]).format(\"YYYY-MM-DD\")\n  );\n  const lineData = _data.line_trend.map((it: [string, number]) => it[1]);\n  return {\n    axis,\n    lineData,\n  };\n}\n\nexport function formatStackBarData(data: StackBarChartResponse | null) {\n  if (!data) return;\n\n  const _data = data.data;\n  const axis = _data.x.map((it: string) => dayjs(it).format(\"YYYY-MM-DD\"));\n  const series = _data.c.map((name: string, index: number) => ({\n    type: \"bar\",\n    name,\n    stack: \"one\",\n    data: _data.y[index]\n  }));\n  return {\n    axis,\n    series\n  };\n}\n\nexport function formatTableData(data: TableResponse | null) {\n  if (!data) return;\n\n  return data.data.map((it: [string, number, number]) => ({\n    category: it[0],\n    products: it[1],\n    percentage: it[2]\n  }));\n}\n\nexport function formatPieChartData(data: PieChartResponse | null) {\n  if (!data) return;\n\n  return data.data.map(\n    (it: PieItemResponse): PieDataItemOption => ({\n      name: it.label,\n      value: it.data\n    })\n  );\n}\n\nexport function formatFinanceRegionData(data: FinanceRegionChartResponse | null) {\n  if (!data) return;\n\n  const axis = data.datetimes.map((datetime: string) => dayjs(datetime).format('YYYY/MM'));\n  const lineData = data.values.map((value: string) => parseFloat(value));\n  return {\n    axis,\n    lineData,\n  };\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LineChartCard.vue?vue&type=style&index=0&id=1e6dc9e9&scoped=true&lang=stylus\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RadarChartCard.vue?vue&type=style&index=0&id=ddeb0500&scoped=true&lang=stylus\"","import { AxiosPromise } from \"axios\";\nimport request from \"@/apis/http\";\nimport {\n  BoxPlotChartResponse, BrandSummaryRespones,\n  BrandTableItemResponse,\n  DiscoverOptionsResponse,\n  FinanceRegionChartResponse,\n  GrowthChartResponse,\n  LineBarChartResponse,\n  LineChartResponse,\n  OverallChartResponse,\n  PieChartResponse,\n  RadarChartResponse,\n  StackBarChartResponse,\n  TableResponse\n} from \"@/typings/brandInsight\";\n\nexport function getBrandOptions(): AxiosPromise<{brands: string[]}> {\n  return request({\n    url: '/brand_insight/brands/',\n    method: 'GET'\n  })\n}\n\n// *** For Brand Summary\nexport function getBrandSummary(brand: string): AxiosPromise<BrandSummaryRespones> {\n  return request({\n    url: `/brand_insight/brand_summary/${brand}/`,\n    method: 'GET'\n  })\n}\n\n// ***\n\n// *** For Product Power Page\nexport function getProductTypePriceBoxPlotChart(brand: string): AxiosPromise<BoxPlotChartResponse> {\n  return request({\n    url: `/brand_insight/chart/product/price_box_plot/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getProductDiscountTrendChart(brand: string): AxiosPromise<LineBarChartResponse> {\n  return request({\n    url: `/brand_insight/chart/ProductDiscountTrendChart/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getTopMaterialsUsedChart(brand: string): AxiosPromise<StackBarChartResponse> {\n  return request({\n    url: `/brand_insight/chart/TopMaterialsUsed/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getTopRecycleMaterialsUsedChart(brand: string): AxiosPromise<StackBarChartResponse> {\n  return request({\n    url: `/brand_insight/chart/TopRecycleMaterialsUsed/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getSportsCountTable(brand: string): AxiosPromise<TableResponse> {\n  return request({\n    url: `/brand_insight/chart/SportsCount/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getCategoriesCountTable(brand: string): AxiosPromise<TableResponse> {\n  return request({\n    url: `/brand_insight/chart/CategoriesCount/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getMaterialPieChart(brand: string): AxiosPromise<PieChartResponse> {\n  return request({\n    url: `/brand_insight/chart/MaterialPieChart/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getSportPieChart(brand: string): AxiosPromise<PieChartResponse> {\n  return request({\n    url: `/brand_insight/chart/SportPieChart/${brand}/`,\n    method: \"GET\",\n  });\n}\n// ***\n\n// *** For Brand Power\nexport function getOverallChart(category: string, brand: string): AxiosPromise<OverallChartResponse> {\n  return request({\n    url: `/brand_insight/score/glass_door/${category}/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getGoogleTrendChart(brand: string): AxiosPromise<LineBarChartResponse> {\n  return request({\n    url: `/brand_insight/chart/GoogleTrendChart/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getInstagramGrowthRate(brand: string): AxiosPromise<GrowthChartResponse> {\n  return request({\n    url: `/brand_insight/score/instagram/followers/${brand}/`,\n    method: \"GET\",\n  });\n}\n// ***\n\n\n// *** For Financial Power\nexport function getFinanceRadarChart(brand: string): AxiosPromise<RadarChartResponse> {\n  return request({\n    url: `/brand_insight/chart/finance/radar/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getDaysPayableOutstandingQChart(brand: string): AxiosPromise<LineChartResponse> {\n  return request({\n    url: `/brand_insight/chart/DaysPayableOutstandingQ/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getDaysPayableOutstandingYChart(brand: string): AxiosPromise<LineChartResponse> {\n  return request({\n    url: `/brand_insight/chart/DaysPayableOutstandingY/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getCashToCLRatioQChart(brand: string): AxiosPromise<LineChartResponse> {\n  return request({\n    url: `/brand_insight/chart/CashToCLRatioQ/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getCashToCLRatioYChart(brand: string): AxiosPromise<LineChartResponse> {\n  return request({\n    url: `/brand_insight/chart/CashToCLRatioY/${brand}/`,\n    method: \"GET\",\n  });\n}\n\nexport function getFinanceRegionChart(brand: string): AxiosPromise<FinanceRegionChartResponse> {\n  return request({\n    url: `/brand_insight/chart/finance/revenue/${brand}/`,\n    method: \"GET\",\n  });\n}\n// ***\n\nexport function getBrandsTable(params: {'is_favorite'?: boolean; tags?: string;}): AxiosPromise<BrandTableItemResponse[]> {\n  return request({\n    url: `/discover_brands/brands_table/`,\n    method: \"GET\",\n    params\n  });\n}\n\nexport function getBrandMostViewed(): AxiosPromise<BrandTableItemResponse[]> {\n  return request({\n    url: `/my_favorite/most_viewd_brands/`,\n    method: 'GET'\n  })\n}\n\nexport function putBrandFavorite(id: number, isFavorite: boolean) {\n  return request({\n    url: `/discover_brands/brand/${id}/`,\n    method: 'PUT',\n    data: {is_favorite: isFavorite}\n  })\n}\n\nexport function getDiscoverBrandOptions(): AxiosPromise<DiscoverOptionsResponse> {\n  return request({\n    url: '/discover_brands/tag_filter_options/',\n    method: 'GET'\n  })\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FinancialPower.vue?vue&type=style&index=0&id=35fa5dce&scoped=true&lang=stylus\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=b107e6aa&scoped=true&lang=stylus\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProductPower.vue?vue&type=style&index=0&id=e7fb4a32&scoped=true&lang=stylus\"","<template>\n  <div id=\"brand-summary-component\">\n    <el-row :gutter=\"30\" class=\"brand-info-container\">\n      <div class=\"brand-card\">\n        <img\n          class=\"cover\"\n          :src=\"formatImageUrl(summary && summary.logo)\"\n          alt=\"\"\n        />\n        <div class=\"context\">\n          <p v-for=\"(p, index) in summary ? summary.biography.split('\\n') : []\" :key=\"index\">\n            {{ p }}\n          </p>\n        </div>\n      </div>\n      <PowerChart v-if=\"summary\" :data=\"summary.power_scores\"></PowerChart>\n    </el-row>\n\n    <h2 class=\"zoom-title\">Brand Summary</h2>\n    <div class=\"summary-container\">\n      <div class=\"context\">\n        <p v-for=\"(p, index) in summary ? summary.summary.split('\\n') : []\" :key=\"index\">\n          {{ p }}\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, toRefs, watchEffect, ref } from \"vue\";\n\nimport PowerChart from \"@/components/PowerChart.vue\";\nimport { getBrandSummary } from \"@/apis/brand\";\nimport { BrandSummaryRespones } from \"@/typings/brandInsight\";\nimport { formatImageUrl } from \"@/utils\";\n\nconst Component = defineComponent({\n  name: \"BrandSummary\",\n  components: {\n    PowerChart\n  },\n  props: {\n    brand: {\n      type: String,\n      default: \"\"\n    }\n  },\n  setup(props) {\n    const { brand } = toRefs(props);\n    const summary = ref<BrandSummaryRespones | null>(null);\n\n    watchEffect(async () => {\n      if (!brand.value) return;\n\n      const { data } = await getBrandSummary(brand.value);\n      summary.value = data;\n    });\n\n    return {\n      summary,\n\n      formatImageUrl\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#brand-summary-component\n  overflow-x hidden\n  padding-top 15px\n\n  .brand-info-container\n    .brand-card\n      flex(space-between, flex-end)\n      border-radius $card-radius\n      padding 15px 30px\n      margin-right 30px\n      background white\n      width calc(100% - 530px)\n\n      .cover\n        width auto\n        height 150px\n        margin-right 30px\n\n      .context\n        font-size $font-size-lg2x\n        line-height 1.5\n\n  .zoom-title\n    padding 30px 0\n    zoom-title()\n\n  .summary-container\n    background white\n    border-radius $card-radius\n    padding 30px 45px\n\n    .context\n      font-size $font-size-lg2x\n      line-height 1.5\n\n  :deep() .el-row\n    el-row()\n</style>\n","<template>\n  <div id=\"power-chart-component\">\n    <div class=\"top-container\">\n      <div class=\"name\">{{ data[0].label }} Power</div>\n      <div class=\"circle\">{{ data[0].value }}</div>\n    </div>\n    <div class=\"button-container\">\n      <div class=\"left-container\">\n        <div class=\"name\">\n          <p>{{ data[1].label }}</p>\n          <p>Power</p>\n        </div>\n        <div class=\"circle\">{{ data[1].value }}</div>\n      </div>\n      <div class=\"right-container\">\n        <div class=\"circle\">{{ data[2].value }}</div>\n        <div class=\"name\">\n          <p>{{ data[2].label }}</p>\n          <p>Power</p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"bar bar-one\"></div>\n    <div class=\"bar bar-two\"></div>\n    <div class=\"bar bar-three\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\n\nconst Component = defineComponent({\n  name: \"PowerChart\",\n  props: {\n    data: {\n      type: Array as PropType<{ label: string; value: number }[]>,\n      default: () => []\n    }\n  },\n  setup() {\n    return {};\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#power-chart-component\n  position relative\n  background-color transparent\n  width 400px\n  height 200px\n  .top-container\n    flex()\n    flex-direction column\n    position relative\n    height 100px\n    .name\n      top -5px\n\n  .button-container\n    flex()\n    height 100px\n    .left-container\n      flex()\n      width 50%\n      .name\n        left 0\n    .right-container\n      flex()\n      width 50%\n      .name\n        right 0\n\n  .name\n    position absolute\n    font-size $font-size-normal\n    font-weight 500\n    p\n      line-height  20px\n\n  .circle\n    flex()\n    width 60px\n    height 60px\n    box-sizing border-box\n    border-radius 50%\n    border 3px solid $color-active\n    background $color-active-secondary\n    z-index 10\n\n  .bar\n    position absolute\n    content ''\n    height 5px\n    background $color-active\n    z-index 1\n  .bar-one\n    transform rotate(-45deg)\n    width 90px\n    left 100px\n    bottom calc(100px / 2 + 50px)\n  .bar-two\n    transform rotate(45deg)\n    width 90px\n    right 100px\n    bottom calc(100px / 2 + 50px)\n  .bar-three\n    width 140px\n    left 130px\n    bottom calc(100px / 2)\n</style>\n","\nimport { defineComponent, PropType } from \"vue\";\n\nconst Component = defineComponent({\n  name: \"PowerChart\",\n  props: {\n    data: {\n      type: Array as PropType<{ label: string; value: number }[]>,\n      default: () => []\n    }\n  },\n  setup() {\n    return {};\n  }\n});\n\nexport default Component;\n","import { render } from \"./PowerChart.vue?vue&type=template&id=7b0c9159&scoped=true\"\nimport script from \"./PowerChart.vue?vue&type=script&lang=ts\"\nexport * from \"./PowerChart.vue?vue&type=script&lang=ts\"\n\nimport \"./PowerChart.vue?vue&type=style&index=0&id=7b0c9159&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-7b0c9159\"\n\nexport default script","\nimport { defineComponent, toRefs, watchEffect, ref } from \"vue\";\n\nimport PowerChart from \"@/components/PowerChart.vue\";\nimport { getBrandSummary } from \"@/apis/brand\";\nimport { BrandSummaryRespones } from \"@/typings/brandInsight\";\nimport { formatImageUrl } from \"@/utils\";\n\nconst Component = defineComponent({\n  name: \"BrandSummary\",\n  components: {\n    PowerChart\n  },\n  props: {\n    brand: {\n      type: String,\n      default: \"\"\n    }\n  },\n  setup(props) {\n    const { brand } = toRefs(props);\n    const summary = ref<BrandSummaryRespones | null>(null);\n\n    watchEffect(async () => {\n      if (!brand.value) return;\n\n      const { data } = await getBrandSummary(brand.value);\n      summary.value = data;\n    });\n\n    return {\n      summary,\n\n      formatImageUrl\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./BrandSummary.vue?vue&type=template&id=9af304a8&scoped=true\"\nimport script from \"./BrandSummary.vue?vue&type=script&lang=ts\"\nexport * from \"./BrandSummary.vue?vue&type=script&lang=ts\"\n\nimport \"./BrandSummary.vue?vue&type=style&index=0&id=9af304a8&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-9af304a8\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BoxplotChartCard.vue?vue&type=style&index=0&id=28443c06&scoped=true&lang=stylus\"","<template>\n  <div id=\"product-power-component\">\n    <el-row :gutter=\"30\">\n      <el-col :span=\"12\">\n        <BoxplotChartCard\n          title=\"Product Price Boxplot by Category\"\n          :data=\"\n            productTypePriceBoxPlot ? productTypePriceBoxPlot.Data : undefined\n          \"\n        ></BoxplotChartCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <LineChartCard\n          title=\"Product Discount (%)\"\n          percentage\n          :data=\"formatLineData(productDiscountTrend)\"\n          :names=\"['Average Discount']\"\n        ></LineChartCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <BarChartCard\n          title=\"Top Materials Used of New Arrivals\"\n          percentage\n          :data=\"formatStackBarData(topMaterialsUsed)\"\n        ></BarChartCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <BarChartCard\n          title=\"Top Recycled Materials Used of New Arrivals\"\n          percentage\n          :data=\"formatStackBarData(topRecycleMaterialsUsed)\"\n        ></BarChartCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <TableCard\n          title=\"Most Listed Categories\"\n          subtitle=\"last 30 days\"\n          :columns=\"columns\"\n          :data=\"formatTableData(categoriesCountTable)\"\n        ></TableCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <TableCard\n          title=\"Most Listed Sports\"\n          subtitle=\"last 30 days\"\n          :columns=\"columns\"\n          :data=\"formatTableData(sportsCountTable)\"\n        ></TableCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <PieChartCard\n          title=\"Sport Radio in All Products\"\n          :data=\"formatPieChartData(sportPie)\"\n        ></PieChartCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <PieChartCard\n          title=\"Material Radio in All Products\"\n          :data=\"formatPieChartData(materialPie)\"\n        ></PieChartCard>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, watchEffect, ref, toRefs } from \"vue\";\n\nimport BoxplotChartCard from \"@/components/BoxplotChartCard.vue\";\nimport BarChartCard from \"@/components/BarChartCard.vue\";\nimport LineChartCard from \"@/components/LineChartCard.vue\";\nimport TableCard from \"@/components/TableCard.vue\";\nimport PieChartCard from \"@/components/PieChartCard.vue\";\n\nimport { Column } from \"@/constants/element\";\nimport {\n  getCategoriesCountTable,\n  getMaterialPieChart,\n  getProductDiscountTrendChart,\n  getProductTypePriceBoxPlotChart,\n  getSportPieChart,\n  getSportsCountTable,\n  getTopMaterialsUsedChart,\n  getTopRecycleMaterialsUsedChart\n} from \"@/apis/brand\";\nimport {\n  BoxPlotChartResponse,\n  LineBarChartResponse,\n  PieChartResponse,\n  StackBarChartResponse,\n  TableResponse\n} from \"@/typings/brandInsight\";\nimport { loading } from \"@/utils\";\nimport {\n  formatLineData,\n  formatPieChartData,\n  formatStackBarData,\n  formatTableData\n} from \"@/utils/brandInsight\";\n\nconst columns: Column[] = [\n  { prop: \"category\", label: \"Category\" },\n  { prop: \"products\", label: \"Product Count\", width: \"80px\" },\n  { prop: \"percentage\", label: \"%\", width: \"80px\" }\n];\n\nconst Component = defineComponent({\n  name: \"ProductPower\",\n  props: {\n    brand: {\n      type: String,\n      default: \"\"\n    }\n  },\n  components: {\n    BoxplotChartCard,\n    BarChartCard,\n    LineChartCard,\n    TableCard,\n    PieChartCard\n  },\n  setup(props) {\n    const { brand } = toRefs(props);\n    const productTypePriceBoxPlot = ref<BoxPlotChartResponse | null>(null);\n    const productDiscountTrend = ref<LineBarChartResponse | null>(null);\n    const topMaterialsUsed = ref<StackBarChartResponse | null>(null);\n    const topRecycleMaterialsUsed = ref<StackBarChartResponse | null>(null);\n    const sportsCountTable = ref<TableResponse | null>(null);\n    const categoriesCountTable = ref<TableResponse | null>(null);\n    const sportPie = ref<PieChartResponse | null>(null);\n    const materialPie = ref<PieChartResponse | null>(null);\n\n    watchEffect(async () => {\n      if (!brand.value) return;\n\n      productTypePriceBoxPlot.value = (\n        await getProductTypePriceBoxPlotChart(brand.value)\n      ).data;\n      console.log('value', productTypePriceBoxPlot.value);\n      productDiscountTrend.value = (\n        await getProductDiscountTrendChart(brand.value)\n      ).data;\n      topMaterialsUsed.value = (\n        await getTopMaterialsUsedChart(brand.value)\n      ).data;\n      topRecycleMaterialsUsed.value = (\n        await getTopRecycleMaterialsUsedChart(brand.value)\n      ).data;\n      sportsCountTable.value = (await getSportsCountTable(brand.value)).data;\n      categoriesCountTable.value = (\n        await getCategoriesCountTable(brand.value)\n      ).data;\n      materialPie.value = (await getMaterialPieChart(brand.value)).data;\n      sportPie.value = (await getSportPieChart(brand.value)).data;\n    });\n\n    return {\n      columns,\n\n      productTypePriceBoxPlot,\n      productDiscountTrend,\n      topMaterialsUsed,\n      topRecycleMaterialsUsed,\n      sportsCountTable,\n      categoriesCountTable,\n      sportPie,\n      materialPie,\n\n      formatLineData,\n      formatStackBarData,\n      formatTableData,\n      formatPieChartData\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#product-power-component\n  overflow-x hidden\n  padding 15px 15px 0\n\n  .el-col\n    margin-bottom 30px\n\n  :deep() .el-row\n    el-row()\n</style>\n","<template>\n  <div ref=\"refComponent\" id=\"boxplot-chart-card-component\">\n    <div class=\"top-container\">\n      <h3 class=\"title\">\n        {{ title }}\n        <p class=\"subtitle\">last 30 Days</p>\n      </h3>\n      <div v-if=\"hasData\" class=\"expand-button\" @click=\"onExpandClick\">\n        <img src=\"@/assets/images/icons/png/expand.png\" alt=\"\" />\n      </div>\n    </div>\n    <div v-if=\"hasData\" class=\"chart-container\">\n      <div :id=\"'boxplot-chart-main-' + title\" class=\"chart-main\"></div>\n    </div>\n    <div v-else class=\"chart-empty\">\n      <h3>No Data</h3>\n    </div>\n\n    <el-dialog :title=\"title\" v-model=\"dialogVisible\" width=\"80%\">\n      <div class=\"dialog-container\">\n        <div :id=\"'boxplot-chart-dialog-' + title\" class=\"chart-dialog\"></div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  ref,\n  toRefs,\n  watchEffect,\n  nextTick,\n  computed,\n  PropType\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport {\n  BoxplotChart,\n  BoxplotSeriesOption,\n  ScatterChart,\n  ScatterSeriesOption\n} from \"echarts/charts\";\nimport {\n  GridComponent,\n  GridComponentOption,\n  TooltipComponent,\n  TooltipComponentOption,\n  DatasetComponent,\n  DatasetComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { BoxPlotResponse } from \"@/typings/brandInsight\";\nimport { AddResizer } from \"@/typings/store\";\nimport { useStore } from \"vuex\";\n\ntype ECOption = echarts.ComposeOption<\n  | BoxplotSeriesOption\n  | GridComponentOption\n  | TooltipComponentOption\n  | DatasetComponentOption\n  | ScatterSeriesOption\n>;\n\necharts.use([\n  BoxplotChart,\n  ScatterChart,\n  GridComponent,\n  TooltipComponent,\n  DatasetComponent,\n  CanvasRenderer\n]);\n\nconst Component = defineComponent({\n  name: \"BoxplotChartCard\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Object as PropType<BoxPlotResponse>,\n      default: () => ({\n        categories: [],\n        data: []\n      })\n    }\n  },\n  setup(props) {\n    const { title, data } = toRefs(props);\n    const store = useStore();\n    const refComponent = ref(null);\n    const dialogVisible = ref(false);\n    const hasData = computed(() => {\n      return data.value.data.length;\n    });\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      if (!hasData.value) return;\n\n      option = {\n        tooltip: {\n          trigger: \"axis\",\n          formatter(param: any) {\n            return `\n            <div style=\"min-width: 200px;\">\n              <h3>${param[0].name}</h3>\n              ${param\n                .filter((item: any) => item.componentSubType === \"boxplot\")\n                .map(\n                  (item: any) =>\n                    `\n                      <div style=\"display: flex; justify-content: space-between;\">\n                        <span>${item.marker} ${item.name} (Median) ${item.data[3]}</span> <br />\n                      </div>\n                    `\n                )\n                .join(\"\")}\n            </div>\n          `;\n          }\n        },\n        grid: {\n          left: \"20%\"\n        },\n        dataset: [\n          {\n            source: data.value.data\n          },\n          {\n            transform: {\n              type: \"boxplot\",\n              config: {\n                itemNameFormatter(params: { value: number }) {\n                  return data.value.categories[params.value];\n                }\n              }\n            }\n          },\n          {\n            fromDatasetIndex: 1,\n            fromTransformResult: 1\n          }\n        ],\n        xAxis: {\n          name: \"Price\",\n          nameLocation: \"middle\",\n          nameGap: 30,\n          scale: true\n        },\n        yAxis: {\n          type: \"category\",\n          data: data.value.categories,\n          axisLabel: {\n            formatter(value: any) {\n              const SPLIT_MAX = 10;\n              if (value.length > SPLIT_MAX) {\n                return value.slice(0, SPLIT_MAX - 1) + \"...\";\n              }\n              return value;\n            }\n          }\n        },\n        series: [\n          {\n            name: \"boxplot\",\n            type: \"boxplot\",\n            datasetIndex: 1\n          },\n          {\n            name: \"outlier\",\n            type: \"scatter\",\n            encode: { x: 1, y: 0 },\n            datasetIndex: 2,\n            symbolSize: 5,\n            itemStyle: {\n              color: \"#20bfa9\"\n            }\n          }\n        ]\n      };\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"boxplot-chart-main-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    });\n\n    const onExpandClick = async () => {\n      if (!option) return;\n      dialogVisible.value = true;\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"boxplot-chart-dialog-\" + title.value)!\n      );\n      chart.setOption({\n        ...option,\n        yAxis: {\n          ...option.yAxis,\n          // @ts-ignore\n          axisLabel: { ...option.yAxis.axisLabel, interval: 0 }\n        }\n      });\n      store.commit(AddResizer, chart);\n    };\n\n    return {\n      refComponent,\n      dialogVisible,\n      hasData,\n\n      onExpandClick\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#boxplot-chart-card-component\n  width 100%\n  background-color white\n\n  .top-container\n    display flex\n    justify-content space-between\n    align-items center\n    padding 20px 30px 0\n    .title\n      position relative\n      font-size $font-size-lg2x\n      font-weight 500\n      .subtitle\n        position absolute\n        bottom -120%\n        left 0\n        font-size $font-size-large\n        font-weight 400\n        color $color-secondary\n    .expand-button\n      cursor pointer\n      img\n        width 20px\n        height 20px\n\n  .chart-container\n    width 100%\n  .dialog-container\n    width 100%\n  .chart-main\n    chart-main()\n  .chart-empty\n    chart-empty()\n  .chart-dialog\n    chart-dialog()\n</style>\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport createListSimply from '../helper/createListSimply';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { getDimensionTypeByAxis } from '../../data/helper/dimensionHelper';\nimport { makeSeriesEncodeForAxisCoordSys } from '../../data/helper/sourceHelper';\n\nvar WhiskerBoxCommonMixin =\n/** @class */\nfunction () {\n  function WhiskerBoxCommonMixin() {}\n  /**\n   * @override\n   */\n\n\n  WhiskerBoxCommonMixin.prototype.getInitialData = function (option, ecModel) {\n    // When both types of xAxis and yAxis are 'value', layout is\n    // needed to be specified by user. Otherwise, layout can be\n    // judged by which axis is category.\n    var ordinalMeta;\n    var xAxisModel = ecModel.getComponent('xAxis', this.get('xAxisIndex'));\n    var yAxisModel = ecModel.getComponent('yAxis', this.get('yAxisIndex'));\n    var xAxisType = xAxisModel.get('type');\n    var yAxisType = yAxisModel.get('type');\n    var addOrdinal; // FIXME\n    // Consider time axis.\n\n    if (xAxisType === 'category') {\n      option.layout = 'horizontal';\n      ordinalMeta = xAxisModel.getOrdinalMeta();\n      addOrdinal = true;\n    } else if (yAxisType === 'category') {\n      option.layout = 'vertical';\n      ordinalMeta = yAxisModel.getOrdinalMeta();\n      addOrdinal = true;\n    } else {\n      option.layout = option.layout || 'horizontal';\n    }\n\n    var coordDims = ['x', 'y'];\n    var baseAxisDimIndex = option.layout === 'horizontal' ? 0 : 1;\n    var baseAxisDim = this._baseAxisDim = coordDims[baseAxisDimIndex];\n    var otherAxisDim = coordDims[1 - baseAxisDimIndex];\n    var axisModels = [xAxisModel, yAxisModel];\n    var baseAxisType = axisModels[baseAxisDimIndex].get('type');\n    var otherAxisType = axisModels[1 - baseAxisDimIndex].get('type');\n    var data = option.data; // ??? FIXME make a stage to perform data transfrom.\n    // MUST create a new data, consider setOption({}) again.\n\n    if (data && addOrdinal) {\n      var newOptionData_1 = [];\n      zrUtil.each(data, function (item, index) {\n        var newItem;\n\n        if (zrUtil.isArray(item)) {\n          newItem = item.slice();\n          item.unshift(index);\n        } else if (zrUtil.isArray(item.value)) {\n          newItem = item.value.slice();\n          item.value.unshift(index);\n        } else {\n          newItem = item;\n        }\n\n        newOptionData_1.push(newItem);\n      });\n      option.data = newOptionData_1;\n    }\n\n    var defaultValueDimensions = this.defaultValueDimensions;\n    var coordDimensions = [{\n      name: baseAxisDim,\n      type: getDimensionTypeByAxis(baseAxisType),\n      ordinalMeta: ordinalMeta,\n      otherDims: {\n        tooltip: false,\n        itemName: 0\n      },\n      dimsDef: ['base']\n    }, {\n      name: otherAxisDim,\n      type: getDimensionTypeByAxis(otherAxisType),\n      dimsDef: defaultValueDimensions.slice()\n    }];\n    return createListSimply(this, {\n      coordDimensions: coordDimensions,\n      dimensionsCount: defaultValueDimensions.length + 1,\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForAxisCoordSys, coordDimensions, this)\n    });\n  };\n  /**\n   * If horizontal, base axis is x, otherwise y.\n   * @override\n   */\n\n\n  WhiskerBoxCommonMixin.prototype.getBaseAxis = function () {\n    var dim = this._baseAxisDim;\n    return this.ecModel.getComponent(dim + 'Axis', this.get(dim + 'AxisIndex')).axis;\n  };\n\n  return WhiskerBoxCommonMixin;\n}();\n\n;\nexport { WhiskerBoxCommonMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series';\nimport { WhiskerBoxCommonMixin } from '../helper/whiskerBoxCommon';\nimport { mixin } from 'zrender/lib/core/util';\n\nvar BoxplotSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(BoxplotSeriesModel, _super);\n\n  function BoxplotSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = BoxplotSeriesModel.type; // TODO\n    // box width represents group size, so dimension should have 'size'.\n\n    /**\n     * @see <https://en.wikipedia.org/wiki/Box_plot>\n     * The meanings of 'min' and 'max' depend on user,\n     * and echarts do not need to know it.\n     * @readOnly\n     */\n\n    _this.defaultValueDimensions = [{\n      name: 'min',\n      defaultTooltip: true\n    }, {\n      name: 'Q1',\n      defaultTooltip: true\n    }, {\n      name: 'median',\n      defaultTooltip: true\n    }, {\n      name: 'Q3',\n      defaultTooltip: true\n    }, {\n      name: 'max',\n      defaultTooltip: true\n    }];\n    _this.visualDrawType = 'stroke';\n    return _this;\n  }\n\n  BoxplotSeriesModel.type = 'series.boxplot';\n  BoxplotSeriesModel.dependencies = ['xAxis', 'yAxis', 'grid'];\n  BoxplotSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    layout: null,\n    boxWidth: [7, 50],\n    itemStyle: {\n      color: '#fff',\n      borderWidth: 1\n    },\n    emphasis: {\n      scale: true,\n      itemStyle: {\n        borderWidth: 2,\n        shadowBlur: 5,\n        shadowOffsetX: 1,\n        shadowOffsetY: 1,\n        shadowColor: 'rgba(0,0,0,0.2)'\n      }\n    },\n    animationDuration: 800\n  };\n  return BoxplotSeriesModel;\n}(SeriesModel);\n\nmixin(BoxplotSeriesModel, WhiskerBoxCommonMixin, true);\nexport default BoxplotSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport ChartView from '../../view/Chart';\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport Path from 'zrender/lib/graphic/Path';\n\nvar BoxplotView =\n/** @class */\nfunction (_super) {\n  __extends(BoxplotView, _super);\n\n  function BoxplotView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = BoxplotView.type;\n    return _this;\n  }\n\n  BoxplotView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var group = this.group;\n    var oldData = this._data; // There is no old data only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!this._data) {\n      group.removeAll();\n    }\n\n    var constDim = seriesModel.get('layout') === 'horizontal' ? 1 : 0;\n    data.diff(oldData).add(function (newIdx) {\n      if (data.hasValue(newIdx)) {\n        var itemLayout = data.getItemLayout(newIdx);\n        var symbolEl = createNormalBox(itemLayout, data, newIdx, constDim, true);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx); // Empty data\n\n      if (!data.hasValue(newIdx)) {\n        group.remove(symbolEl);\n        return;\n      }\n\n      var itemLayout = data.getItemLayout(newIdx);\n\n      if (!symbolEl) {\n        symbolEl = createNormalBox(itemLayout, data, newIdx, constDim);\n      } else {\n        updateNormalBoxData(itemLayout, symbolEl, data, newIdx);\n      }\n\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute();\n    this._data = data;\n  };\n\n  BoxplotView.prototype.remove = function (ecModel) {\n    var group = this.group;\n    var data = this._data;\n    this._data = null;\n    data && data.eachItemGraphicEl(function (el) {\n      el && group.remove(el);\n    });\n  };\n\n  BoxplotView.type = 'boxplot';\n  return BoxplotView;\n}(ChartView);\n\nvar BoxPathShape =\n/** @class */\nfunction () {\n  function BoxPathShape() {}\n\n  return BoxPathShape;\n}();\n\nvar BoxPath =\n/** @class */\nfunction (_super) {\n  __extends(BoxPath, _super);\n\n  function BoxPath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'boxplotBoxPath';\n    return _this;\n  }\n\n  BoxPath.prototype.getDefaultShape = function () {\n    return new BoxPathShape();\n  };\n\n  BoxPath.prototype.buildPath = function (ctx, shape) {\n    var ends = shape.points;\n    var i = 0;\n    ctx.moveTo(ends[i][0], ends[i][1]);\n    i++;\n\n    for (; i < 4; i++) {\n      ctx.lineTo(ends[i][0], ends[i][1]);\n    }\n\n    ctx.closePath();\n\n    for (; i < ends.length; i++) {\n      ctx.moveTo(ends[i][0], ends[i][1]);\n      i++;\n      ctx.lineTo(ends[i][0], ends[i][1]);\n    }\n  };\n\n  return BoxPath;\n}(Path);\n\nfunction createNormalBox(itemLayout, data, dataIndex, constDim, isInit) {\n  var ends = itemLayout.ends;\n  var el = new BoxPath({\n    shape: {\n      points: isInit ? transInit(ends, constDim, itemLayout) : ends\n    }\n  });\n  updateNormalBoxData(itemLayout, el, data, dataIndex, isInit);\n  return el;\n}\n\nfunction updateNormalBoxData(itemLayout, el, data, dataIndex, isInit) {\n  var seriesModel = data.hostModel;\n  var updateMethod = graphic[isInit ? 'initProps' : 'updateProps'];\n  updateMethod(el, {\n    shape: {\n      points: itemLayout.ends\n    }\n  }, seriesModel, dataIndex);\n  el.useStyle(data.getItemVisual(dataIndex, 'style'));\n  el.style.strokeNoScale = true;\n  el.z2 = 100;\n  var itemModel = data.getItemModel(dataIndex);\n  setStatesStylesFromModel(el, itemModel);\n  enableHoverEmphasis(el, itemModel.get(['emphasis', 'focus']), itemModel.get(['emphasis', 'blurScope']));\n}\n\nfunction transInit(points, dim, itemLayout) {\n  return zrUtil.map(points, function (point) {\n    point = point.slice();\n    point[dim] = itemLayout.initBaseline;\n    return point;\n  });\n}\n\nexport default BoxplotView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function boxplotVisual(ecModel, api) {}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { parsePercent } from '../../util/number';\nvar each = zrUtil.each;\nexport default function boxplotLayout(ecModel) {\n  var groupResult = groupSeriesByAxis(ecModel);\n  each(groupResult, function (groupItem) {\n    var seriesModels = groupItem.seriesModels;\n\n    if (!seriesModels.length) {\n      return;\n    }\n\n    calculateBase(groupItem);\n    each(seriesModels, function (seriesModel, idx) {\n      layoutSingleSeries(seriesModel, groupItem.boxOffsetList[idx], groupItem.boxWidthList[idx]);\n    });\n  });\n}\n/**\n * Group series by axis.\n */\n\nfunction groupSeriesByAxis(ecModel) {\n  var result = [];\n  var axisList = [];\n  ecModel.eachSeriesByType('boxplot', function (seriesModel) {\n    var baseAxis = seriesModel.getBaseAxis();\n    var idx = zrUtil.indexOf(axisList, baseAxis);\n\n    if (idx < 0) {\n      idx = axisList.length;\n      axisList[idx] = baseAxis;\n      result[idx] = {\n        axis: baseAxis,\n        seriesModels: []\n      };\n    }\n\n    result[idx].seriesModels.push(seriesModel);\n  });\n  return result;\n}\n/**\n * Calculate offset and box width for each series.\n */\n\n\nfunction calculateBase(groupItem) {\n  var extent;\n  var baseAxis = groupItem.axis;\n  var seriesModels = groupItem.seriesModels;\n  var seriesCount = seriesModels.length;\n  var boxWidthList = groupItem.boxWidthList = [];\n  var boxOffsetList = groupItem.boxOffsetList = [];\n  var boundList = [];\n  var bandWidth;\n\n  if (baseAxis.type === 'category') {\n    bandWidth = baseAxis.getBandWidth();\n  } else {\n    var maxDataCount_1 = 0;\n    each(seriesModels, function (seriesModel) {\n      maxDataCount_1 = Math.max(maxDataCount_1, seriesModel.getData().count());\n    });\n    extent = baseAxis.getExtent(), Math.abs(extent[1] - extent[0]) / maxDataCount_1;\n  }\n\n  each(seriesModels, function (seriesModel) {\n    var boxWidthBound = seriesModel.get('boxWidth');\n\n    if (!zrUtil.isArray(boxWidthBound)) {\n      boxWidthBound = [boxWidthBound, boxWidthBound];\n    }\n\n    boundList.push([parsePercent(boxWidthBound[0], bandWidth) || 0, parsePercent(boxWidthBound[1], bandWidth) || 0]);\n  });\n  var availableWidth = bandWidth * 0.8 - 2;\n  var boxGap = availableWidth / seriesCount * 0.3;\n  var boxWidth = (availableWidth - boxGap * (seriesCount - 1)) / seriesCount;\n  var base = boxWidth / 2 - availableWidth / 2;\n  each(seriesModels, function (seriesModel, idx) {\n    boxOffsetList.push(base);\n    base += boxGap + boxWidth;\n    boxWidthList.push(Math.min(Math.max(boxWidth, boundList[idx][0]), boundList[idx][1]));\n  });\n}\n/**\n * Calculate points location for each series.\n */\n\n\nfunction layoutSingleSeries(seriesModel, offset, boxWidth) {\n  var coordSys = seriesModel.coordinateSystem;\n  var data = seriesModel.getData();\n  var halfWidth = boxWidth / 2;\n  var cDimIdx = seriesModel.get('layout') === 'horizontal' ? 0 : 1;\n  var vDimIdx = 1 - cDimIdx;\n  var coordDims = ['x', 'y'];\n  var cDim = data.mapDimension(coordDims[cDimIdx]);\n  var vDims = data.mapDimensionsAll(coordDims[vDimIdx]);\n\n  if (cDim == null || vDims.length < 5) {\n    return;\n  }\n\n  for (var dataIndex = 0; dataIndex < data.count(); dataIndex++) {\n    var axisDimVal = data.get(cDim, dataIndex);\n    var median = getPoint(axisDimVal, vDims[2], dataIndex);\n    var end1 = getPoint(axisDimVal, vDims[0], dataIndex);\n    var end2 = getPoint(axisDimVal, vDims[1], dataIndex);\n    var end4 = getPoint(axisDimVal, vDims[3], dataIndex);\n    var end5 = getPoint(axisDimVal, vDims[4], dataIndex);\n    var ends = [];\n    addBodyEnd(ends, end2, false);\n    addBodyEnd(ends, end4, true);\n    ends.push(end1, end2, end5, end4);\n    layEndLine(ends, end1);\n    layEndLine(ends, end5);\n    layEndLine(ends, median);\n    data.setItemLayout(dataIndex, {\n      initBaseline: median[vDimIdx],\n      ends: ends\n    });\n  }\n\n  function getPoint(axisDimVal, dim, dataIndex) {\n    var val = data.get(dim, dataIndex);\n    var p = [];\n    p[cDimIdx] = axisDimVal;\n    p[vDimIdx] = val;\n    var point;\n\n    if (isNaN(axisDimVal) || isNaN(val)) {\n      point = [NaN, NaN];\n    } else {\n      point = coordSys.dataToPoint(p);\n      point[cDimIdx] += offset;\n    }\n\n    return point;\n  }\n\n  function addBodyEnd(ends, point, start) {\n    var point1 = point.slice();\n    var point2 = point.slice();\n    point1[cDimIdx] += halfWidth;\n    point2[cDimIdx] -= halfWidth;\n    start ? ends.push(point1, point2) : ends.push(point2, point1);\n  }\n\n  function layEndLine(ends, endCenter) {\n    var from = endCenter.slice();\n    var to = endCenter.slice();\n    from[cDimIdx] -= halfWidth;\n    to[cDimIdx] += halfWidth;\n    ends.push(from, to);\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { quantile, asc } from '../../util/number';\nimport { isFunction, isString } from 'zrender/lib/core/util';\n/**\n * See:\n *  <https://en.wikipedia.org/wiki/Box_plot#cite_note-frigge_hoaglin_iglewicz-2>\n *  <http://stat.ethz.ch/R-manual/R-devel/library/grDevices/html/boxplot.stats.html>\n *\n * Helper method for preparing data.\n *\n * @param rawData like\n *        [\n *            [12,232,443], (raw data set for the first box)\n *            [3843,5545,1232], (raw data set for the second box)\n *            ...\n *        ]\n * @param opt.boundIQR=1.5 Data less than min bound is outlier.\n *      default 1.5, means Q1 - 1.5 * (Q3 - Q1).\n *      If 'none'/0 passed, min bound will not be used.\n */\n\nexport default function prepareBoxplotData(rawData, opt) {\n  opt = opt || {};\n  var boxData = [];\n  var outliers = [];\n  var boundIQR = opt.boundIQR;\n  var useExtreme = boundIQR === 'none' || boundIQR === 0;\n\n  for (var i = 0; i < rawData.length; i++) {\n    var ascList = asc(rawData[i].slice());\n    var Q1 = quantile(ascList, 0.25);\n    var Q2 = quantile(ascList, 0.5);\n    var Q3 = quantile(ascList, 0.75);\n    var min = ascList[0];\n    var max = ascList[ascList.length - 1];\n    var bound = (boundIQR == null ? 1.5 : boundIQR) * (Q3 - Q1);\n    var low = useExtreme ? min : Math.max(min, Q1 - bound);\n    var high = useExtreme ? max : Math.min(max, Q3 + bound);\n    var itemNameFormatter = opt.itemNameFormatter;\n    var itemName = isFunction(itemNameFormatter) ? itemNameFormatter({\n      value: i\n    }) : isString(itemNameFormatter) ? itemNameFormatter.replace('{value}', i + '') : i + '';\n    boxData.push([itemName, low, Q1, Q2, Q3, high]);\n\n    for (var j = 0; j < ascList.length; j++) {\n      var dataItem = ascList[j];\n\n      if (dataItem < low || dataItem > high) {\n        var outlier = [itemName, dataItem];\n        outliers.push(outlier);\n      }\n    }\n  }\n\n  return {\n    boxData: boxData,\n    outliers: outliers\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport prepareBoxplotData from './prepareBoxplotData';\nimport { throwError, makePrintable } from '../../util/log';\nimport { SOURCE_FORMAT_ARRAY_ROWS } from '../../util/types';\nexport var boxplotTransform = {\n  type: 'echarts:boxplot',\n  transform: function transform(params) {\n    var upstream = params.upstream;\n\n    if (upstream.sourceFormat !== SOURCE_FORMAT_ARRAY_ROWS) {\n      var errMsg = '';\n\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('source data is not applicable for this boxplot transform. Expect number[][].');\n      }\n\n      throwError(errMsg);\n    }\n\n    var result = prepareBoxplotData(upstream.getRawData(), params.config);\n    return [{\n      dimensions: ['ItemName', 'Low', 'Q1', 'Q2', 'Q3', 'High'],\n      data: result.boxData\n    }, {\n      data: result.outliers\n    }];\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport BoxplotSeriesModel from './BoxplotSeries';\nimport BoxplotView from './BoxplotView';\nimport boxplotVisual from './boxplotVisual';\nimport boxplotLayout from './boxplotLayout';\nimport { boxplotTransform } from './boxplotTransform';\nexport function install(registers) {\n  registers.registerSeriesModel(BoxplotSeriesModel);\n  registers.registerChartView(BoxplotView);\n  registers.registerVisual(boxplotVisual);\n  registers.registerLayout(boxplotLayout);\n  registers.registerTransform(boxplotTransform);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createListFromArray from '../helper/createListFromArray';\nimport SeriesModel from '../../model/Series';\n\nvar ScatterSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(ScatterSeriesModel, _super);\n\n  function ScatterSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScatterSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n\n  ScatterSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  };\n\n  ScatterSeriesModel.prototype.getProgressive = function () {\n    var progressive = this.option.progressive;\n\n    if (progressive == null) {\n      // PENDING\n      return this.option.large ? 5e3 : this.get('progressive');\n    }\n\n    return progressive;\n  };\n\n  ScatterSeriesModel.prototype.getProgressiveThreshold = function () {\n    var progressiveThreshold = this.option.progressiveThreshold;\n\n    if (progressiveThreshold == null) {\n      // PENDING\n      return this.option.large ? 1e4 : this.get('progressiveThreshold');\n    }\n\n    return progressiveThreshold;\n  };\n\n  ScatterSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    return selectors.point(data.getItemLayout(dataIndex));\n  };\n\n  ScatterSeriesModel.type = 'series.scatter';\n  ScatterSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'];\n  ScatterSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    symbolSize: 10,\n    // symbolRotate: null,  // 图形旋转控制\n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // cursor: null,\n    itemStyle: {\n      opacity: 0.8 // color: 各异\n\n    },\n    emphasis: {\n      scale: true\n    },\n    // If clip the overflow graphics\n    // Works on cartesian / polar series\n    clip: true,\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    } // progressive: null\n\n  };\n  return ScatterSeriesModel;\n}(SeriesModel);\n\nexport default ScatterSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global Float32Array */\n// TODO Batch by color\n\nimport * as graphic from '../../util/graphic';\nimport { createSymbol } from '../../util/symbol';\nimport IncrementalDisplayable from 'zrender/lib/graphic/IncrementalDisplayable';\nimport { getECData } from '../../util/innerStore';\nvar BOOST_SIZE_THRESHOLD = 4;\n\nvar LargeSymbolPathShape =\n/** @class */\nfunction () {\n  function LargeSymbolPathShape() {}\n\n  return LargeSymbolPathShape;\n}();\n\nvar LargeSymbolPath =\n/** @class */\nfunction (_super) {\n  __extends(LargeSymbolPath, _super);\n\n  function LargeSymbolPath(opts) {\n    return _super.call(this, opts) || this;\n  }\n\n  LargeSymbolPath.prototype.getDefaultShape = function () {\n    return new LargeSymbolPathShape();\n  };\n\n  LargeSymbolPath.prototype.buildPath = function (path, shape) {\n    var points = shape.points;\n    var size = shape.size;\n    var symbolProxy = this.symbolProxy;\n    var symbolProxyShape = symbolProxy.shape;\n    var ctx = path.getContext ? path.getContext() : path;\n    var canBoost = ctx && size[0] < BOOST_SIZE_THRESHOLD; // Do draw in afterBrush.\n\n    if (canBoost) {\n      this._ctx = ctx;\n      return;\n    }\n\n    this._ctx = null;\n\n    for (var i = 0; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (this.softClipShape && !this.softClipShape.contain(x, y)) {\n        continue;\n      }\n\n      symbolProxyShape.x = x - size[0] / 2;\n      symbolProxyShape.y = y - size[1] / 2;\n      symbolProxyShape.width = size[0];\n      symbolProxyShape.height = size[1];\n      symbolProxy.buildPath(path, symbolProxyShape, true);\n    }\n  };\n\n  LargeSymbolPath.prototype.afterBrush = function () {\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var ctx = this._ctx;\n\n    if (!ctx) {\n      return;\n    } // PENDING If style or other canvas status changed?\n\n\n    for (var i = 0; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (this.softClipShape && !this.softClipShape.contain(x, y)) {\n        continue;\n      } // fillRect is faster than building a rect path and draw.\n      // And it support light globalCompositeOperation.\n\n\n      ctx.fillRect(x - size[0] / 2, y - size[1] / 2, size[0], size[1]);\n    }\n  };\n\n  LargeSymbolPath.prototype.findDataIndex = function (x, y) {\n    // TODO ???\n    // Consider transform\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var w = Math.max(size[0], 4);\n    var h = Math.max(size[1], 4); // Not consider transform\n    // Treat each element as a rect\n    // top down traverse\n\n    for (var idx = points.length / 2 - 1; idx >= 0; idx--) {\n      var i = idx * 2;\n      var x0 = points[i] - w / 2;\n      var y0 = points[i + 1] - h / 2;\n\n      if (x >= x0 && y >= y0 && x <= x0 + w && y <= y0 + h) {\n        return idx;\n      }\n    }\n\n    return -1;\n  };\n\n  return LargeSymbolPath;\n}(graphic.Path);\n\nvar LargeSymbolDraw =\n/** @class */\nfunction () {\n  function LargeSymbolDraw() {\n    this.group = new graphic.Group();\n  }\n\n  LargeSymbolDraw.prototype.isPersistent = function () {\n    return !this._incremental;\n  };\n\n  ;\n  /**\n   * Update symbols draw by new data\n   */\n\n  LargeSymbolDraw.prototype.updateData = function (data, opt) {\n    this.group.removeAll();\n    var symbolEl = new LargeSymbolPath({\n      rectHover: true,\n      cursor: 'default'\n    });\n    symbolEl.setShape({\n      points: data.getLayout('points')\n    });\n\n    this._setCommon(symbolEl, data, false, opt);\n\n    this.group.add(symbolEl);\n    this._incremental = null;\n  };\n\n  LargeSymbolDraw.prototype.updateLayout = function (data) {\n    if (this._incremental) {\n      return;\n    }\n\n    var points = data.getLayout('points');\n    this.group.eachChild(function (child) {\n      if (child.startIndex != null) {\n        var len = (child.endIndex - child.startIndex) * 2;\n        var byteOffset = child.startIndex * 4 * 2;\n        points = new Float32Array(points.buffer, byteOffset, len);\n      }\n\n      child.setShape('points', points);\n    });\n  };\n\n  LargeSymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this.group.removeAll();\n\n    this._clearIncremental(); // Only use incremental displayables when data amount is larger than 2 million.\n    // PENDING Incremental data?\n\n\n    if (data.count() > 2e6) {\n      if (!this._incremental) {\n        this._incremental = new IncrementalDisplayable({\n          silent: true\n        });\n      }\n\n      this.group.add(this._incremental);\n    } else {\n      this._incremental = null;\n    }\n  };\n\n  LargeSymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\n    var symbolEl;\n\n    if (this._incremental) {\n      symbolEl = new LargeSymbolPath();\n\n      this._incremental.addDisplayable(symbolEl, true);\n    } else {\n      symbolEl = new LargeSymbolPath({\n        rectHover: true,\n        cursor: 'default',\n        startIndex: taskParams.start,\n        endIndex: taskParams.end\n      });\n      symbolEl.incremental = true;\n      this.group.add(symbolEl);\n    }\n\n    symbolEl.setShape({\n      points: data.getLayout('points')\n    });\n\n    this._setCommon(symbolEl, data, !!this._incremental, opt);\n  };\n\n  LargeSymbolDraw.prototype._setCommon = function (symbolEl, data, isIncremental, opt) {\n    var hostModel = data.hostModel;\n    opt = opt || {};\n    var size = data.getVisual('symbolSize');\n    symbolEl.setShape('size', size instanceof Array ? size : [size, size]);\n    symbolEl.softClipShape = opt.clipShape || null; // Create symbolProxy to build path for each data\n\n    symbolEl.symbolProxy = createSymbol(data.getVisual('symbol'), 0, 0, 0, 0); // Use symbolProxy setColor method\n\n    symbolEl.setColor = symbolEl.symbolProxy.setColor;\n    var extrudeShadow = symbolEl.shape.size[0] < BOOST_SIZE_THRESHOLD;\n    symbolEl.useStyle( // Draw shadow when doing fillRect is extremely slow.\n    hostModel.getModel('itemStyle').getItemStyle(extrudeShadow ? ['color', 'shadowBlur', 'shadowColor'] : ['color']));\n    var globalStyle = data.getVisual('style');\n    var visualColor = globalStyle && globalStyle.fill;\n\n    if (visualColor) {\n      symbolEl.setColor(visualColor);\n    }\n\n    if (!isIncremental) {\n      var ecData_1 = getECData(symbolEl); // Enable tooltip\n      // PENDING May have performance issue when path is extremely large\n\n      ecData_1.seriesIndex = hostModel.seriesIndex;\n      symbolEl.on('mousemove', function (e) {\n        ecData_1.dataIndex = null;\n        var dataIndex = symbolEl.findDataIndex(e.offsetX, e.offsetY);\n\n        if (dataIndex >= 0) {\n          // Provide dataIndex for tooltip\n          ecData_1.dataIndex = dataIndex + (symbolEl.startIndex || 0);\n        }\n      });\n    }\n  };\n\n  LargeSymbolDraw.prototype.remove = function () {\n    this._clearIncremental();\n\n    this._incremental = null;\n    this.group.removeAll();\n  };\n\n  LargeSymbolDraw.prototype._clearIncremental = function () {\n    var incremental = this._incremental;\n\n    if (incremental) {\n      incremental.clearDisplaybles();\n    }\n  };\n\n  return LargeSymbolDraw;\n}();\n\nexport default LargeSymbolDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw';\nimport LargeSymbolDraw from '../helper/LargeSymbolDraw';\nimport pointsLayout from '../../layout/points';\nimport ChartView from '../../view/Chart';\n\nvar ScatterView =\n/** @class */\nfunction (_super) {\n  __extends(ScatterView, _super);\n\n  function ScatterView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScatterView.type;\n    return _this;\n  }\n\n  ScatterView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.updateData(data, {\n      // TODO\n      // If this parameter should be a shape or a bounding volume\n      // shape will be more general.\n      // But bounding volume like bounding rect will be much faster in the contain calculation\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this._finished = true;\n  };\n\n  ScatterView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.incrementalPrepareUpdate(data);\n    this._finished = false;\n  };\n\n  ScatterView.prototype.incrementalRender = function (taskParams, seriesModel, ecModel) {\n    this._symbolDraw.incrementalUpdate(taskParams, seriesModel.getData(), {\n      clipShape: this._getClipShape(seriesModel)\n    });\n\n    this._finished = taskParams.end === seriesModel.getData().count();\n  };\n\n  ScatterView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData(); // Must mark group dirty and make sure the incremental layer will be cleared\n    // PENDING\n\n    this.group.dirty();\n\n    if (!this._finished || data.count() > 1e4 || !this._symbolDraw.isPersistent()) {\n      return {\n        update: true\n      };\n    } else {\n      var res = pointsLayout('').reset(seriesModel, ecModel, api);\n\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count(),\n          count: data.count()\n        }, data);\n      }\n\n      this._symbolDraw.updateLayout(data);\n    }\n  };\n\n  ScatterView.prototype._getClipShape = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  };\n\n  ScatterView.prototype._updateSymbolDraw = function (data, seriesModel) {\n    var symbolDraw = this._symbolDraw;\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n\n    if (!symbolDraw || isLargeDraw !== this._isLargeDraw) {\n      symbolDraw && symbolDraw.remove();\n      symbolDraw = this._symbolDraw = isLargeDraw ? new LargeSymbolDraw() : new SymbolDraw();\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n\n    this.group.add(symbolDraw.group);\n    return symbolDraw;\n  };\n\n  ScatterView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n    this._symbolDraw = null;\n  };\n\n  ScatterView.prototype.dispose = function () {};\n\n  ScatterView.type = 'scatter';\n  return ScatterView;\n}(ChartView);\n\nexport default ScatterView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport ScatterSeriesModel from './ScatterSeries';\nimport ScatterView from './ScatterView';\nimport { install as installGridSimple } from '../../component/grid/installSimple';\nimport layoutPoints from '../../layout/points';\nexport function install(registers) {\n  // In case developer forget to include grid component\n  use(installGridSimple);\n  registers.registerSeriesModel(ScatterSeriesModel);\n  registers.registerChartView(ScatterView);\n  registers.registerLayout(layoutPoints('scatter'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * This module is imported by echarts directly.\n *\n * Notice:\n * Always keep this file exists for backward compatibility.\n * Because before 4.1.0, dataset is an optional component,\n * some users may import this module manually.\n */\n\nimport ComponentModel from '../../model/Component';\nimport ComponentView from '../../view/Component';\nimport { SERIES_LAYOUT_BY_COLUMN } from '../../util/types';\nimport { disableTransformOptionMerge, SourceManager } from '../../data/helper/sourceManager';\n\nvar DatasetModel =\n/** @class */\nfunction (_super) {\n  __extends(DatasetModel, _super);\n\n  function DatasetModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'dataset';\n    return _this;\n  }\n\n  DatasetModel.prototype.init = function (option, parentModel, ecModel) {\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n\n    this._sourceManager = new SourceManager(this);\n    disableTransformOptionMerge(this);\n  };\n\n  DatasetModel.prototype.mergeOption = function (newOption, ecModel) {\n    _super.prototype.mergeOption.call(this, newOption, ecModel);\n\n    disableTransformOptionMerge(this);\n  };\n\n  DatasetModel.prototype.optionUpdated = function () {\n    this._sourceManager.dirty();\n  };\n\n  DatasetModel.prototype.getSourceManager = function () {\n    return this._sourceManager;\n  };\n\n  DatasetModel.type = 'dataset';\n  DatasetModel.defaultOption = {\n    seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN\n  };\n  return DatasetModel;\n}(ComponentModel);\n\nexport { DatasetModel };\n\nvar DatasetView =\n/** @class */\nfunction (_super) {\n  __extends(DatasetView, _super);\n\n  function DatasetView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'dataset';\n    return _this;\n  }\n\n  DatasetView.type = 'dataset';\n  return DatasetView;\n}(ComponentView);\n\nexport function install(registers) {\n  registers.registerComponentModel(DatasetModel);\n  registers.registerComponentView(DatasetView);\n}","\nimport {\n  defineComponent,\n  ref,\n  toRefs,\n  watchEffect,\n  nextTick,\n  computed,\n  PropType\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport {\n  BoxplotChart,\n  BoxplotSeriesOption,\n  ScatterChart,\n  ScatterSeriesOption\n} from \"echarts/charts\";\nimport {\n  GridComponent,\n  GridComponentOption,\n  TooltipComponent,\n  TooltipComponentOption,\n  DatasetComponent,\n  DatasetComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { BoxPlotResponse } from \"@/typings/brandInsight\";\nimport { AddResizer } from \"@/typings/store\";\nimport { useStore } from \"vuex\";\n\ntype ECOption = echarts.ComposeOption<\n  | BoxplotSeriesOption\n  | GridComponentOption\n  | TooltipComponentOption\n  | DatasetComponentOption\n  | ScatterSeriesOption\n>;\n\necharts.use([\n  BoxplotChart,\n  ScatterChart,\n  GridComponent,\n  TooltipComponent,\n  DatasetComponent,\n  CanvasRenderer\n]);\n\nconst Component = defineComponent({\n  name: \"BoxplotChartCard\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Object as PropType<BoxPlotResponse>,\n      default: () => ({\n        categories: [],\n        data: []\n      })\n    }\n  },\n  setup(props) {\n    const { title, data } = toRefs(props);\n    const store = useStore();\n    const refComponent = ref(null);\n    const dialogVisible = ref(false);\n    const hasData = computed(() => {\n      return data.value.data.length;\n    });\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      if (!hasData.value) return;\n\n      option = {\n        tooltip: {\n          trigger: \"axis\",\n          formatter(param: any) {\n            return `\n            <div style=\"min-width: 200px;\">\n              <h3>${param[0].name}</h3>\n              ${param\n                .filter((item: any) => item.componentSubType === \"boxplot\")\n                .map(\n                  (item: any) =>\n                    `\n                      <div style=\"display: flex; justify-content: space-between;\">\n                        <span>${item.marker} ${item.name} (Median) ${item.data[3]}</span> <br />\n                      </div>\n                    `\n                )\n                .join(\"\")}\n            </div>\n          `;\n          }\n        },\n        grid: {\n          left: \"20%\"\n        },\n        dataset: [\n          {\n            source: data.value.data\n          },\n          {\n            transform: {\n              type: \"boxplot\",\n              config: {\n                itemNameFormatter(params: { value: number }) {\n                  return data.value.categories[params.value];\n                }\n              }\n            }\n          },\n          {\n            fromDatasetIndex: 1,\n            fromTransformResult: 1\n          }\n        ],\n        xAxis: {\n          name: \"Price\",\n          nameLocation: \"middle\",\n          nameGap: 30,\n          scale: true\n        },\n        yAxis: {\n          type: \"category\",\n          data: data.value.categories,\n          axisLabel: {\n            formatter(value: any) {\n              const SPLIT_MAX = 10;\n              if (value.length > SPLIT_MAX) {\n                return value.slice(0, SPLIT_MAX - 1) + \"...\";\n              }\n              return value;\n            }\n          }\n        },\n        series: [\n          {\n            name: \"boxplot\",\n            type: \"boxplot\",\n            datasetIndex: 1\n          },\n          {\n            name: \"outlier\",\n            type: \"scatter\",\n            encode: { x: 1, y: 0 },\n            datasetIndex: 2,\n            symbolSize: 5,\n            itemStyle: {\n              color: \"#20bfa9\"\n            }\n          }\n        ]\n      };\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"boxplot-chart-main-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    });\n\n    const onExpandClick = async () => {\n      if (!option) return;\n      dialogVisible.value = true;\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"boxplot-chart-dialog-\" + title.value)!\n      );\n      chart.setOption({\n        ...option,\n        yAxis: {\n          ...option.yAxis,\n          // @ts-ignore\n          axisLabel: { ...option.yAxis.axisLabel, interval: 0 }\n        }\n      });\n      store.commit(AddResizer, chart);\n    };\n\n    return {\n      refComponent,\n      dialogVisible,\n      hasData,\n\n      onExpandClick\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./BoxplotChartCard.vue?vue&type=template&id=28443c06&scoped=true\"\nimport script from \"./BoxplotChartCard.vue?vue&type=script&lang=ts\"\nexport * from \"./BoxplotChartCard.vue?vue&type=script&lang=ts\"\n\nimport \"./BoxplotChartCard.vue?vue&type=style&index=0&id=28443c06&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-28443c06\"\n\nexport default script","<template>\n  <div id=\"pie-chart-card-component\">\n    <div class=\"top-container\">\n      <h3 class=\"title\">\n        {{ title }}\n        <p class=\"subtitle\">last 30 Days</p>\n      </h3>\n      <div v-if=\"hasData\" class=\"expand-button\" @click=\"onExpandClick\">\n        <img src=\"@/assets/images/icons/png/expand.png\" alt=\"\" />\n      </div>\n    </div>\n    <div v-if=\"hasData\" class=\"chart-container\">\n      <div :id=\"'pie-chart-main-' + title\" class=\"chart-main\"></div>\n    </div>\n    <div v-else class=\"chart-empty\">\n      <h3>No Data</h3>\n    </div>\n\n    <el-dialog :title=\"title\" v-model=\"dialogVisible\" width=\"80%\">\n      <div class=\"dialog-container\">\n        <div :id=\"'pie-chart-dialog-' + title\" class=\"chart-dialog\"></div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  ref,\n  toRefs,\n  watchEffect,\n  nextTick,\n  computed,\n  PropType\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport { PieChart, PieSeriesOption } from \"echarts/charts\";\nimport {\n  GridComponent,\n  GridComponentOption,\n  LegendComponent,\n  LegendComponentOption,\n  TooltipComponent,\n  TooltipComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { PieDataItemOption } from \"echarts/types/src/chart/pie/PieSeries\";\nimport { AddResizer } from \"@/typings/store\";\nimport { useStore } from \"vuex\";\n\ntype ECOption = echarts.ComposeOption<\n  | PieSeriesOption\n  | GridComponentOption\n  | LegendComponentOption\n  | TooltipComponentOption\n>;\n\necharts.use([\n  PieChart,\n  GridComponent,\n  LegendComponent,\n  TooltipComponent,\n  CanvasRenderer\n]);\n\nconst Component = defineComponent({\n  name: \"PieChart\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Array as PropType<PieDataItemOption[]>,\n      default: () => []\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const { title, data } = toRefs(props);\n    const dialogVisible = ref(false);\n    const hasData = computed(() => {\n      return data.value.length;\n    });\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      if (!hasData.value) return;\n\n      const total = data.value.reduce(\n        (sum, item: PieDataItemOption) => sum + (item.value as number),\n        0\n      );\n\n      option = {\n        legend: {\n          type: \"scroll\",\n          bottom: 0\n        },\n        tooltip: {\n          trigger: \"item\",\n          formatter(param: any) {\n            return `\n              <div style=\"display: flex; justify-content: space-between;\">\n                <span style=\"margin-right: 15px;\">${param.marker} ${\n              param.name\n            }</span> ${Math.round((param.value * 100) / total)}% <br />\n              </div>\n            `;\n          }\n        },\n        series: [\n          {\n            type: \"pie\",\n            radius: \"50%\",\n            data: data.value,\n            label: {\n              show: false\n            },\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: \"rgba(0, 0, 0, 0.5)\"\n              }\n            }\n          }\n        ]\n      };\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"pie-chart-main-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    });\n\n    const onExpandClick = async () => {\n      dialogVisible.value = true;\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"pie-chart-dialog-\" + title.value)!\n      );\n      chart.setOption({\n        ...option,\n        series: [\n          {\n            // @ts-ignore\n            ...option.series[0],\n            label: {\n              show: true\n            }\n          }\n        ]\n      });\n      store.commit(AddResizer, chart);\n    };\n\n    return {\n      dialogVisible,\n      hasData,\n\n      onExpandClick\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#pie-chart-card-component\n  width 100%\n  background-color white\n\n  .top-container\n    display flex\n    justify-content space-between\n    align-items center\n    padding 20px 30px 0\n    .title\n      position relative\n      font-size $font-size-lg2x\n      font-weight 500\n      .subtitle\n        position absolute\n        bottom -120%\n        left 0\n        font-size $font-size-large\n        font-weight 400\n        color $color-secondary\n    .expand-button\n      cursor pointer\n      img\n        width 20px\n        height 20px\n\n  .chart-container\n    width 100%\n  .dialog-container\n    width 100%\n  .chart-main\n    chart-main()\n  .chart-empty\n    chart-empty()\n  .chart-dialog\n    chart-dialog()\n</style>\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport Model from '../../model/Model';\nimport { isNameSpecified } from '../../util/model';\nimport ComponentModel from '../../model/Component';\n\nvar getDefaultSelectorOptions = function (ecModel, type) {\n  if (type === 'all') {\n    return {\n      type: 'all',\n      title: ecModel.getLocale(['legend', 'selector', 'all'])\n    };\n  } else if (type === 'inverse') {\n    return {\n      type: 'inverse',\n      title: ecModel.getLocale(['legend', 'selector', 'inverse'])\n    };\n  }\n};\n\nvar LegendModel =\n/** @class */\nfunction (_super) {\n  __extends(LegendModel, _super);\n\n  function LegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LegendModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas realy width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    };\n    return _this;\n  }\n\n  LegendModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n\n    this._updateSelector(option);\n  };\n\n  LegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n\n    this._updateSelector(option);\n  };\n\n  LegendModel.prototype._updateSelector = function (option) {\n    var selector = option.selector;\n    var ecModel = this.ecModel;\n\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, getDefaultSelectorOptions(ecModel, item.type));\n      });\n    }\n  };\n\n  LegendModel.prototype.optionUpdated = function () {\n    this._updateData(this.ecModel);\n\n    var legendData = this._data; // If selectedMode is single, try to select one\n\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false; // If has any selected in option.selected\n\n      for (var i = 0; i < legendData.length; i++) {\n        var name_1 = legendData[i].get('name');\n\n        if (this.isSelected(name_1)) {\n          // Force to unselect others\n          this.select(name_1);\n          hasSelected = true;\n          break;\n        }\n      } // Try select the first if selectedMode is single\n\n\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  };\n\n  LegendModel.prototype._updateData = function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n\n    this._availableNames = availableNames; // If legend.data not specified in option, use availableNames as data,\n    // which is convinient for user preparing option.\n\n    var rawData = this.get('data') || potentialData;\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n        dataItem = {\n          name: dataItem\n        };\n      }\n\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._data = legendData;\n  };\n\n  LegendModel.prototype.getData = function () {\n    return this._data;\n  };\n\n  LegendModel.prototype.select = function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n\n    selected[name] = true;\n  };\n\n  LegendModel.prototype.unSelect = function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  };\n\n  LegendModel.prototype.toggleSelected = function (name) {\n    var selected = this.option.selected; // Default is true\n\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  };\n\n  LegendModel.prototype.allSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  };\n\n  LegendModel.prototype.inverseSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true); // Initially, default value is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n\n      selected[name] = !selected[name];\n    });\n  };\n\n  LegendModel.prototype.isSelected = function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  };\n\n  LegendModel.prototype.getOrient = function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  };\n\n  LegendModel.type = 'legend.plain';\n  LegendModel.dependencies = ['series'];\n  LegendModel.defaultOption = {\n    zlevel: 0,\n    z: 4,\n    show: true,\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    itemWidth: 25,\n    itemHeight: 14,\n    symbolRotate: 'inherit',\n    inactiveColor: '#ccc',\n    inactiveBorderColor: '#ccc',\n    inactiveBorderWidth: 'auto',\n    itemStyle: {\n      color: 'inherit',\n      opacity: 'inherit',\n      decal: 'inherit',\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      borderColor: 'inherit',\n      borderWidth: 'auto',\n      borderCap: 'inherit',\n      borderJoin: 'inherit',\n      borderDashOffset: 'inherit',\n      borderMiterLimit: 'inherit'\n    },\n    lineStyle: {\n      width: 'auto',\n      color: 'inherit',\n      inactiveColor: '#ccc',\n      inactiveWidth: 2,\n      opacity: 'inherit',\n      type: 'inherit',\n      cap: 'inherit',\n      join: 'inherit',\n      dashOffset: 'inherit',\n      miterLimit: 'inherit',\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0\n    },\n    textStyle: {\n      color: '#333'\n    },\n    selectedMode: true,\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: ' sans-serif',\n      color: '#666',\n      borderWidth: 1,\n      borderColor: '#666'\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: '#eee',\n        backgroundColor: '#666'\n      }\n    },\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    tooltip: {\n      show: false\n    }\n  };\n  return LegendModel;\n}(ComponentModel);\n\nexport default LegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { getLayoutRect, box as layoutBox, positionElement } from '../../util/layout';\nimport * as formatUtil from '../../util/format';\nimport * as graphic from '../../util/graphic';\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\n\nexport function layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\nexport function makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  }); // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n\n  return rect;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { parse, stringify } from 'zrender/lib/tool/color';\nimport * as graphic from '../../util/graphic';\nimport { enableHoverEmphasis } from '../../util/states';\nimport { setLabelStyle, createTextStyle } from '../../label/labelStyle';\nimport { makeBackground } from '../helper/listComponent';\nimport * as layoutUtil from '../../util/layout';\nimport ComponentView from '../../view/Component';\nimport { LINE_STYLE_KEY_MAP } from '../../model/mixin/lineStyle';\nimport { ITEM_STYLE_KEY_MAP } from '../../model/mixin/itemStyle';\nimport { createSymbol } from '../../util/symbol';\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar LegendView =\n/** @class */\nfunction (_super) {\n  __extends(LegendView, _super);\n\n  function LegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LegendView.type;\n    _this.newlineDisabled = false;\n    return _this;\n  }\n\n  LegendView.prototype.init = function () {\n    this.group.add(this._contentGroup = new Group());\n    this.group.add(this._selectorGroup = new Group());\n    this._isFirstRender = true;\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.getContentGroup = function () {\n    return this._contentGroup;\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.getSelectorGroup = function () {\n    return this._selectorGroup;\n  };\n  /**\n   * @override\n   */\n\n\n  LegendView.prototype.render = function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    } // selector has been normalized to an array in model\n\n\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.x = layoutRect.x - mainRect.x;\n    this.group.y = layoutRect.y - mainRect.y;\n    this.group.markRedraw(); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  };\n\n  LegendView.prototype.resetInner = function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  };\n\n  LegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (legendItemModel, dataIndex) {\n      var name = legendItemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        var g = new Group(); // @ts-ignore\n\n        g.newline = true;\n        contentGroup.add(g);\n        return;\n      } // Representitive series.\n\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Legend to control series.\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var lineVisualStyle = data.getVisual('legendLineStyle') || {};\n        var legendIcon = data.getVisual('legendIcon');\n        /**\n         * `data.getVisual('style')` may be the color from the register\n         * in series. For example, for line series,\n         */\n\n        var style = data.getVisual('style');\n\n        var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, style, legendIcon, selectMode);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n\n            if (!provider.containName(name)) {\n              return;\n            }\n\n            var idx = provider.indexOfName(name);\n            var style = provider.getItemVisual(idx, 'style');\n            var legendIcon = provider.getItemVisual(idx, 'legendIcon');\n            var colorArr = parse(style.fill); // Color may be set to transparent in visualMap when data is out of range.\n            // Do not show nothing.\n\n            if (colorArr && colorArr[3] === 0) {\n              colorArr[3] = 0.2; // TODO color is set to 0, 0, 0, 0. Should show correct RGBA\n\n              style.fill = stringify(colorArr, 'rgba');\n            }\n\n            var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, {}, style, legendIcon, selectMode); // FIXME: consider different series has items with the same name.\n\n\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (!legendDrawnMap.get(name)) {\n          console.warn(name + ' series not exists. Legend data should be same with series name or data name.');\n        }\n      }\n    }, this);\n\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  };\n\n  LegendView.prototype._createSelector = function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel(['emphasis', 'selectorLabel']);\n      setLabelStyle(labelText, {\n        normal: labelModel,\n        emphasis: emphasisLabelModel\n      }, {\n        defaultText: selectorItem.title\n      });\n      enableHoverEmphasis(labelText);\n    });\n  };\n\n  LegendView.prototype._createItem = function (seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, itemVisualStyle, legendIcon, selectMode) {\n    var drawType = seriesModel.visualDrawType;\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var isSelected = legendModel.isSelected(name);\n    var iconRotate = legendItemModel.get('symbolRotate');\n    var legendIconType = legendItemModel.get('icon');\n    legendIcon = legendIconType || legendIcon || 'roundRect';\n    var legendLineStyle = legendModel.getModel('lineStyle');\n    var style = getLegendStyle(legendIcon, legendItemModel, legendLineStyle, lineVisualStyle, itemVisualStyle, drawType, isSelected);\n    var itemGroup = new Group();\n    var textStyleModel = legendItemModel.getModel('textStyle');\n\n    if (typeof seriesModel.getLegendIcon === 'function' && (!legendIconType || legendIconType === 'inherit')) {\n      // Series has specific way to define legend icon\n      itemGroup.add(seriesModel.getLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: iconRotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle\n      }));\n    } else {\n      // Use default legend icon policy for most series\n      var rotate = legendIconType === 'inherit' && seriesModel.getData().getVisual('symbol') ? iconRotate === 'inherit' ? seriesModel.getData().getVisual('symbolRotate') : iconRotate : 0; // No rotation for no icon\n\n      itemGroup.add(getDefaultLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: rotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle\n      }));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (typeof formatter === 'string' && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (typeof formatter === 'function') {\n      content = formatter(name);\n    }\n\n    var inactiveColor = legendItemModel.get('inactiveColor');\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        fill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        align: textAlign,\n        verticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true\n    });\n    var tooltipModel = legendItemModel.getModel('tooltip');\n\n    if (tooltipModel.get('show')) {\n      graphic.setTooltipConfig({\n        el: hitRect,\n        componentModel: legendModel,\n        itemName: name,\n        itemTooltipOption: tooltipModel.option\n      });\n    }\n\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    enableHoverEmphasis(itemGroup); // @ts-ignore\n\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  };\n\n  LegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n    selectorGroup.markRedraw();\n    contentGroup.markRedraw();\n\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      } //Always align selector to content as 'middle'\n\n\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      return this.group.getBoundingRect();\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.remove = function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  };\n\n  LegendView.type = 'legend.plain';\n  return LegendView;\n}(ComponentView);\n\nfunction getLegendStyle(iconType, legendModel, legendLineStyle, lineVisualStyle, itemVisualStyle, drawType, isSelected) {\n  /**\n   * Use series style if is inherit;\n   * elsewise, use legend style\n   */\n  // itemStyle\n  var legendItemModel = legendModel.getModel('itemStyle');\n  var itemProperties = ITEM_STYLE_KEY_MAP.concat([['decal']]);\n  var itemStyle = {};\n\n  for (var i = 0; i < itemProperties.length; ++i) {\n    var propName = itemProperties[i][itemProperties[i].length - 1];\n    var visualName = itemProperties[i][0];\n    var value = legendItemModel.getShallow(propName);\n\n    if (value === 'inherit') {\n      switch (visualName) {\n        case 'fill':\n          /**\n           * Series with visualDrawType as 'stroke' should have\n           * series stroke as legend fill\n           */\n          itemStyle.fill = itemVisualStyle[drawType];\n          break;\n\n        case 'stroke':\n          /**\n           * icon type with \"emptyXXX\" should use fill color\n           * in visual style\n           */\n          itemStyle.stroke = itemVisualStyle[iconType.lastIndexOf('empty', 0) === 0 ? 'fill' : 'stroke'];\n          break;\n\n        case 'opacity':\n          /**\n           * Use lineStyle.opacity if drawType is stroke\n           */\n          itemStyle.opacity = (drawType === 'fill' ? itemVisualStyle : lineVisualStyle).opacity;\n          break;\n\n        default:\n          itemStyle[visualName] = itemVisualStyle[visualName];\n      }\n    } else if (value === 'auto' && visualName === 'lineWidth') {\n      // If lineStyle.width is 'auto', it is set to be 2 if series has border\n      itemStyle.lineWidth = itemVisualStyle.lineWidth > 0 ? 2 : 0;\n    } else {\n      itemStyle[visualName] = value;\n    }\n  } // lineStyle\n\n\n  var legendLineModel = legendModel.getModel('lineStyle');\n  var lineProperties = LINE_STYLE_KEY_MAP.concat([['inactiveColor'], ['inactiveWidth']]);\n  var lineStyle = {};\n\n  for (var i = 0; i < lineProperties.length; ++i) {\n    var propName = lineProperties[i][1];\n    var visualName = lineProperties[i][0];\n    var value = legendLineModel.getShallow(propName);\n\n    if (value === 'inherit') {\n      lineStyle[visualName] = lineVisualStyle[visualName];\n    } else if (value === 'auto' && visualName === 'lineWidth') {\n      // If lineStyle.width is 'auto', it is set to be 2 if series has border\n      lineStyle.lineWidth = lineVisualStyle.lineWidth > 0 ? 2 : 0;\n    } else {\n      lineStyle[visualName] = value;\n    }\n  } // Fix auto color to real color\n\n\n  itemStyle.fill === 'auto' && (itemStyle.fill = itemVisualStyle.fill);\n  itemStyle.stroke === 'auto' && (itemStyle.stroke = itemVisualStyle.fill);\n  lineStyle.stroke === 'auto' && (lineStyle.stroke = itemVisualStyle.fill);\n\n  if (!isSelected) {\n    var borderWidth = legendModel.get('inactiveBorderWidth');\n    /**\n     * Since stroke is set to be inactiveBorderColor, it may occur that\n     * there is no border in series but border in legend, so we need to\n     * use border only when series has border if is set to be auto\n     */\n\n    var visualHasBorder = itemStyle[iconType.indexOf('empty') > -1 ? 'fill' : 'stroke'];\n    itemStyle.lineWidth = borderWidth === 'auto' ? itemVisualStyle.lineWidth > 0 && visualHasBorder ? 2 : 0 : itemStyle.lineWidth;\n    itemStyle.fill = legendModel.get('inactiveColor');\n    itemStyle.stroke = legendModel.get('inactiveBorderColor');\n    lineStyle.stroke = legendLineStyle.get('inactiveColor');\n    lineStyle.lineWidth = legendLineStyle.get('inactiveWidth');\n  }\n\n  return {\n    itemStyle: itemStyle,\n    lineStyle: lineStyle\n  };\n}\n\nfunction getDefaultLegendIcon(opt) {\n  var symboType = opt.icon || 'roundRect';\n  var icon = createSymbol(symboType, 0, 0, opt.itemWidth, opt.itemHeight, opt.itemStyle.fill);\n  icon.setStyle(opt.itemStyle);\n  icon.rotation = (opt.iconRotate || 0) * Math.PI / 180;\n  icon.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n\n  if (symboType.indexOf('empty') > -1) {\n    icon.style.stroke = icon.style.fill;\n    icon.style.fill = '#fff';\n    icon.style.lineWidth = 2;\n  }\n\n  return icon;\n}\n\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  }); // highlight after select\n  // TODO higlight immediately may cause animation loss.\n\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\n\nfunction isUseHoverLayer(api) {\n  var list = api.getZr().storage.getDisplayList();\n  var emphasisState;\n  var i = 0;\n  var len = list.length;\n\n  while (i < len && !(emphasisState = list[i].states.emphasis)) {\n    i++;\n  }\n\n  return emphasisState && emphasisState.hoverLayer;\n}\n\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nexport default LegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function legendFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { curry, each } from 'zrender/lib/core/util';\n\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected; // Update all legend components\n\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n\n    var legendData = legendModel.getData();\n    each(legendData, function (model) {\n      var name = model.get('name'); // Wrap element\n\n      if (name === '\\n' || name === '') {\n        return;\n      }\n\n      var isItemSelected = legendModel.isSelected(name);\n\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  }); // Return the event explicitly\n\n  return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n    selected: selectedMap\n  } : {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\n\nexport function installLegendAction(registers) {\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendToggleSelect', 'legendselectchanged', curry(legendSelectActionHandler, 'toggleSelected'));\n  registers.registerAction('legendAllSelect', 'legendselectall', curry(legendSelectActionHandler, 'allSelect'));\n  registers.registerAction('legendInverseSelect', 'legendinverseselect', curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  registers.registerAction('legendSelect', 'legendselected', curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  registers.registerAction('legendUnSelect', 'legendunselected', curry(legendSelectActionHandler, 'unSelect'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LegendModel from './LegendModel';\nimport LegendView from './LegendView';\nimport legendFilter from './legendFilter';\nimport { installLegendAction } from './legendAction';\nexport function install(registers) {\n  registers.registerComponentModel(LegendModel);\n  registers.registerComponentView(LegendView);\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  registers.registerSubTypeDefaulter('legend', function () {\n    return 'plain';\n  });\n  installLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport LegendModel from './LegendModel';\nimport { mergeLayoutParam, getLayoutParams } from '../../util/layout';\nimport { inheritDefaultOption } from '../../util/component';\n\nvar ScrollableLegendModel =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableLegendModel, _super);\n\n  function ScrollableLegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScrollableLegendModel.type;\n    return _this;\n  }\n  /**\n   * @param {number} scrollDataIndex\n   */\n\n\n  ScrollableLegendModel.prototype.setScrollDataIndex = function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  };\n\n  ScrollableLegendModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  };\n\n  ScrollableLegendModel.type = 'legend.scroll';\n  ScrollableLegendModel.defaultOption = inheritDefaultOption(LegendModel.defaultOption, {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    pageFormatter: '{current}/{total}',\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: '#2f4554',\n    pageIconInactiveColor: '#aaa',\n    pageIconSize: 15,\n    pageTextStyle: {\n      color: '#333'\n    },\n    animationDurationUpdate: 800\n  });\n  return ScrollableLegendModel;\n}(LegendModel);\n\n; // Do not `ignoreSize` to enable setting {left: 10, right: 10}.\n\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: !!ignoreSize\n  });\n}\n\nexport default ScrollableLegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\n\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport * as layoutUtil from '../../util/layout';\nimport LegendView from './LegendView';\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\n\nvar ScrollableLegendView =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableLegendView, _super);\n\n  function ScrollableLegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScrollableLegendView.type;\n    _this.newlineDisabled = true;\n    _this._currentIndex = 0;\n    return _this;\n  }\n\n  ScrollableLegendView.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this.group.add(this._containerGroup = new Group());\n\n    this._containerGroup.add(this.getContentGroup());\n\n    this.group.add(this._controllerGroup = new Group());\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.resetInner = function () {\n    _super.prototype.resetInner.call(this);\n\n    this._controllerGroup.removeAll();\n\n    this._containerGroup.removeClipPath();\n\n    this._containerGroup.__rectSize = null;\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var self = this; // Render content items.\n\n    _super.prototype.renderInner.call(this, itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n\n    var controllerGroup = this._controllerGroup; // FIXME: support be 'auto' adapt to size number text length,\n    // e.g., '3/12345' should not overlap with the control arrow button.\n\n    var pageIconSize = legendModel.get('pageIconSize', true);\n    var pageIconSizeArr = zrUtil.isArray(pageIconSize) ? pageIconSize : [pageIconSize, pageIconSize];\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        // Placeholder to calculate a proper layout.\n        text: 'xx/xx',\n        fill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        verticalAlign: 'middle',\n        align: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(self._pageGo, self, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSizeArr[0] / 2,\n        y: -pageIconSizeArr[1] / 2,\n        width: pageIconSizeArr[0],\n        height: pageIconSizeArr[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx];\n    selector && layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n    'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n    var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n    var selectorRect = selectorGroup.getBoundingRect();\n    var selectorPos = [-selectorRect.x, -selectorRect.y];\n    var processMaxSize = zrUtil.clone(maxSize);\n    selector && (processMaxSize[wh] = maxSize[wh] - selectorRect[wh] - selectorButtonGap);\n\n    var mainRect = this._layoutContentAndController(legendModel, isFirstRender, processMaxSize, orientIdx, wh, hw, yx, xy);\n\n    if (selector) {\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += mainRect[wh] + selectorButtonGap;\n      } else {\n        var offset = selectorRect[wh] + selectorButtonGap;\n        selectorPos[orientIdx] -= offset;\n        mainRect[xy] -= offset;\n      }\n\n      mainRect[wh] += selectorRect[wh] + selectorButtonGap;\n      selectorPos[1 - orientIdx] += mainRect[yx] + mainRect[hw] / 2 - selectorRect[hw] / 2;\n      mainRect[hw] = Math.max(mainRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(mainRect[yx], selectorRect[yx] + selectorPos[1 - orientIdx]);\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      selectorGroup.markRedraw();\n    }\n\n    return mainRect;\n  };\n\n  ScrollableLegendView.prototype._layoutContentAndController = function (legendModel, isFirstRender, maxSize, orientIdx, wh, hw, yx, xy) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup; // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box( // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh]; // In case that the inner elements of contentGroup layout do not based on [0, 0]\n\n    var contentPos = [-contentRect.x, -contentRect.y]; // Remain contentPos when scroll animation perfroming.\n    // If first rendering, `contentGroup.position` is [0, 0], which\n    // does not make sense and may cause unexepcted animation if adopted.\n\n    if (!isFirstRender) {\n      contentPos[orientIdx] = contentGroup[xy];\n    } // Layout container group based on 0.\n\n\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true)); // Place containerGroup and controllerGroup and contentGroup.\n\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true); // controller is on the right / bottom.\n\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      } // controller is on the left / top.\n      else {\n          containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n        }\n    } // Always align controller to content as 'middle'.\n\n\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.setPosition(contentPos);\n    containerGroup.setPosition(containerPos);\n    controllerGroup.setPosition(controllerPos); // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n\n    var mainRect = {\n      x: 0,\n      y: 0\n    }; // Consider content may be overflow (should be clipped).\n\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]); // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      })); // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as placeholders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    } // Content translate animation.\n\n\n    var pageInfo = this._getPageInfo(legendModel);\n\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      x: pageInfo.contentPosition[0],\n      y: pageInfo.contentPosition[1]\n    }, // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird effect.\n    showController ? legendModel : null);\n\n    this._updatePageInfoView(legendModel, pageInfo);\n\n    return mainRect;\n  };\n\n  ScrollableLegendView.prototype._pageGo = function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  };\n\n  ScrollableLegendView.prototype._updatePageInfoView = function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var key = name + 'DataIndex';\n      var canJump = pageInfo[key] != null;\n      var icon = controllerGroup.childOfName(name);\n\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current == null ? '' : current + '').replace('{total}', total == null ? '' : total + '') : pageFormatter({\n      current: current,\n      total: total\n    }));\n  };\n  /**\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no previous page.\n   *  pageNextDataIndex: number, null when no next page.\n   * }\n   */\n\n\n  ScrollableLegendView.prototype._getPageInfo = function (legendModel) {\n    var scrollDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n\n    var targetItemIndex = this._findTargetItemIndex(scrollDataIndex);\n\n    var children = contentGroup.children();\n    var targetItem = children[targetItemIndex];\n    var itemCount = children.length;\n    var pCount = !itemCount ? 0 : 1;\n    var result = {\n      contentPosition: [contentGroup.x, contentGroup.y],\n      pageCount: pCount,\n      pageIndex: pCount - 1,\n      pagePrevDataIndex: null,\n      pageNextDataIndex: null\n    };\n\n    if (!targetItem) {\n      return result;\n    }\n\n    var targetItemInfo = getItemInfo(targetItem);\n    result.contentPosition[orientIdx] = -targetItemInfo.s; // Strategy:\n    // (1) Always align based on the left/top most item.\n    // (2) It is user-friendly that the last item shown in the\n    // current window is shown at the begining of next window.\n    // Otherwise if half of the last item is cut by the window,\n    // it will have no chance to display entirely.\n    // (3) Consider that item size probably be different, we\n    // have calculate pageIndex by size rather than item index,\n    // and we can not get page index directly by division.\n    // (4) The window is to narrow to contain more than\n    // one item, we should make sure that the page can be fliped.\n\n    for (var i = targetItemIndex + 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i <= itemCount; ++i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // Half of the last item is out of the window.\n      !currItemInfo && winEndItemInfo.e > winStartItemInfo.s + containerRectSize || // If the current item does not intersect with the window, the new page\n      // can be started at the current item or the last item.\n      currItemInfo && !intersect(currItemInfo, winStartItemInfo.s)) {\n        if (winEndItemInfo.i > winStartItemInfo.i) {\n          winStartItemInfo = winEndItemInfo;\n        } else {\n          // e.g., when page size is smaller than item size.\n          winStartItemInfo = currItemInfo;\n        }\n\n        if (winStartItemInfo) {\n          if (result.pageNextDataIndex == null) {\n            result.pageNextDataIndex = winStartItemInfo.i;\n          }\n\n          ++result.pageCount;\n        }\n      }\n\n      winEndItemInfo = currItemInfo;\n    }\n\n    for (var i = targetItemIndex - 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i >= -1; --i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // If the the end item does not intersect with the window started\n      // from the current item, a page can be settled.\n      (!currItemInfo || !intersect(winEndItemInfo, currItemInfo.s)) && // e.g., when page size is smaller than item size.\n      winStartItemInfo.i < winEndItemInfo.i) {\n        winEndItemInfo = winStartItemInfo;\n\n        if (result.pagePrevDataIndex == null) {\n          result.pagePrevDataIndex = winStartItemInfo.i;\n        }\n\n        ++result.pageCount;\n        ++result.pageIndex;\n      }\n\n      winStartItemInfo = currItemInfo;\n    }\n\n    return result;\n\n    function getItemInfo(el) {\n      if (el) {\n        var itemRect = el.getBoundingRect();\n        var start = itemRect[xy] + el[xy];\n        return {\n          s: start,\n          e: start + itemRect[wh],\n          i: el.__legendDataIndex\n        };\n      }\n    }\n\n    function intersect(itemInfo, winStart) {\n      return itemInfo.e >= winStart && itemInfo.s <= winStart + containerRectSize;\n    }\n  };\n\n  ScrollableLegendView.prototype._findTargetItemIndex = function (targetDataIndex) {\n    if (!this._showController) {\n      return 0;\n    }\n\n    var index;\n    var contentGroup = this.getContentGroup();\n    var defaultIndex;\n    contentGroup.eachChild(function (child, idx) {\n      var legendDataIdx = child.__legendDataIndex; // FIXME\n      // If the given targetDataIndex (from model) is illegal,\n      // we use defaultIndex. But the index on the legend model and\n      // action payload is still illegal. That case will not be\n      // changed until some scenario requires.\n\n      if (defaultIndex == null && legendDataIdx != null) {\n        defaultIndex = idx;\n      }\n\n      if (legendDataIdx === targetDataIndex) {\n        index = idx;\n      }\n    });\n    return index != null ? index : defaultIndex;\n  };\n\n  ScrollableLegendView.type = 'legend.scroll';\n  return ScrollableLegendView;\n}(LegendView);\n\nexport default ScrollableLegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function installScrollableLegendAction(registers) {\n  /**\n   * @event legendScroll\n   * @type {Object}\n   * @property {string} type 'legendScroll'\n   * @property {string} scrollDataIndex\n   */\n  registers.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n    var scrollDataIndex = payload.scrollDataIndex;\n    scrollDataIndex != null && ecModel.eachComponent({\n      mainType: 'legend',\n      subType: 'scroll',\n      query: payload\n    }, function (legendModel) {\n      legendModel.setScrollDataIndex(scrollDataIndex);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport { install as installLegendPlain } from './installLegendPlain';\nimport ScrollableLegendModel from './ScrollableLegendModel';\nimport ScrollableLegendView from './ScrollableLegendView';\nimport installScrollableLegendAction from './scrollableLegendAction';\nexport function install(registers) {\n  use(installLegendPlain);\n  registers.registerComponentModel(ScrollableLegendModel);\n  registers.registerComponentView(ScrollableLegendView);\n  installScrollableLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport { install as installLegendPlain } from './installLegendPlain';\nimport { install as installLegendScroll } from './installLegendScroll';\nexport function install(registers) {\n  use(installLegendPlain);\n  use(installLegendScroll);\n}","\nimport {\n  defineComponent,\n  ref,\n  toRefs,\n  watchEffect,\n  nextTick,\n  computed,\n  PropType\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport { PieChart, PieSeriesOption } from \"echarts/charts\";\nimport {\n  GridComponent,\n  GridComponentOption,\n  LegendComponent,\n  LegendComponentOption,\n  TooltipComponent,\n  TooltipComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { PieDataItemOption } from \"echarts/types/src/chart/pie/PieSeries\";\nimport { AddResizer } from \"@/typings/store\";\nimport { useStore } from \"vuex\";\n\ntype ECOption = echarts.ComposeOption<\n  | PieSeriesOption\n  | GridComponentOption\n  | LegendComponentOption\n  | TooltipComponentOption\n>;\n\necharts.use([\n  PieChart,\n  GridComponent,\n  LegendComponent,\n  TooltipComponent,\n  CanvasRenderer\n]);\n\nconst Component = defineComponent({\n  name: \"PieChart\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Array as PropType<PieDataItemOption[]>,\n      default: () => []\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const { title, data } = toRefs(props);\n    const dialogVisible = ref(false);\n    const hasData = computed(() => {\n      return data.value.length;\n    });\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      if (!hasData.value) return;\n\n      const total = data.value.reduce(\n        (sum, item: PieDataItemOption) => sum + (item.value as number),\n        0\n      );\n\n      option = {\n        legend: {\n          type: \"scroll\",\n          bottom: 0\n        },\n        tooltip: {\n          trigger: \"item\",\n          formatter(param: any) {\n            return `\n              <div style=\"display: flex; justify-content: space-between;\">\n                <span style=\"margin-right: 15px;\">${param.marker} ${\n              param.name\n            }</span> ${Math.round((param.value * 100) / total)}% <br />\n              </div>\n            `;\n          }\n        },\n        series: [\n          {\n            type: \"pie\",\n            radius: \"50%\",\n            data: data.value,\n            label: {\n              show: false\n            },\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: \"rgba(0, 0, 0, 0.5)\"\n              }\n            }\n          }\n        ]\n      };\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"pie-chart-main-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    });\n\n    const onExpandClick = async () => {\n      dialogVisible.value = true;\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"pie-chart-dialog-\" + title.value)!\n      );\n      chart.setOption({\n        ...option,\n        series: [\n          {\n            // @ts-ignore\n            ...option.series[0],\n            label: {\n              show: true\n            }\n          }\n        ]\n      });\n      store.commit(AddResizer, chart);\n    };\n\n    return {\n      dialogVisible,\n      hasData,\n\n      onExpandClick\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./PieChartCard.vue?vue&type=template&id=05c63706&scoped=true\"\nimport script from \"./PieChartCard.vue?vue&type=script&lang=ts\"\nexport * from \"./PieChartCard.vue?vue&type=script&lang=ts\"\n\nimport \"./PieChartCard.vue?vue&type=style&index=0&id=05c63706&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-05c63706\"\n\nexport default script","\nimport { defineComponent, watchEffect, ref, toRefs } from \"vue\";\n\nimport BoxplotChartCard from \"@/components/BoxplotChartCard.vue\";\nimport BarChartCard from \"@/components/BarChartCard.vue\";\nimport LineChartCard from \"@/components/LineChartCard.vue\";\nimport TableCard from \"@/components/TableCard.vue\";\nimport PieChartCard from \"@/components/PieChartCard.vue\";\n\nimport { Column } from \"@/constants/element\";\nimport {\n  getCategoriesCountTable,\n  getMaterialPieChart,\n  getProductDiscountTrendChart,\n  getProductTypePriceBoxPlotChart,\n  getSportPieChart,\n  getSportsCountTable,\n  getTopMaterialsUsedChart,\n  getTopRecycleMaterialsUsedChart\n} from \"@/apis/brand\";\nimport {\n  BoxPlotChartResponse,\n  LineBarChartResponse,\n  PieChartResponse,\n  StackBarChartResponse,\n  TableResponse\n} from \"@/typings/brandInsight\";\nimport { loading } from \"@/utils\";\nimport {\n  formatLineData,\n  formatPieChartData,\n  formatStackBarData,\n  formatTableData\n} from \"@/utils/brandInsight\";\n\nconst columns: Column[] = [\n  { prop: \"category\", label: \"Category\" },\n  { prop: \"products\", label: \"Product Count\", width: \"80px\" },\n  { prop: \"percentage\", label: \"%\", width: \"80px\" }\n];\n\nconst Component = defineComponent({\n  name: \"ProductPower\",\n  props: {\n    brand: {\n      type: String,\n      default: \"\"\n    }\n  },\n  components: {\n    BoxplotChartCard,\n    BarChartCard,\n    LineChartCard,\n    TableCard,\n    PieChartCard\n  },\n  setup(props) {\n    const { brand } = toRefs(props);\n    const productTypePriceBoxPlot = ref<BoxPlotChartResponse | null>(null);\n    const productDiscountTrend = ref<LineBarChartResponse | null>(null);\n    const topMaterialsUsed = ref<StackBarChartResponse | null>(null);\n    const topRecycleMaterialsUsed = ref<StackBarChartResponse | null>(null);\n    const sportsCountTable = ref<TableResponse | null>(null);\n    const categoriesCountTable = ref<TableResponse | null>(null);\n    const sportPie = ref<PieChartResponse | null>(null);\n    const materialPie = ref<PieChartResponse | null>(null);\n\n    watchEffect(async () => {\n      if (!brand.value) return;\n\n      productTypePriceBoxPlot.value = (\n        await getProductTypePriceBoxPlotChart(brand.value)\n      ).data;\n      console.log('value', productTypePriceBoxPlot.value);\n      productDiscountTrend.value = (\n        await getProductDiscountTrendChart(brand.value)\n      ).data;\n      topMaterialsUsed.value = (\n        await getTopMaterialsUsedChart(brand.value)\n      ).data;\n      topRecycleMaterialsUsed.value = (\n        await getTopRecycleMaterialsUsedChart(brand.value)\n      ).data;\n      sportsCountTable.value = (await getSportsCountTable(brand.value)).data;\n      categoriesCountTable.value = (\n        await getCategoriesCountTable(brand.value)\n      ).data;\n      materialPie.value = (await getMaterialPieChart(brand.value)).data;\n      sportPie.value = (await getSportPieChart(brand.value)).data;\n    });\n\n    return {\n      columns,\n\n      productTypePriceBoxPlot,\n      productDiscountTrend,\n      topMaterialsUsed,\n      topRecycleMaterialsUsed,\n      sportsCountTable,\n      categoriesCountTable,\n      sportPie,\n      materialPie,\n\n      formatLineData,\n      formatStackBarData,\n      formatTableData,\n      formatPieChartData\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./ProductPower.vue?vue&type=template&id=e7fb4a32&scoped=true\"\nimport script from \"./ProductPower.vue?vue&type=script&lang=ts\"\nexport * from \"./ProductPower.vue?vue&type=script&lang=ts\"\n\nimport \"./ProductPower.vue?vue&type=style&index=0&id=e7fb4a32&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-e7fb4a32\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PieChartCard.vue?vue&type=style&index=0&id=05c63706&scoped=true&lang=stylus\"","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","<template>\n  <div id=\"financial-power-component\">\n    <el-row :gutter=\"30\">\n      <el-col :span=\"12\">\n        <LineChartCard\n          title=\"Revenue (Quarter)\"\n          :data=\"formatFinanceRegionData(financeRegionChart)\"\n          :names=\"['in millions of U.S. Dollars']\"\n        ></LineChartCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <RadarChartCard\n          title=\"Financial Index\"\n          :data=\"financeRadarChart || undefined\"\n        ></RadarChartCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <LineChartCard\n          title=\"Days Payable Outstanding (Quarter)\"\n          :data=\"formatLineData(daysPayableOutstandingQChart)\"\n          :names=\"['Days']\"\n        ></LineChartCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <LineChartCard\n          title=\"Days Payable Outstanding (Year)\"\n          :data=\"formatLineData(daysPayableOutstandingYChart)\"\n          :names=\"['Days']\"\n        ></LineChartCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <LineChartCard\n          title=\"Cash to CL Ratio (Quarter)\"\n          percentage\n          :times=\"100\"\n          :data=\"formatLineData(cashToCLRatioQChart)\"\n          :names=\"['Ratio']\"\n        ></LineChartCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <LineChartCard\n          title=\"Cash to CL Ratio (Year)\"\n          percentage\n          :times=\"100\"\n          :data=\"formatLineData(cashToCLRatioYChart)\"\n          :names=\"['Ratio']\"\n        ></LineChartCard>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, toRefs, watchEffect } from \"vue\";\n\nimport RadarChartCard from \"@/components/RadarChartCard.vue\";\nimport LineChartCard from \"@/components/LineChartCard.vue\";\nimport {\n  getCashToCLRatioQChart,\n  getCashToCLRatioYChart,\n  getDaysPayableOutstandingQChart,\n  getDaysPayableOutstandingYChart,\n  getFinanceRadarChart,\n  getFinanceRegionChart\n} from \"@/apis/brand\";\nimport {\n  FinanceRegionChartResponse,\n  LineChartResponse,\n  RadarChartResponse\n} from \"@/typings/brandInsight\";\nimport { formatFinanceRegionData, formatLineData } from \"@/utils/brandInsight\";\n\nconst Component = defineComponent({\n  name: \"FinancialPower\",\n  props: {\n    brand: {\n      type: String,\n      default: \"\"\n    }\n  },\n  components: {\n    RadarChartCard,\n    LineChartCard\n  },\n  setup(props) {\n    const { brand } = toRefs(props);\n    const financeRegionChart = ref<FinanceRegionChartResponse | null>(null);\n    const financeRadarChart = ref<RadarChartResponse | null>(null);\n    const daysPayableOutstandingQChart = ref<LineChartResponse | null>(null);\n    const daysPayableOutstandingYChart = ref<LineChartResponse | null>(null);\n    const cashToCLRatioQChart = ref<LineChartResponse | null>(null);\n    const cashToCLRatioYChart = ref<LineChartResponse | null>(null);\n\n    watchEffect(async () => {\n      if (!brand.value) return;\n\n      financeRegionChart.value = (\n        await getFinanceRegionChart(brand.value)\n      ).data;\n      financeRadarChart.value = (await getFinanceRadarChart(brand.value)).data;\n      daysPayableOutstandingQChart.value = (\n        await getDaysPayableOutstandingQChart(brand.value)\n      ).data;\n      daysPayableOutstandingYChart.value = (\n        await getDaysPayableOutstandingYChart(brand.value)\n      ).data;\n      cashToCLRatioQChart.value = (\n        await getCashToCLRatioQChart(brand.value)\n      ).data;\n      cashToCLRatioYChart.value = (\n        await getCashToCLRatioYChart(brand.value)\n      ).data;\n    });\n\n    return {\n      financeRegionChart,\n      financeRadarChart,\n      daysPayableOutstandingQChart,\n      daysPayableOutstandingYChart,\n      cashToCLRatioQChart,\n      cashToCLRatioYChart,\n\n      formatFinanceRegionData,\n      formatLineData\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#financial-power-component\n  overflow-x hidden\n  padding-top 15px\n\n  .el-col\n    margin-bottom 30px\n\n  :deep() .el-row\n    el-row()\n</style>\n","<template>\n  <div id=\"radar-chart-card-component\">\n    <div class=\"top-container\">\n      <h3 class=\"title\">{{ title }}</h3>\n      <div v-if=\"hasData\" class=\"expand-button\" @click=\"onExpandClick\">\n        <img src=\"@/assets/images/icons/png/expand.png\" alt=\"\" />\n      </div>\n    </div>\n    <div v-if=\"hasData\" class=\"chart-container\">\n      <div :id=\"'radar-chart-main-' + title\" class=\"chart-main\"></div>\n    </div>\n    <div v-else class=\"chart-empty\">\n      <h3>No Data</h3>\n    </div>\n\n    <el-dialog :title=\"title\" v-model=\"dialogVisible\" width=\"80%\">\n      <div class=\"dialog-container\">\n        <div :id=\"'radar-chart-dialog-' + title\" class=\"chart-dialog\"></div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  ref,\n  toRefs,\n  watchEffect,\n  nextTick,\n  computed,\n  PropType\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport { RadarChart, RadarSeriesOption } from \"echarts/charts\";\nimport {\n  GridComponent,\n  GridComponentOption,\n  TooltipComponent,\n  TooltipComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { AddResizer } from \"@/typings/store\";\nimport { useStore } from \"vuex\";\nimport { RadarChartResponse } from \"@/typings/brandInsight\";\n\ntype ECOption = echarts.ComposeOption<\n  RadarSeriesOption | GridComponentOption | TooltipComponentOption\n>;\n\necharts.use([RadarChart, GridComponent, TooltipComponent, CanvasRenderer]);\n\ninterface Indicator {\n  name: string;\n  min: number;\n  max: number;\n}\n\nfunction calcPercentage(value: number | string, indicator: Indicator) {\n  if (typeof value === \"string\") return \"NA\";\n  if (\n    [\"net_profit_margin\", \"debt_asset_ratio\", \"return_on_assets\"].includes(\n      indicator.name\n    )\n  ) {\n    return Math.round(value * 100) + \"%\";\n  }\n  return value;\n}\n\nconst Component = defineComponent({\n  name: \"RadarChartCard\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Object as PropType<RadarChartResponse>,\n      default: () => ({\n        labels: [],\n        maxs: [],\n        mins: [],\n        values: []\n      })\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const { title, data } = toRefs(props);\n    const dialogVisible = ref(false);\n    const hasData = computed(() => {\n      return data.value.values.length;\n    });\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      if (!hasData.value) return;\n\n      const indicator = data.value.labels.map(\n        (label: string, index: number): Indicator => ({\n          name: label,\n          min: data.value.mins[index],\n          max: data.value.maxs[index]\n        })\n      );\n\n      option = {\n        tooltip: {\n          trigger: \"item\",\n          formatter(param: any) {\n            return `\n            <div style=\"min-width: 200px;\">\n              ${indicator\n                .map(\n                  (indicator: Indicator, index: number) =>\n                    `\n                  <div  style=\"display: flex; justify-content: space-between;\">\n                    <span>${param.marker} ${\n                      indicator.name\n                    }</span> ${calcPercentage(\n                      param.value[index],\n                      indicator\n                    )} <br />\n                  </div>\n                `\n                )\n                .join(\"\")}\n            </div>\n          `;\n          }\n        },\n        radar: {\n          name: {\n            textStyle: {\n              color: \"#fff\",\n              backgroundColor: \"#999\",\n              borderRadius: 3,\n              padding: [3, 5]\n            }\n          },\n          scale: true,\n          indicator\n        },\n        series: [\n          {\n            type: \"radar\",\n            data: [\n              {\n                value: data.value.values\n              }\n            ]\n          }\n        ]\n      };\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"radar-chart-main-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    });\n\n    const onExpandClick = async () => {\n      if (!option) return;\n      dialogVisible.value = true;\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"radar-chart-dialog-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    };\n\n    return {\n      dialogVisible,\n      hasData,\n\n      onExpandClick\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#radar-chart-card-component\n  width 100%\n  background-color white\n\n  .top-container\n    display flex\n    justify-content space-between\n    align-items center\n    padding 20px 30px 0\n    .title\n      font-size $font-size-lg2x\n      font-weight 500\n    .expand-button\n      cursor pointer\n      img\n        width 20px\n        height 20px\n\n  .chart-container\n    width 100%\n  .dialog-container\n    width 100%\n  .chart-main\n    chart-main()\n  .chart-empty\n    chart-empty()\n  .chart-dialog\n    chart-dialog()\n</style>\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nexport default function radarLayout(ecModel) {\n  ecModel.eachSeriesByType('radar', function (seriesModel) {\n    var data = seriesModel.getData();\n    var points = [];\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (!coordSys) {\n      return;\n    }\n\n    var axes = coordSys.getIndicatorAxes();\n    zrUtil.each(axes, function (axis, axisIndex) {\n      data.each(data.mapDimension(axes[axisIndex].dim), function (val, dataIndex) {\n        points[dataIndex] = points[dataIndex] || [];\n        var point = coordSys.dataToPoint(val, axisIndex);\n        points[dataIndex][axisIndex] = isValidPoint(point) ? point : getValueMissingPoint(coordSys);\n      });\n    }); // Close polygon\n\n    data.each(function (idx) {\n      // TODO\n      // Is it appropriate to connect to the next data when some data is missing?\n      // Or, should trade it like `connectNull` in line chart?\n      var firstPoint = zrUtil.find(points[idx], function (point) {\n        return isValidPoint(point);\n      }) || getValueMissingPoint(coordSys); // Copy the first actual point to the end of the array\n\n      points[idx].push(firstPoint.slice());\n      data.setItemLayout(idx, points[idx]);\n    });\n  });\n}\n\nfunction isValidPoint(point) {\n  return !isNaN(point[0]) && !isNaN(point[1]);\n}\n\nfunction getValueMissingPoint(coordSys) {\n  // It is error-prone to input [NaN, NaN] into polygon, polygon.\n  // (probably cause problem when refreshing or animating)\n  return [coordSys.cx, coordSys.cy];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\n// Backward compat for radar chart in 2\nimport * as zrUtil from 'zrender/lib/core/util';\nexport default function radarBackwardCompat(option) {\n  var polarOptArr = option.polar;\n\n  if (polarOptArr) {\n    if (!zrUtil.isArray(polarOptArr)) {\n      polarOptArr = [polarOptArr];\n    }\n\n    var polarNotRadar_1 = [];\n    zrUtil.each(polarOptArr, function (polarOpt, idx) {\n      if (polarOpt.indicator) {\n        if (polarOpt.type && !polarOpt.shape) {\n          polarOpt.shape = polarOpt.type;\n        }\n\n        option.radar = option.radar || [];\n\n        if (!zrUtil.isArray(option.radar)) {\n          option.radar = [option.radar];\n        }\n\n        option.radar.push(polarOpt);\n      } else {\n        polarNotRadar_1.push(polarOpt);\n      }\n    });\n    option.polar = polarNotRadar_1;\n  }\n\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'radar' && seriesOpt.polarIndex) {\n      seriesOpt.radarIndex = seriesOpt.polarIndex;\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as symbolUtil from '../../util/symbol';\nimport ChartView from '../../view/Chart';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport ZRImage from 'zrender/lib/graphic/Image';\n\nfunction normalizeSymbolSize(symbolSize) {\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n\n  return symbolSize;\n}\n\nvar RadarView =\n/** @class */\nfunction (_super) {\n  __extends(RadarView, _super);\n\n  function RadarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = RadarView.type;\n    return _this;\n  }\n\n  RadarView.prototype.render = function (seriesModel, ecModel, api) {\n    var polar = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n\n    function createSymbol(data, idx) {\n      var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n\n      if (symbolType === 'none') {\n        return;\n      }\n\n      var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n      var symbolPath = symbolUtil.createSymbol(symbolType, -1, -1, 2, 2);\n      var symbolRotate = data.getItemVisual(idx, 'symbolRotate') || 0;\n      symbolPath.attr({\n        style: {\n          strokeNoScale: true\n        },\n        z2: 100,\n        scaleX: symbolSize[0] / 2,\n        scaleY: symbolSize[1] / 2,\n        rotation: symbolRotate * Math.PI / 180 || 0\n      });\n      return symbolPath;\n    }\n\n    function updateSymbols(oldPoints, newPoints, symbolGroup, data, idx, isInit) {\n      // Simply rerender all\n      symbolGroup.removeAll();\n\n      for (var i = 0; i < newPoints.length - 1; i++) {\n        var symbolPath = createSymbol(data, idx);\n\n        if (symbolPath) {\n          symbolPath.__dimIdx = i;\n\n          if (oldPoints[i]) {\n            symbolPath.setPosition(oldPoints[i]);\n            graphic[isInit ? 'initProps' : 'updateProps'](symbolPath, {\n              x: newPoints[i][0],\n              y: newPoints[i][1]\n            }, seriesModel, idx);\n          } else {\n            symbolPath.setPosition(newPoints[i]);\n          }\n\n          symbolGroup.add(symbolPath);\n        }\n      }\n    }\n\n    function getInitialPoints(points) {\n      return zrUtil.map(points, function (pt) {\n        return [polar.cx, polar.cy];\n      });\n    }\n\n    data.diff(oldData).add(function (idx) {\n      var points = data.getItemLayout(idx);\n\n      if (!points) {\n        return;\n      }\n\n      var polygon = new graphic.Polygon();\n      var polyline = new graphic.Polyline();\n      var target = {\n        shape: {\n          points: points\n        }\n      };\n      polygon.shape.points = getInitialPoints(points);\n      polyline.shape.points = getInitialPoints(points);\n      graphic.initProps(polygon, target, seriesModel, idx);\n      graphic.initProps(polyline, target, seriesModel, idx);\n      var itemGroup = new graphic.Group();\n      var symbolGroup = new graphic.Group();\n      itemGroup.add(polyline);\n      itemGroup.add(polygon);\n      itemGroup.add(symbolGroup);\n      updateSymbols(polyline.shape.points, points, symbolGroup, data, idx, true);\n      data.setItemGraphicEl(idx, itemGroup);\n    }).update(function (newIdx, oldIdx) {\n      var itemGroup = oldData.getItemGraphicEl(oldIdx);\n      var polyline = itemGroup.childAt(0);\n      var polygon = itemGroup.childAt(1);\n      var symbolGroup = itemGroup.childAt(2);\n      var target = {\n        shape: {\n          points: data.getItemLayout(newIdx)\n        }\n      };\n\n      if (!target.shape.points) {\n        return;\n      }\n\n      updateSymbols(polyline.shape.points, target.shape.points, symbolGroup, data, newIdx, false);\n      graphic.updateProps(polyline, target, seriesModel);\n      graphic.updateProps(polygon, target, seriesModel);\n      data.setItemGraphicEl(newIdx, itemGroup);\n    }).remove(function (idx) {\n      group.remove(oldData.getItemGraphicEl(idx));\n    }).execute();\n    data.eachItemGraphicEl(function (itemGroup, idx) {\n      var itemModel = data.getItemModel(idx);\n      var polyline = itemGroup.childAt(0);\n      var polygon = itemGroup.childAt(1);\n      var symbolGroup = itemGroup.childAt(2); // Radar uses the visual encoded from itemStyle.\n\n      var itemStyle = data.getItemVisual(idx, 'style');\n      var color = itemStyle.fill;\n      group.add(itemGroup);\n      polyline.useStyle(zrUtil.defaults(itemModel.getModel('lineStyle').getLineStyle(), {\n        fill: 'none',\n        stroke: color\n      }));\n      setStatesStylesFromModel(polyline, itemModel, 'lineStyle');\n      setStatesStylesFromModel(polygon, itemModel, 'areaStyle');\n      var areaStyleModel = itemModel.getModel('areaStyle');\n      var polygonIgnore = areaStyleModel.isEmpty() && areaStyleModel.parentModel.isEmpty();\n      polygon.ignore = polygonIgnore;\n      zrUtil.each(['emphasis', 'select', 'blur'], function (stateName) {\n        var stateModel = itemModel.getModel([stateName, 'areaStyle']);\n        var stateIgnore = stateModel.isEmpty() && stateModel.parentModel.isEmpty(); // Won't be ignore if normal state is not ignore.\n\n        polygon.ensureState(stateName).ignore = stateIgnore && polygonIgnore;\n      });\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: color,\n        opacity: 0.7,\n        decal: itemStyle.decal\n      }));\n      var emphasisModel = itemModel.getModel('emphasis');\n      var itemHoverStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n      symbolGroup.eachChild(function (symbolPath) {\n        if (symbolPath instanceof ZRImage) {\n          var pathStyle = symbolPath.style;\n          symbolPath.useStyle(zrUtil.extend({\n            // TODO other properties like x, y ?\n            image: pathStyle.image,\n            x: pathStyle.x,\n            y: pathStyle.y,\n            width: pathStyle.width,\n            height: pathStyle.height\n          }, itemStyle));\n        } else {\n          symbolPath.useStyle(itemStyle);\n          symbolPath.setColor(color);\n        }\n\n        var pathEmphasisState = symbolPath.ensureState('emphasis');\n        pathEmphasisState.style = zrUtil.clone(itemHoverStyle);\n        var defaultText = data.get(data.dimensions[symbolPath.__dimIdx], idx);\n        (defaultText == null || isNaN(defaultText)) && (defaultText = '');\n        setLabelStyle(symbolPath, getLabelStatesModels(itemModel), {\n          labelFetcher: data.hostModel,\n          labelDataIndex: idx,\n          labelDimIndex: symbolPath.__dimIdx,\n          defaultText: defaultText,\n          inheritColor: color,\n          defaultOpacity: itemStyle.opacity\n        });\n      });\n      enableHoverEmphasis(itemGroup, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n    });\n    this._data = data;\n  };\n\n  RadarView.prototype.remove = function () {\n    this.group.removeAll();\n    this._data = null;\n  };\n\n  RadarView.type = 'radar';\n  return RadarView;\n}(ChartView);\n\nexport default RadarView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series';\nimport createListSimply from '../helper/createListSimply';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider';\nimport { createTooltipMarkup, retrieveVisualColorForTooltipMarker } from '../../component/tooltip/tooltipMarkup';\n\nvar RadarSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(RadarSeriesModel, _super);\n\n  function RadarSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = RadarSeriesModel.type;\n    _this.useColorPaletteOnData = true;\n    _this.hasSymbolVisual = true;\n    return _this;\n  } // Overwrite\n\n\n  RadarSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n  };\n\n  RadarSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createListSimply(this, {\n      generateCoord: 'indicator_',\n      generateCoordCount: Infinity\n    });\n  };\n\n  RadarSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var coordSys = this.coordinateSystem;\n    var indicatorAxes = coordSys.getIndicatorAxes();\n    var name = this.getData().getName(dataIndex);\n    var nameToDisplay = name === '' ? this.name : name;\n    var markerColor = retrieveVisualColorForTooltipMarker(this, dataIndex);\n    return createTooltipMarkup('section', {\n      header: nameToDisplay,\n      sortBlocks: true,\n      blocks: zrUtil.map(indicatorAxes, function (axis) {\n        var val = data.get(data.mapDimension(axis.dim), dataIndex);\n        return createTooltipMarkup('nameValue', {\n          markerType: 'subItem',\n          markerColor: markerColor,\n          name: axis.name,\n          value: val,\n          sortParam: val\n        });\n      })\n    });\n  };\n\n  RadarSeriesModel.prototype.getTooltipPosition = function (dataIndex) {\n    if (dataIndex != null) {\n      var data_1 = this.getData();\n      var coordSys = this.coordinateSystem;\n      var values = data_1.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n        return data_1.mapDimension(dim);\n      }), dataIndex);\n\n      for (var i = 0, len = values.length; i < len; i++) {\n        if (!isNaN(values[i])) {\n          var indicatorAxes = coordSys.getIndicatorAxes();\n          return coordSys.coordToPoint(indicatorAxes[i].dataToCoord(values[i]), i);\n        }\n      }\n    }\n  };\n\n  RadarSeriesModel.type = 'series.radar';\n  RadarSeriesModel.dependencies = ['radar'];\n  RadarSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'radar',\n    legendHoverLink: true,\n    radarIndex: 0,\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    label: {\n      position: 'top'\n    },\n    // areaStyle: {\n    // },\n    // itemStyle: {}\n    symbolSize: 8 // symbolRotate: null\n\n  };\n  return RadarSeriesModel;\n}(SeriesModel);\n\nexport default RadarSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport axisDefault from '../axisDefault';\nimport Model from '../../model/Model';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin';\nimport ComponentModel from '../../model/Component';\nvar valueAxisDefault = axisDefault.value;\n\nfunction defaultsShow(opt, show) {\n  return zrUtil.defaults({\n    show: show\n  }, opt);\n}\n\nvar RadarModel =\n/** @class */\nfunction (_super) {\n  __extends(RadarModel, _super);\n\n  function RadarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = RadarModel.type;\n    return _this;\n  }\n\n  RadarModel.prototype.optionUpdated = function () {\n    var boundaryGap = this.get('boundaryGap');\n    var splitNumber = this.get('splitNumber');\n    var scale = this.get('scale');\n    var axisLine = this.get('axisLine');\n    var axisTick = this.get('axisTick'); // let axisType = this.get('axisType');\n\n    var axisLabel = this.get('axisLabel');\n    var nameTextStyle = this.get('axisName');\n    var showName = this.get(['axisName', 'show']);\n    var nameFormatter = this.get(['axisName', 'formatter']);\n    var nameGap = this.get('axisNameGap');\n    var triggerEvent = this.get('triggerEvent');\n    var indicatorModels = zrUtil.map(this.get('indicator') || [], function (indicatorOpt) {\n      // PENDING\n      if (indicatorOpt.max != null && indicatorOpt.max > 0 && !indicatorOpt.min) {\n        indicatorOpt.min = 0;\n      } else if (indicatorOpt.min != null && indicatorOpt.min < 0 && !indicatorOpt.max) {\n        indicatorOpt.max = 0;\n      }\n\n      var iNameTextStyle = nameTextStyle;\n\n      if (indicatorOpt.color != null) {\n        iNameTextStyle = zrUtil.defaults({\n          color: indicatorOpt.color\n        }, nameTextStyle);\n      } // Use same configuration\n\n\n      var innerIndicatorOpt = zrUtil.merge(zrUtil.clone(indicatorOpt), {\n        boundaryGap: boundaryGap,\n        splitNumber: splitNumber,\n        scale: scale,\n        axisLine: axisLine,\n        axisTick: axisTick,\n        // axisType: axisType,\n        axisLabel: axisLabel,\n        // Compatible with 2 and use text\n        name: indicatorOpt.text,\n        nameLocation: 'end',\n        nameGap: nameGap,\n        // min: 0,\n        nameTextStyle: iNameTextStyle,\n        triggerEvent: triggerEvent\n      }, false);\n\n      if (!showName) {\n        innerIndicatorOpt.name = '';\n      }\n\n      if (typeof nameFormatter === 'string') {\n        var indName = innerIndicatorOpt.name;\n        innerIndicatorOpt.name = nameFormatter.replace('{value}', indName != null ? indName : '');\n      } else if (typeof nameFormatter === 'function') {\n        innerIndicatorOpt.name = nameFormatter(innerIndicatorOpt.name, innerIndicatorOpt);\n      }\n\n      var model = new Model(innerIndicatorOpt, null, this.ecModel);\n      zrUtil.mixin(model, AxisModelCommonMixin.prototype); // For triggerEvent.\n\n      model.mainType = 'radar';\n      model.componentIndex = this.componentIndex;\n      return model;\n    }, this);\n    this._indicatorModels = indicatorModels;\n  };\n\n  RadarModel.prototype.getIndicatorModels = function () {\n    return this._indicatorModels;\n  };\n\n  RadarModel.type = 'radar';\n  RadarModel.defaultOption = {\n    zlevel: 0,\n    z: 0,\n    center: ['50%', '50%'],\n    radius: '75%',\n    startAngle: 90,\n    axisName: {\n      show: true // formatter: null\n      // textStyle: {}\n\n    },\n    boundaryGap: [0, 0],\n    splitNumber: 5,\n    axisNameGap: 15,\n    scale: false,\n    // Polygon or circle\n    shape: 'polygon',\n    axisLine: zrUtil.merge({\n      lineStyle: {\n        color: '#bbb'\n      }\n    }, valueAxisDefault.axisLine),\n    axisLabel: defaultsShow(valueAxisDefault.axisLabel, false),\n    axisTick: defaultsShow(valueAxisDefault.axisTick, false),\n    // axisType: 'value',\n    splitLine: defaultsShow(valueAxisDefault.splitLine, true),\n    splitArea: defaultsShow(valueAxisDefault.splitArea, true),\n    // {text, min, max}\n    indicator: []\n  };\n  return RadarModel;\n}(ComponentModel);\n\nexport default RadarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport AxisBuilder from '../axis/AxisBuilder';\nimport * as graphic from '../../util/graphic';\nimport ComponentView from '../../view/Component';\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\n\nvar RadarView =\n/** @class */\nfunction (_super) {\n  __extends(RadarView, _super);\n\n  function RadarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = RadarView.type;\n    return _this;\n  }\n\n  RadarView.prototype.render = function (radarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n\n    this._buildAxes(radarModel);\n\n    this._buildSplitLineAndArea(radarModel);\n  };\n\n  RadarView.prototype._buildAxes = function (radarModel) {\n    var radar = radarModel.coordinateSystem;\n    var indicatorAxes = radar.getIndicatorAxes();\n    var axisBuilders = zrUtil.map(indicatorAxes, function (indicatorAxis) {\n      var axisBuilder = new AxisBuilder(indicatorAxis.model, {\n        position: [radar.cx, radar.cy],\n        rotation: indicatorAxis.angle,\n        labelDirection: -1,\n        tickDirection: -1,\n        nameDirection: 1\n      });\n      return axisBuilder;\n    });\n    zrUtil.each(axisBuilders, function (axisBuilder) {\n      zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n      this.group.add(axisBuilder.getGroup());\n    }, this);\n  };\n\n  RadarView.prototype._buildSplitLineAndArea = function (radarModel) {\n    var radar = radarModel.coordinateSystem;\n    var indicatorAxes = radar.getIndicatorAxes();\n\n    if (!indicatorAxes.length) {\n      return;\n    }\n\n    var shape = radarModel.get('shape');\n    var splitLineModel = radarModel.getModel('splitLine');\n    var splitAreaModel = radarModel.getModel('splitArea');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var showSplitLine = splitLineModel.get('show');\n    var showSplitArea = splitAreaModel.get('show');\n    var splitLineColors = lineStyleModel.get('color');\n    var splitAreaColors = areaStyleModel.get('color');\n    var splitLineColorsArr = zrUtil.isArray(splitLineColors) ? splitLineColors : [splitLineColors];\n    var splitAreaColorsArr = zrUtil.isArray(splitAreaColors) ? splitAreaColors : [splitAreaColors];\n    var splitLines = [];\n    var splitAreas = [];\n\n    function getColorIndex(areaOrLine, areaOrLineColorList, idx) {\n      var colorIndex = idx % areaOrLineColorList.length;\n      areaOrLine[colorIndex] = areaOrLine[colorIndex] || [];\n      return colorIndex;\n    }\n\n    if (shape === 'circle') {\n      var ticksRadius = indicatorAxes[0].getTicksCoords();\n      var cx = radar.cx;\n      var cy = radar.cy;\n\n      for (var i = 0; i < ticksRadius.length; i++) {\n        if (showSplitLine) {\n          var colorIndex = getColorIndex(splitLines, splitLineColorsArr, i);\n          splitLines[colorIndex].push(new graphic.Circle({\n            shape: {\n              cx: cx,\n              cy: cy,\n              r: ticksRadius[i].coord\n            }\n          }));\n        }\n\n        if (showSplitArea && i < ticksRadius.length - 1) {\n          var colorIndex = getColorIndex(splitAreas, splitAreaColorsArr, i);\n          splitAreas[colorIndex].push(new graphic.Ring({\n            shape: {\n              cx: cx,\n              cy: cy,\n              r0: ticksRadius[i].coord,\n              r: ticksRadius[i + 1].coord\n            }\n          }));\n        }\n      }\n    } // Polyyon\n    else {\n        var realSplitNumber_1;\n        var axesTicksPoints = zrUtil.map(indicatorAxes, function (indicatorAxis, idx) {\n          var ticksCoords = indicatorAxis.getTicksCoords();\n          realSplitNumber_1 = realSplitNumber_1 == null ? ticksCoords.length - 1 : Math.min(ticksCoords.length - 1, realSplitNumber_1);\n          return zrUtil.map(ticksCoords, function (tickCoord) {\n            return radar.coordToPoint(tickCoord.coord, idx);\n          });\n        });\n        var prevPoints = [];\n\n        for (var i = 0; i <= realSplitNumber_1; i++) {\n          var points = [];\n\n          for (var j = 0; j < indicatorAxes.length; j++) {\n            points.push(axesTicksPoints[j][i]);\n          } // Close\n\n\n          if (points[0]) {\n            points.push(points[0].slice());\n          } else {\n            if (process.env.NODE_ENV !== 'production') {\n              console.error('Can\\'t draw value axis ' + i);\n            }\n          }\n\n          if (showSplitLine) {\n            var colorIndex = getColorIndex(splitLines, splitLineColorsArr, i);\n            splitLines[colorIndex].push(new graphic.Polyline({\n              shape: {\n                points: points\n              }\n            }));\n          }\n\n          if (showSplitArea && prevPoints) {\n            var colorIndex = getColorIndex(splitAreas, splitAreaColorsArr, i - 1);\n            splitAreas[colorIndex].push(new graphic.Polygon({\n              shape: {\n                points: points.concat(prevPoints)\n              }\n            }));\n          }\n\n          prevPoints = points.slice().reverse();\n        }\n      }\n\n    var lineStyle = lineStyleModel.getLineStyle();\n    var areaStyle = areaStyleModel.getAreaStyle(); // Add splitArea before splitLine\n\n    zrUtil.each(splitAreas, function (splitAreas, idx) {\n      this.group.add(graphic.mergePath(splitAreas, {\n        style: zrUtil.defaults({\n          stroke: 'none',\n          fill: splitAreaColorsArr[idx % splitAreaColorsArr.length]\n        }, areaStyle),\n        silent: true\n      }));\n    }, this);\n    zrUtil.each(splitLines, function (splitLines, idx) {\n      this.group.add(graphic.mergePath(splitLines, {\n        style: zrUtil.defaults({\n          fill: 'none',\n          stroke: splitLineColorsArr[idx % splitLineColorsArr.length]\n        }, lineStyle),\n        silent: true\n      }));\n    }, this);\n  };\n\n  RadarView.type = 'radar';\n  return RadarView;\n}(ComponentView);\n\nexport default RadarView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis';\n\nvar IndicatorAxis =\n/** @class */\nfunction (_super) {\n  __extends(IndicatorAxis, _super);\n\n  function IndicatorAxis(dim, scale, radiusExtent) {\n    var _this = _super.call(this, dim, scale, radiusExtent) || this;\n\n    _this.type = 'value';\n    _this.angle = 0;\n    _this.name = '';\n    return _this;\n  }\n\n  return IndicatorAxis;\n}(Axis);\n\nexport default IndicatorAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO clockwise\nimport IndicatorAxis from './IndicatorAxis';\nimport IntervalScale from '../../scale/Interval';\nimport * as numberUtil from '../../util/number';\nimport { getScaleExtent, niceScaleExtent } from '../axisHelper';\nimport { parseAxisModelMinMax } from '../scaleRawExtentInfo';\nimport { map, each } from 'zrender/lib/core/util';\n\nvar Radar =\n/** @class */\nfunction () {\n  function Radar(radarModel, ecModel, api) {\n    /**\n     *\n     * Radar dimensions\n     */\n    this.dimensions = [];\n    this._model = radarModel;\n    this._indicatorAxes = map(radarModel.getIndicatorModels(), function (indicatorModel, idx) {\n      var dim = 'indicator_' + idx;\n      var indicatorAxis = new IndicatorAxis(dim, new IntervalScale() // (indicatorModel.get('axisType') === 'log') ? new LogScale() : new IntervalScale()\n      );\n      indicatorAxis.name = indicatorModel.get('name'); // Inject model and axis\n\n      indicatorAxis.model = indicatorModel;\n      indicatorModel.axis = indicatorAxis;\n      this.dimensions.push(dim);\n      return indicatorAxis;\n    }, this);\n    this.resize(radarModel, api);\n  }\n\n  Radar.prototype.getIndicatorAxes = function () {\n    return this._indicatorAxes;\n  };\n\n  Radar.prototype.dataToPoint = function (value, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    return this.coordToPoint(indicatorAxis.dataToCoord(value), indicatorIndex);\n  }; // TODO: API should be coordToPoint([coord, indicatorIndex])\n\n\n  Radar.prototype.coordToPoint = function (coord, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    var angle = indicatorAxis.angle;\n    var x = this.cx + coord * Math.cos(angle);\n    var y = this.cy - coord * Math.sin(angle);\n    return [x, y];\n  };\n\n  Radar.prototype.pointToData = function (pt) {\n    var dx = pt[0] - this.cx;\n    var dy = pt[1] - this.cy;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n    var radian = Math.atan2(-dy, dx); // Find the closest angle\n    // FIXME index can calculated directly\n\n    var minRadianDiff = Infinity;\n    var closestAxis;\n    var closestAxisIdx = -1;\n\n    for (var i = 0; i < this._indicatorAxes.length; i++) {\n      var indicatorAxis = this._indicatorAxes[i];\n      var diff = Math.abs(radian - indicatorAxis.angle);\n\n      if (diff < minRadianDiff) {\n        closestAxis = indicatorAxis;\n        closestAxisIdx = i;\n        minRadianDiff = diff;\n      }\n    }\n\n    return [closestAxisIdx, +(closestAxis && closestAxis.coordToData(radius))];\n  };\n\n  Radar.prototype.resize = function (radarModel, api) {\n    var center = radarModel.get('center');\n    var viewWidth = api.getWidth();\n    var viewHeight = api.getHeight();\n    var viewSize = Math.min(viewWidth, viewHeight) / 2;\n    this.cx = numberUtil.parsePercent(center[0], viewWidth);\n    this.cy = numberUtil.parsePercent(center[1], viewHeight);\n    this.startAngle = radarModel.get('startAngle') * Math.PI / 180; // radius may be single value like `20`, `'80%'`, or array like `[10, '80%']`\n\n    var radius = radarModel.get('radius');\n\n    if (typeof radius === 'string' || typeof radius === 'number') {\n      radius = [0, radius];\n    }\n\n    this.r0 = numberUtil.parsePercent(radius[0], viewSize);\n    this.r = numberUtil.parsePercent(radius[1], viewSize);\n    each(this._indicatorAxes, function (indicatorAxis, idx) {\n      indicatorAxis.setExtent(this.r0, this.r);\n      var angle = this.startAngle + idx * Math.PI * 2 / this._indicatorAxes.length; // Normalize to [-PI, PI]\n\n      angle = Math.atan2(Math.sin(angle), Math.cos(angle));\n      indicatorAxis.angle = angle;\n    }, this);\n  };\n\n  Radar.prototype.update = function (ecModel, api) {\n    var indicatorAxes = this._indicatorAxes;\n    var radarModel = this._model;\n    each(indicatorAxes, function (indicatorAxis) {\n      indicatorAxis.scale.setExtent(Infinity, -Infinity);\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries, idx) {\n      if (radarSeries.get('coordinateSystem') !== 'radar' // @ts-ignore\n      || ecModel.getComponent('radar', radarSeries.get('radarIndex')) !== radarModel) {\n        return;\n      }\n\n      var data = radarSeries.getData();\n      each(indicatorAxes, function (indicatorAxis) {\n        indicatorAxis.scale.unionExtentFromData(data, data.mapDimension(indicatorAxis.dim));\n      });\n    }, this);\n    var splitNumber = radarModel.get('splitNumber');\n\n    function increaseInterval(interval) {\n      var exp10 = Math.pow(10, Math.floor(Math.log(interval) / Math.LN10)); // Increase interval\n\n      var f = interval / exp10;\n\n      if (f === 2) {\n        f = 5;\n      } else {\n        // f is 2 or 5\n        f *= 2;\n      }\n\n      return f * exp10;\n    } // Force all the axis fixing the maxSplitNumber.\n\n\n    each(indicatorAxes, function (indicatorAxis, idx) {\n      var rawExtent = getScaleExtent(indicatorAxis.scale, indicatorAxis.model).extent;\n      niceScaleExtent(indicatorAxis.scale, indicatorAxis.model);\n      var axisModel = indicatorAxis.model;\n      var scale = indicatorAxis.scale;\n      var fixedMin = parseAxisModelMinMax(scale, axisModel.get('min', true));\n      var fixedMax = parseAxisModelMinMax(scale, axisModel.get('max', true));\n      var interval = scale.getInterval();\n\n      if (fixedMin != null && fixedMax != null) {\n        // User set min, max, divide to get new interval\n        scale.setExtent(+fixedMin, +fixedMax);\n        scale.setInterval((fixedMax - fixedMin) / splitNumber);\n      } else if (fixedMin != null) {\n        var max = void 0; // User set min, expand extent on the other side\n\n        do {\n          max = fixedMin + interval * splitNumber;\n          scale.setExtent(+fixedMin, max); // Interval must been set after extent\n          // FIXME\n\n          scale.setInterval(interval);\n          interval = increaseInterval(interval);\n        } while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1]));\n      } else if (fixedMax != null) {\n        var min = void 0; // User set min, expand extent on the other side\n\n        do {\n          min = fixedMax - interval * splitNumber;\n          scale.setExtent(min, +fixedMax);\n          scale.setInterval(interval);\n          interval = increaseInterval(interval);\n        } while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0]));\n      } else {\n        var nicedSplitNumber = scale.getTicks().length - 1;\n\n        if (nicedSplitNumber > splitNumber) {\n          interval = increaseInterval(interval);\n        } // TODO\n\n\n        var max = Math.ceil(rawExtent[1] / interval) * interval;\n        var min = numberUtil.round(max - interval * splitNumber);\n        scale.setExtent(min, max);\n        scale.setInterval(interval);\n      }\n    });\n  };\n\n  Radar.prototype.convertToPixel = function (ecModel, finder, value) {\n    console.warn('Not implemented.');\n    return null;\n  };\n\n  Radar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    console.warn('Not implemented.');\n    return null;\n  };\n\n  Radar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n\n  Radar.create = function (ecModel, api) {\n    var radarList = [];\n    ecModel.eachComponent('radar', function (radarModel) {\n      var radar = new Radar(radarModel, ecModel, api);\n      radarList.push(radar);\n      radarModel.coordinateSystem = radar;\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries) {\n      if (radarSeries.get('coordinateSystem') === 'radar') {\n        // Inject coordinate system\n        // @ts-ignore\n        radarSeries.coordinateSystem = radarList[radarSeries.get('radarIndex') || 0];\n      }\n    });\n    return radarList;\n  };\n  /**\n   * Radar dimensions is based on the data\n   */\n\n\n  Radar.dimensions = [];\n  return Radar;\n}();\n\nexport default Radar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport RadarModel from '../../coord/radar/RadarModel';\nimport RadarView from './RadarView';\nimport Radar from '../../coord/radar/Radar';\nexport function install(registers) {\n  registers.registerCoordinateSystem('radar', Radar);\n  registers.registerComponentModel(RadarModel);\n  registers.registerComponentView(RadarView);\n  registers.registerVisual({\n    seriesType: 'radar',\n    reset: function (seriesModel) {\n      var data = seriesModel.getData(); // itemVisual symbol is for selected data\n\n      data.each(function (idx) {\n        data.setItemVisual(idx, 'legendIcon', 'roundRect');\n      }); // visual is for unselected data\n\n      data.setVisual('legendIcon', 'roundRect');\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport radarLayout from '../radar/radarLayout';\nimport dataFilter from '../../processor/dataFilter';\nimport backwardCompat from '../radar/backwardCompat';\nimport RadarView from './RadarView';\nimport RadarSeriesModel from './RadarSeries';\nimport { install as installRadarComponent } from '../../component/radar/install';\nexport function install(registers) {\n  use(installRadarComponent);\n  registers.registerChartView(RadarView);\n  registers.registerSeriesModel(RadarSeriesModel);\n  registers.registerLayout(radarLayout);\n  registers.registerProcessor(dataFilter('radar'));\n  registers.registerPreprocessor(backwardCompat);\n}","\nimport {\n  defineComponent,\n  ref,\n  toRefs,\n  watchEffect,\n  nextTick,\n  computed,\n  PropType\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport { RadarChart, RadarSeriesOption } from \"echarts/charts\";\nimport {\n  GridComponent,\n  GridComponentOption,\n  TooltipComponent,\n  TooltipComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { AddResizer } from \"@/typings/store\";\nimport { useStore } from \"vuex\";\nimport { RadarChartResponse } from \"@/typings/brandInsight\";\n\ntype ECOption = echarts.ComposeOption<\n  RadarSeriesOption | GridComponentOption | TooltipComponentOption\n>;\n\necharts.use([RadarChart, GridComponent, TooltipComponent, CanvasRenderer]);\n\ninterface Indicator {\n  name: string;\n  min: number;\n  max: number;\n}\n\nfunction calcPercentage(value: number | string, indicator: Indicator) {\n  if (typeof value === \"string\") return \"NA\";\n  if (\n    [\"net_profit_margin\", \"debt_asset_ratio\", \"return_on_assets\"].includes(\n      indicator.name\n    )\n  ) {\n    return Math.round(value * 100) + \"%\";\n  }\n  return value;\n}\n\nconst Component = defineComponent({\n  name: \"RadarChartCard\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Object as PropType<RadarChartResponse>,\n      default: () => ({\n        labels: [],\n        maxs: [],\n        mins: [],\n        values: []\n      })\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const { title, data } = toRefs(props);\n    const dialogVisible = ref(false);\n    const hasData = computed(() => {\n      return data.value.values.length;\n    });\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      if (!hasData.value) return;\n\n      const indicator = data.value.labels.map(\n        (label: string, index: number): Indicator => ({\n          name: label,\n          min: data.value.mins[index],\n          max: data.value.maxs[index]\n        })\n      );\n\n      option = {\n        tooltip: {\n          trigger: \"item\",\n          formatter(param: any) {\n            return `\n            <div style=\"min-width: 200px;\">\n              ${indicator\n                .map(\n                  (indicator: Indicator, index: number) =>\n                    `\n                  <div  style=\"display: flex; justify-content: space-between;\">\n                    <span>${param.marker} ${\n                      indicator.name\n                    }</span> ${calcPercentage(\n                      param.value[index],\n                      indicator\n                    )} <br />\n                  </div>\n                `\n                )\n                .join(\"\")}\n            </div>\n          `;\n          }\n        },\n        radar: {\n          name: {\n            textStyle: {\n              color: \"#fff\",\n              backgroundColor: \"#999\",\n              borderRadius: 3,\n              padding: [3, 5]\n            }\n          },\n          scale: true,\n          indicator\n        },\n        series: [\n          {\n            type: \"radar\",\n            data: [\n              {\n                value: data.value.values\n              }\n            ]\n          }\n        ]\n      };\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"radar-chart-main-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    });\n\n    const onExpandClick = async () => {\n      if (!option) return;\n      dialogVisible.value = true;\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"radar-chart-dialog-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    };\n\n    return {\n      dialogVisible,\n      hasData,\n\n      onExpandClick\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./RadarChartCard.vue?vue&type=template&id=ddeb0500&scoped=true\"\nimport script from \"./RadarChartCard.vue?vue&type=script&lang=ts\"\nexport * from \"./RadarChartCard.vue?vue&type=script&lang=ts\"\n\nimport \"./RadarChartCard.vue?vue&type=style&index=0&id=ddeb0500&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-ddeb0500\"\n\nexport default script","\nimport { defineComponent, ref, toRefs, watchEffect } from \"vue\";\n\nimport RadarChartCard from \"@/components/RadarChartCard.vue\";\nimport LineChartCard from \"@/components/LineChartCard.vue\";\nimport {\n  getCashToCLRatioQChart,\n  getCashToCLRatioYChart,\n  getDaysPayableOutstandingQChart,\n  getDaysPayableOutstandingYChart,\n  getFinanceRadarChart,\n  getFinanceRegionChart\n} from \"@/apis/brand\";\nimport {\n  FinanceRegionChartResponse,\n  LineChartResponse,\n  RadarChartResponse\n} from \"@/typings/brandInsight\";\nimport { formatFinanceRegionData, formatLineData } from \"@/utils/brandInsight\";\n\nconst Component = defineComponent({\n  name: \"FinancialPower\",\n  props: {\n    brand: {\n      type: String,\n      default: \"\"\n    }\n  },\n  components: {\n    RadarChartCard,\n    LineChartCard\n  },\n  setup(props) {\n    const { brand } = toRefs(props);\n    const financeRegionChart = ref<FinanceRegionChartResponse | null>(null);\n    const financeRadarChart = ref<RadarChartResponse | null>(null);\n    const daysPayableOutstandingQChart = ref<LineChartResponse | null>(null);\n    const daysPayableOutstandingYChart = ref<LineChartResponse | null>(null);\n    const cashToCLRatioQChart = ref<LineChartResponse | null>(null);\n    const cashToCLRatioYChart = ref<LineChartResponse | null>(null);\n\n    watchEffect(async () => {\n      if (!brand.value) return;\n\n      financeRegionChart.value = (\n        await getFinanceRegionChart(brand.value)\n      ).data;\n      financeRadarChart.value = (await getFinanceRadarChart(brand.value)).data;\n      daysPayableOutstandingQChart.value = (\n        await getDaysPayableOutstandingQChart(brand.value)\n      ).data;\n      daysPayableOutstandingYChart.value = (\n        await getDaysPayableOutstandingYChart(brand.value)\n      ).data;\n      cashToCLRatioQChart.value = (\n        await getCashToCLRatioQChart(brand.value)\n      ).data;\n      cashToCLRatioYChart.value = (\n        await getCashToCLRatioYChart(brand.value)\n      ).data;\n    });\n\n    return {\n      financeRegionChart,\n      financeRadarChart,\n      daysPayableOutstandingQChart,\n      daysPayableOutstandingYChart,\n      cashToCLRatioQChart,\n      cashToCLRatioYChart,\n\n      formatFinanceRegionData,\n      formatLineData\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./FinancialPower.vue?vue&type=template&id=35fa5dce&scoped=true\"\nimport script from \"./FinancialPower.vue?vue&type=script&lang=ts\"\nexport * from \"./FinancialPower.vue?vue&type=script&lang=ts\"\n\nimport \"./FinancialPower.vue?vue&type=style&index=0&id=35fa5dce&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-35fa5dce\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BrandSummary.vue?vue&type=style&index=0&id=9af304a8&scoped=true&lang=stylus\"","<template>\n  <div id=\"brand-power-component\">\n    <h2 class=\"zoom-title pt-0\">Overall</h2>\n    <el-row :gutter=\"30\">\n      <el-col :span=\"8\">\n        <OverallCard\n          type=\"pie\"\n          title=\"Positive Business Outlook\"\n          :value=\"outlookNumber && Math.round(outlookNumber * 100)\"\n          :max=\"100\"\n        ></OverallCard>\n      </el-col>\n      <el-col :span=\"8\">\n        <OverallCard\n          type=\"growth\"\n          title=\"IG Follower WOW Growth\"\n          :value=\"growthNumber\"\n        ></OverallCard>\n      </el-col>\n      <el-col :span=\"8\">\n        <OverallCard\n          type=\"pie\"\n          title=\"Senior Management Rating\"\n          :value=\"managementNumber && managementNumber.toFixed(1)\"\n          :max=\"5\"\n        ></OverallCard>\n      </el-col>\n    </el-row>\n\n    <el-row :gutter=\"30\">\n      <el-col :span=\"12\">\n        <h2 class=\"zoom-title\">Search Volume</h2>\n        <LineBarChartCard\n          title=\"Google Search Volume\"\n          type=\"thousand\"\n          :data=\"formatLineBarData(googleTrendChart)\"\n          :names=\"['Volume', 'Compared to last month']\"\n        ></LineBarChartCard>\n      </el-col>\n      <el-col :span=\"12\">\n        <h2 class=\"zoom-title\">Sustainability</h2>\n        <BarChartCard\n          title=\"Top Recycled Materials Used of New Arrivals\"\n          :data=\"formatStackBarData(topRecycleMaterialsUsed)\"\n        ></BarChartCard>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, toRefs, watchEffect } from \"vue\";\n\n\nimport OverallCard from \"@/components/OverallCard.vue\";\nimport LineBarChartCard from \"@/components/LineBarChartCard.vue\";\nimport BarChartCard from \"@/components/BarChartCard.vue\";\nimport {\n  LineBarChartResponse,\n  StackBarChartResponse\n} from \"@/typings/brandInsight\";\nimport {\n  getGoogleTrendChart,\n  getInstagramGrowthRate,\n  getOverallChart,\n  getTopRecycleMaterialsUsedChart\n} from \"@/apis/brand\";\nimport { formatLineBarData, formatStackBarData } from \"@/utils/brandInsight\";\n\nconst Component = defineComponent({\n  name: \"BrandPower\",\n  props: {\n    brand: {\n      type: String,\n      default: \"\"\n    }\n  },\n  components: {\n    OverallCard,\n    LineBarChartCard,\n    BarChartCard\n  },\n  setup(props) {\n    const { brand } = toRefs(props);\n    const outlookNumber = ref<number | undefined>(undefined);\n    const managementNumber = ref<number | undefined>(undefined);\n    const growthNumber = ref<number | undefined>(undefined);\n    const googleTrendChart = ref<LineBarChartResponse | null>(null);\n    const topRecycleMaterialsUsed = ref<StackBarChartResponse | null>(null);\n\n    watchEffect(async () => {\n      if (!brand.value) return;\n\n      const { data: outlook } = await getOverallChart(\n        \"Positive Business Outlook\",\n        brand.value\n      );\n      const { data: management } = await getOverallChart(\n        \"Senior Management\",\n        brand.value\n      );\n      const { data: growth } = await getInstagramGrowthRate(brand.value);\n      const { data: googleTrend } = await getGoogleTrendChart(brand.value);\n      const { data: topRecycle } = await getTopRecycleMaterialsUsedChart(\n        brand.value\n      );\n      outlookNumber.value = outlook.Value;\n      managementNumber.value = management.Value;\n      growthNumber.value = growth.growth_rate;\n      googleTrendChart.value = googleTrend;\n      topRecycleMaterialsUsed.value = topRecycle;\n    });\n\n    return {\n      outlookNumber,\n      managementNumber,\n      growthNumber,\n      googleTrendChart,\n      topRecycleMaterialsUsed,\n\n      formatLineBarData,\n      formatStackBarData\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#brand-power-component\n  overflow-x hidden\n  padding-top 15px\n\n  .zoom-title\n    padding 30px 0 20px\n    zoom-title()\n\n  .pt-0\n    padding-top 0\n\n  :deep() .el-row\n    el-row()\n</style>\n","<template>\n  <div id=\"line-chart-card-component\">\n    <div class=\"top-container\">\n      <h3 class=\"title\">{{ title }}</h3>\n      <div v-if=\"hasData\" class=\"expand-button\" @click=\"onExpandClick\">\n        <img src=\"@/assets/images/icons/png/expand.png\" alt=\"\" />\n      </div>\n    </div>\n    <div v-if=\"hasData\" class=\"chart-container\">\n      <div :id=\"'line-chart-main-' + title\" class=\"chart-main\"></div>\n    </div>\n    <div v-else class=\"chart-empty\">\n      <h3>No Data</h3>\n    </div>\n\n    <el-dialog :title=\"title\" v-model=\"dialogVisible\" width=\"80%\">\n      <div class=\"dialog-container\">\n        <div :id=\"'line-chart-dialog-' + title\" class=\"chart-dialog\"></div>\n        <p class=\"hint\">Scrolling to zoom.</p>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  ref,\n  toRefs,\n  watchEffect,\n  computed,\n  nextTick,\n  PropType\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport {\n  LineChart,\n  LineSeriesOption,\n  BarChart,\n  BarSeriesOption\n} from \"echarts/charts\";\nimport {\n  GridComponent,\n  GridComponentOption,\n  TooltipComponent,\n  TooltipComponentOption,\n  DataZoomComponent,\n  DataZoomComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { AddResizer } from \"@/typings/store\";\nimport { useStore } from \"vuex\";\n\ntype ECOption = echarts.ComposeOption<\n  | LineSeriesOption\n  | BarSeriesOption\n  | GridComponentOption\n  | TooltipComponentOption\n  | DataZoomComponentOption\n>;\n\necharts.use([\n  LineChart,\n  BarChart,\n  GridComponent,\n  TooltipComponent,\n  DataZoomComponent,\n  CanvasRenderer\n]);\n\nfunction takeTypeText(type: string) {\n  const adapter: Adapter<string> = {\n    thousand: \"K\",\n    percentage: \"%\",\n    default: \"\"\n  };\n  return adapter[type] || adapter.default;\n}\n\nconst Component = defineComponent({\n  name: \"LineBarChart\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Object as PropType<{\n        axis: string[];\n        lineData: number[];\n        barData: number[];\n      }>,\n      default: () => ({\n        axis: [],\n        lineData: [],\n        barData: []\n      })\n    },\n    names: {\n      type: Array as PropType<string[]>,\n      default: () => [\"A\", \"B\"]\n    },\n    type: {\n      type: String,\n      default: \"\"\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const { title, data, names, type } = toRefs(props);\n    const dialogVisible = ref(false);\n    const hasData = computed(() => {\n      return data.value.lineData.length || data.value.barData.length\n    })\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      option = {\n        tooltip: {\n          trigger: \"axis\"\n        },\n        xAxis: {\n          type: \"category\",\n          data: data.value.axis\n        },\n        yAxis: [\n          {\n            type: \"value\",\n            axisLabel: {\n              formatter(value: any) {\n                return value === 0 ? value : value + takeTypeText(type.value)\n              }\n            }\n          },\n          {\n            type: \"value\",\n            axisLabel: {\n              formatter(value: any) {\n                return value === 0 ? value : value + takeTypeText(type.value)\n              }\n            }\n          }\n        ],\n        series: [\n          {\n            type: \"line\",\n            name: names.value[0],\n            data:\n              type.value === \"thousand\"\n                ? data.value.lineData.map((it: number) => Math.round(it / 1000))\n                : data.value.lineData,\n            yAxisIndex: 0\n          },\n          {\n            type: \"bar\",\n            name: names.value[1],\n            data:\n              type.value === \"thousand\"\n                ? data.value.barData.map((it: number) => Math.round(it / 1000))\n                : data.value.barData,\n            yAxisIndex: 1\n          }\n        ]\n      };\n\n      if (type.value) {\n        (option!.tooltip as TooltipComponentOption).formatter = function(\n          params: any\n        ) {\n          return `\n            <div style=\"min-width: 240px;\">\n              ${params[0].name} <br />\n                ${params\n                  .map(\n                    (it: any) => `\n                  <div  style=\"display: flex; justify-content: space-between;\">\n                    <span>${it.marker} ${it.seriesName}</span> ${\n                      it.value\n                    }${takeTypeText(type.value)} <br />\n                  </div>\n                `\n                  )\n                  .join(\"\")}\n            </div>\n          `;\n        };\n      }\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"line-chart-main-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    });\n\n    const onExpandClick = async () => {\n      dialogVisible.value = true;\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"line-chart-dialog-\" + title.value)!\n      );\n      chart.setOption({\n        ...option,\n        dataZoom: [\n          {\n            type: \"inside\"\n          }\n        ]\n      });\n      store.commit(AddResizer, chart);\n    };\n\n    return {\n      dialogVisible,\n      hasData,\n\n      onExpandClick\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#line-chart-card-component\n  width 100%\n  background-color white\n\n  .top-container\n    display flex\n    justify-content space-between\n    align-items center\n    padding 20px 30px 0\n    .title\n      font-size $font-size-lg2x\n      font-weight 500\n    .expand-button\n      cursor pointer\n      img\n        width 20px\n        height 20px\n\n  .chart-container\n    width 100%\n  .dialog-container\n    width 100%\n    position relative\n  .chart-main\n    chart-main()\n  .chart-empty\n    chart-empty()\n  .chart-dialog\n    chart-dialog()\n\n  .hint\n    position absolute\n    right 30px\n    bottom 5px\n</style>\n","\nimport {\n  defineComponent,\n  ref,\n  toRefs,\n  watchEffect,\n  computed,\n  nextTick,\n  PropType\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport {\n  LineChart,\n  LineSeriesOption,\n  BarChart,\n  BarSeriesOption\n} from \"echarts/charts\";\nimport {\n  GridComponent,\n  GridComponentOption,\n  TooltipComponent,\n  TooltipComponentOption,\n  DataZoomComponent,\n  DataZoomComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { AddResizer } from \"@/typings/store\";\nimport { useStore } from \"vuex\";\n\ntype ECOption = echarts.ComposeOption<\n  | LineSeriesOption\n  | BarSeriesOption\n  | GridComponentOption\n  | TooltipComponentOption\n  | DataZoomComponentOption\n>;\n\necharts.use([\n  LineChart,\n  BarChart,\n  GridComponent,\n  TooltipComponent,\n  DataZoomComponent,\n  CanvasRenderer\n]);\n\nfunction takeTypeText(type: string) {\n  const adapter: Adapter<string> = {\n    thousand: \"K\",\n    percentage: \"%\",\n    default: \"\"\n  };\n  return adapter[type] || adapter.default;\n}\n\nconst Component = defineComponent({\n  name: \"LineBarChart\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Object as PropType<{\n        axis: string[];\n        lineData: number[];\n        barData: number[];\n      }>,\n      default: () => ({\n        axis: [],\n        lineData: [],\n        barData: []\n      })\n    },\n    names: {\n      type: Array as PropType<string[]>,\n      default: () => [\"A\", \"B\"]\n    },\n    type: {\n      type: String,\n      default: \"\"\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const { title, data, names, type } = toRefs(props);\n    const dialogVisible = ref(false);\n    const hasData = computed(() => {\n      return data.value.lineData.length || data.value.barData.length\n    })\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      option = {\n        tooltip: {\n          trigger: \"axis\"\n        },\n        xAxis: {\n          type: \"category\",\n          data: data.value.axis\n        },\n        yAxis: [\n          {\n            type: \"value\",\n            axisLabel: {\n              formatter(value: any) {\n                return value === 0 ? value : value + takeTypeText(type.value)\n              }\n            }\n          },\n          {\n            type: \"value\",\n            axisLabel: {\n              formatter(value: any) {\n                return value === 0 ? value : value + takeTypeText(type.value)\n              }\n            }\n          }\n        ],\n        series: [\n          {\n            type: \"line\",\n            name: names.value[0],\n            data:\n              type.value === \"thousand\"\n                ? data.value.lineData.map((it: number) => Math.round(it / 1000))\n                : data.value.lineData,\n            yAxisIndex: 0\n          },\n          {\n            type: \"bar\",\n            name: names.value[1],\n            data:\n              type.value === \"thousand\"\n                ? data.value.barData.map((it: number) => Math.round(it / 1000))\n                : data.value.barData,\n            yAxisIndex: 1\n          }\n        ]\n      };\n\n      if (type.value) {\n        (option!.tooltip as TooltipComponentOption).formatter = function(\n          params: any\n        ) {\n          return `\n            <div style=\"min-width: 240px;\">\n              ${params[0].name} <br />\n                ${params\n                  .map(\n                    (it: any) => `\n                  <div  style=\"display: flex; justify-content: space-between;\">\n                    <span>${it.marker} ${it.seriesName}</span> ${\n                      it.value\n                    }${takeTypeText(type.value)} <br />\n                  </div>\n                `\n                  )\n                  .join(\"\")}\n            </div>\n          `;\n        };\n      }\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"line-chart-main-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    });\n\n    const onExpandClick = async () => {\n      dialogVisible.value = true;\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"line-chart-dialog-\" + title.value)!\n      );\n      chart.setOption({\n        ...option,\n        dataZoom: [\n          {\n            type: \"inside\"\n          }\n        ]\n      });\n      store.commit(AddResizer, chart);\n    };\n\n    return {\n      dialogVisible,\n      hasData,\n\n      onExpandClick\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./LineBarChartCard.vue?vue&type=template&id=69dac912&scoped=true\"\nimport script from \"./LineBarChartCard.vue?vue&type=script&lang=ts\"\nexport * from \"./LineBarChartCard.vue?vue&type=script&lang=ts\"\n\nimport \"./LineBarChartCard.vue?vue&type=style&index=0&id=69dac912&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-69dac912\"\n\nexport default script","\nimport { defineComponent, ref, toRefs, watchEffect } from \"vue\";\n\n\nimport OverallCard from \"@/components/OverallCard.vue\";\nimport LineBarChartCard from \"@/components/LineBarChartCard.vue\";\nimport BarChartCard from \"@/components/BarChartCard.vue\";\nimport {\n  LineBarChartResponse,\n  StackBarChartResponse\n} from \"@/typings/brandInsight\";\nimport {\n  getGoogleTrendChart,\n  getInstagramGrowthRate,\n  getOverallChart,\n  getTopRecycleMaterialsUsedChart\n} from \"@/apis/brand\";\nimport { formatLineBarData, formatStackBarData } from \"@/utils/brandInsight\";\n\nconst Component = defineComponent({\n  name: \"BrandPower\",\n  props: {\n    brand: {\n      type: String,\n      default: \"\"\n    }\n  },\n  components: {\n    OverallCard,\n    LineBarChartCard,\n    BarChartCard\n  },\n  setup(props) {\n    const { brand } = toRefs(props);\n    const outlookNumber = ref<number | undefined>(undefined);\n    const managementNumber = ref<number | undefined>(undefined);\n    const growthNumber = ref<number | undefined>(undefined);\n    const googleTrendChart = ref<LineBarChartResponse | null>(null);\n    const topRecycleMaterialsUsed = ref<StackBarChartResponse | null>(null);\n\n    watchEffect(async () => {\n      if (!brand.value) return;\n\n      const { data: outlook } = await getOverallChart(\n        \"Positive Business Outlook\",\n        brand.value\n      );\n      const { data: management } = await getOverallChart(\n        \"Senior Management\",\n        brand.value\n      );\n      const { data: growth } = await getInstagramGrowthRate(brand.value);\n      const { data: googleTrend } = await getGoogleTrendChart(brand.value);\n      const { data: topRecycle } = await getTopRecycleMaterialsUsedChart(\n        brand.value\n      );\n      outlookNumber.value = outlook.Value;\n      managementNumber.value = management.Value;\n      growthNumber.value = growth.growth_rate;\n      googleTrendChart.value = googleTrend;\n      topRecycleMaterialsUsed.value = topRecycle;\n    });\n\n    return {\n      outlookNumber,\n      managementNumber,\n      growthNumber,\n      googleTrendChart,\n      topRecycleMaterialsUsed,\n\n      formatLineBarData,\n      formatStackBarData\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./BrandPower.vue?vue&type=template&id=5812e846&scoped=true\"\nimport script from \"./BrandPower.vue?vue&type=script&lang=ts\"\nexport * from \"./BrandPower.vue?vue&type=script&lang=ts\"\n\nimport \"./BrandPower.vue?vue&type=style&index=0&id=5812e846&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-5812e846\"\n\nexport default script","<template>\n  <div id=\"brand-insights-component\">\n    <div class=\"search-bar-container\">\n      <el-select v-model=\"searchValue\" filterable placeholder=\"Search\">\n        <el-option\n          v-for=\"item in searchOptions\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n    </div>\n    <div class=\"tabs-container\">\n      <el-tabs class=\"tabs\" v-model=\"tabValue\" @tab-click=\"onTabClick\">\n        <el-tab-pane label=\"Brand Summary\" name=\"BrandSummary\"></el-tab-pane>\n        <el-tab-pane label=\"Brand Power\" name=\"BrandPower\"></el-tab-pane>\n        <el-tab-pane label=\"Product Power\" name=\"ProductPower\"></el-tab-pane>\n        <el-tab-pane\n          label=\"Financial Power\"\n          name=\"FinancialPower\"\n        ></el-tab-pane>\n      </el-tabs>\n    </div>\n\n    <el-main class=\"child-router-container\">\n      <router-view :brand=\"searchValue\"></router-view>\n    </el-main>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onMounted, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\n\nimport { Pane } from \"element-plus/lib/el-tabs/src/tabs.vue\";\nimport { getBrandOptions } from \"@/apis/brand\";\nimport { OptionItem } from \"@/typings/asideFilter\";\n\nconst Component = defineComponent({\n  name: \"BrandInsights\",\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n\n    const searchValue = ref(\"adidas\");\n    const tabValue = ref(\"\");\n    const searchOptions = ref<OptionItem[]>([]);\n\n    const onTabClick = (value: Pane) => {\n      router.push({ name: value.props.name });\n    };\n\n    const init = async () => {\n      const { data } = await getBrandOptions();\n      searchOptions.value = data.brands.map((brand: string): OptionItem => ({label: brand, value: brand, checked: false}));\n    };\n\n    onMounted(() => {\n      if (route.name) {\n        tabValue.value = route.name as string;\n      }\n      init();\n    });\n\n    return {\n      searchValue,\n      tabValue,\n      searchOptions,\n\n      onTabClick\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#brand-insights-component\n  page-container()\n\n  .search-bar-container\n    flex(flex-start)\n\n  .child-router-container\n    height calc(100vh - 170px)\n    padding-right 0\n    padding-left 0\n    overflow-y scroll\n\n  #dialog-chart-main\n    width 100%\n    height 500px\n\n  :deep() .el-tabs__item\n    height 50px\n    width 200px\n    padding 0\n    text-align center\n    line-height 60px\n    font-size 16px\n    font-weight 600\n    &:hover\n      color $color-active\n    &.is-active\n      color $color-active\n\n  :deep() .el-tabs__header\n    margin 0\n\n  :deep() .el-tabs__active-bar\n    background-color $color-active\n    width 200px !important\n</style>\n","\nimport { defineComponent, onMounted, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\n\nimport { Pane } from \"element-plus/lib/el-tabs/src/tabs.vue\";\nimport { getBrandOptions } from \"@/apis/brand\";\nimport { OptionItem } from \"@/typings/asideFilter\";\n\nconst Component = defineComponent({\n  name: \"BrandInsights\",\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n\n    const searchValue = ref(\"adidas\");\n    const tabValue = ref(\"\");\n    const searchOptions = ref<OptionItem[]>([]);\n\n    const onTabClick = (value: Pane) => {\n      router.push({ name: value.props.name });\n    };\n\n    const init = async () => {\n      const { data } = await getBrandOptions();\n      searchOptions.value = data.brands.map((brand: string): OptionItem => ({label: brand, value: brand, checked: false}));\n    };\n\n    onMounted(() => {\n      if (route.name) {\n        tabValue.value = route.name as string;\n      }\n      init();\n    });\n\n    return {\n      searchValue,\n      tabValue,\n      searchOptions,\n\n      onTabClick\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./index.vue?vue&type=template&id=b107e6aa&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b107e6aa&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-b107e6aa\"\n\nexport default script","<template>\n  <div id=\"line-chart-card-component\">\n    <div class=\"top-container\">\n      <h3 class=\"title\">{{ title }}</h3>\n      <div v-if=\"hasData\" class=\"expand-button\" @click=\"onExpandClick\">\n        <img src=\"@/assets/images/icons/png/expand.png\" alt=\"\" />\n      </div>\n    </div>\n    <div v-if=\"hasData\" class=\"chart-container\">\n      <div :id=\"'line-chart-main-' + title\" class=\"chart-main\"></div>\n    </div>\n    <div v-else class=\"chart-empty\">\n      <h3>No Data</h3>\n    </div>\n\n    <el-dialog :title=\"title\" v-model=\"dialogVisible\" width=\"80%\">\n      <div class=\"dialog-container\">\n        <div :id=\"'line-chart-dialog-' + title\" class=\"chart-dialog\"></div>\n        <p class=\"hint\">Scrolling to zoom.</p>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  ref,\n  toRefs,\n  watchEffect,\n  nextTick,\n  computed,\n  PropType\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport { LineChart, LineSeriesOption } from \"echarts/charts\";\nimport {\n  GridComponent,\n  GridComponentOption,\n  TooltipComponent,\n  TooltipComponentOption,\n  DataZoomComponent,\n  DataZoomComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { AddResizer } from \"@/typings/store\";\nimport { useStore } from \"vuex\";\n\ntype ECOption = echarts.ComposeOption<\n  | LineSeriesOption\n  | GridComponentOption\n  | TooltipComponentOption\n  | DataZoomComponentOption\n>;\n\necharts.use([\n  LineChart,\n  GridComponent,\n  TooltipComponent,\n  DataZoomComponent,\n  CanvasRenderer\n]);\n\nconst Component = defineComponent({\n  name: \"LineChart\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Object as PropType<{\n        axis: string[];\n        lineData: number[];\n      }>,\n      default: () => ({\n        axis: [],\n        lineData: []\n      })\n    },\n    names: {\n      type: Array as PropType<string[]>,\n      default: () => []\n    },\n    percentage: {\n      type: Boolean,\n      default: false\n    },\n    times: {\n      type: Number,\n      default: 1\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const { title, data, names, percentage, times } = toRefs(props);\n    const dialogVisible = ref(false);\n    const hasData = computed(() => {\n      return data.value.lineData.length;\n    });\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      if (!hasData.value) return;\n\n      option = {\n        tooltip: {\n          trigger: \"axis\"\n        },\n        xAxis: {\n          type: \"category\",\n          data: data.value.axis\n        },\n        yAxis: {\n          type: \"value\",\n          axisLabel: {\n            formatter: percentage.value ? \"{value}%\" : \"{value}\"\n          }\n        },\n        series: [\n          {\n            type: \"line\",\n            name: names.value[0] || \"Trend\",\n            data: percentage.value\n              ? data.value.lineData.map((it: number) =>\n                  Math.round(it * times.value)\n                )\n              : data.value.lineData.map((it: number) => Math.round(it))\n          }\n        ]\n      };\n\n      if (percentage.value) {\n        (option!.tooltip as TooltipComponentOption).formatter = function(\n          params: any\n        ) {\n          return `\n            <div style=\"min-width: 240px;\">\n              ${params[0].name} <br />\n                ${params\n                  .map(\n                    (it: any) => `\n                  <div  style=\"display: flex; justify-content: space-between;\">\n                    <span>${it.marker} ${it.seriesName}</span> ${it.value}% <br />\n                  </div>\n                `\n                  )\n                  .join(\"\")}\n            </div>\n          `;\n        };\n      }\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"line-chart-main-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    });\n\n    const onExpandClick = async () => {\n      dialogVisible.value = true;\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"line-chart-dialog-\" + title.value)!\n      );\n      chart.setOption({\n        ...option,\n        dataZoom: [\n          {\n            type: \"inside\"\n          }\n        ]\n      });\n      store.commit(AddResizer, chart);\n    };\n\n    return {\n      dialogVisible,\n      hasData,\n\n      onExpandClick\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#line-chart-card-component\n  width 100%\n  background-color white\n\n  .top-container\n    display flex\n    justify-content space-between\n    align-items center\n    padding 20px 30px 0\n    .title\n      font-size $font-size-lg2x\n      font-weight 500\n    .expand-button\n      cursor pointer\n      img\n        width 20px\n        height 20px\n\n  .chart-container\n    width 100%\n  .dialog-container\n    width 100%\n    position relative\n  .chart-main\n    chart-main()\n  .chart-empty\n    chart-empty()\n  .chart-dialog\n    chart-dialog()\n\n  .hint\n    position absolute\n    right 30px\n    bottom 5px\n</style>\n","\nimport {\n  defineComponent,\n  ref,\n  toRefs,\n  watchEffect,\n  nextTick,\n  computed,\n  PropType\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport { LineChart, LineSeriesOption } from \"echarts/charts\";\nimport {\n  GridComponent,\n  GridComponentOption,\n  TooltipComponent,\n  TooltipComponentOption,\n  DataZoomComponent,\n  DataZoomComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { AddResizer } from \"@/typings/store\";\nimport { useStore } from \"vuex\";\n\ntype ECOption = echarts.ComposeOption<\n  | LineSeriesOption\n  | GridComponentOption\n  | TooltipComponentOption\n  | DataZoomComponentOption\n>;\n\necharts.use([\n  LineChart,\n  GridComponent,\n  TooltipComponent,\n  DataZoomComponent,\n  CanvasRenderer\n]);\n\nconst Component = defineComponent({\n  name: \"LineChart\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Object as PropType<{\n        axis: string[];\n        lineData: number[];\n      }>,\n      default: () => ({\n        axis: [],\n        lineData: []\n      })\n    },\n    names: {\n      type: Array as PropType<string[]>,\n      default: () => []\n    },\n    percentage: {\n      type: Boolean,\n      default: false\n    },\n    times: {\n      type: Number,\n      default: 1\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const { title, data, names, percentage, times } = toRefs(props);\n    const dialogVisible = ref(false);\n    const hasData = computed(() => {\n      return data.value.lineData.length;\n    });\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      if (!hasData.value) return;\n\n      option = {\n        tooltip: {\n          trigger: \"axis\"\n        },\n        xAxis: {\n          type: \"category\",\n          data: data.value.axis\n        },\n        yAxis: {\n          type: \"value\",\n          axisLabel: {\n            formatter: percentage.value ? \"{value}%\" : \"{value}\"\n          }\n        },\n        series: [\n          {\n            type: \"line\",\n            name: names.value[0] || \"Trend\",\n            data: percentage.value\n              ? data.value.lineData.map((it: number) =>\n                  Math.round(it * times.value)\n                )\n              : data.value.lineData.map((it: number) => Math.round(it))\n          }\n        ]\n      };\n\n      if (percentage.value) {\n        (option!.tooltip as TooltipComponentOption).formatter = function(\n          params: any\n        ) {\n          return `\n            <div style=\"min-width: 240px;\">\n              ${params[0].name} <br />\n                ${params\n                  .map(\n                    (it: any) => `\n                  <div  style=\"display: flex; justify-content: space-between;\">\n                    <span>${it.marker} ${it.seriesName}</span> ${it.value}% <br />\n                  </div>\n                `\n                  )\n                  .join(\"\")}\n            </div>\n          `;\n        };\n      }\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"line-chart-main-\" + title.value)!\n      );\n      chart.setOption(option);\n      store.commit(AddResizer, chart);\n    });\n\n    const onExpandClick = async () => {\n      dialogVisible.value = true;\n\n      await nextTick();\n      const chart = echarts.init(\n        document.getElementById(\"line-chart-dialog-\" + title.value)!\n      );\n      chart.setOption({\n        ...option,\n        dataZoom: [\n          {\n            type: \"inside\"\n          }\n        ]\n      });\n      store.commit(AddResizer, chart);\n    };\n\n    return {\n      dialogVisible,\n      hasData,\n\n      onExpandClick\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./LineChartCard.vue?vue&type=template&id=1e6dc9e9&scoped=true\"\nimport script from \"./LineChartCard.vue?vue&type=script&lang=ts\"\nexport * from \"./LineChartCard.vue?vue&type=script&lang=ts\"\n\nimport \"./LineChartCard.vue?vue&type=style&index=0&id=1e6dc9e9&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-1e6dc9e9\"\n\nexport default script","<template>\n  <div id=\"overall-card-component\">\n    <div v-if=\"hasData\" class=\"left-container\">\n      <div\n        v-if=\"type === 'pie'\"\n        :id=\"'overall-pie-chart-' + title\"\n        class=\"pie-chart\"\n      ></div>\n      <div v-if=\"type === 'growth'\" class=\"growth-chart\">\n        <font-awesome-icon\n          class=\"icon\"\n          :class=\"{ up: value >= 0, down: value < 0 }\"\n          :icon=\"['fas', value >= 0 ? 'level-up-alt' : 'level-down-alt']\"\n        ></font-awesome-icon>\n      </div>\n    </div>\n    <div v-else>\n      <h3>Empty</h3>\n    </div>\n\n    <div class=\"right-container\">\n      <h3 class=\"title\">{{ title }}</h3>\n      <div v-if=\"hasData\" class=\"text-wrapper\">\n        <p v-if=\"type === 'pie'\">{{ max === 100 ? value + \"%\" : value }}</p>\n        <p v-if=\"type === 'growth'\">\n          {{ value >= 0 ? \"+\" : \"-\" }} {{ _.splitAt(5, `${value * 100}`)[0] }}%\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  toRefs,\n  PropType,\n  watchEffect,\n  computed,\n  nextTick\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport * as _ from \"ramda\";\nimport { PieChart, PieSeriesOption } from \"echarts/charts\";\nimport {\n  GridComponent,\n  GridComponentOption,\n  LegendComponentOption,\n  TooltipComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\n\ntype ECOption = echarts.ComposeOption<\n  | PieSeriesOption\n  | GridComponentOption\n  | LegendComponentOption\n  | TooltipComponentOption\n>;\n\necharts.use([PieChart, GridComponent, CanvasRenderer]);\n\nconst Component = defineComponent({\n  name: \"OverallCard\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      default: \"pie\"\n    },\n    value: {\n      type: Number,\n      default: 0\n    },\n    max: {\n      type: Number,\n      default: 100\n    },\n    messages: {\n      type: Array as PropType<string[]>,\n      default: () => []\n    }\n  },\n  setup(props) {\n    const { value, title, type, max } = toRefs(props);\n    const hasData = computed(() => {\n      return value.value;\n    });\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      if (!hasData.value) return;\n\n      option = {\n        tooltip: {\n          trigger: \"item\",\n          formatter(param: any) {\n            if (param.dataIndex !== 0) return \"\";\n            return `\n              <div style=\"display: flex; justify-content: space-between;\">\n                <span style=\"margin-right: 15px;\">${\n                  param.marker\n                } Ratio</span> ${\n              max.value === 100 ? param.value + \"%\" : param.value\n            } <br />\n              </div>\n            `;\n          }\n        },\n        series: [\n          {\n            type: \"pie\",\n            radius: [\"70%\", \"90%\"],\n            data: [value.value, max.value - value.value],\n            itemStyle: {\n              // @ts-ignore\n              color(params: any) {\n                if (params.dataIndex === 1) {\n                  return \"#eeeeee\";\n                }\n                return params.color;\n              }\n            },\n            label: {\n              show: false,\n              position: \"center\"\n            }\n          }\n        ]\n      };\n\n      await nextTick();\n      if (type.value === \"pie\" && option) {\n        const chart = echarts.init(\n          document.getElementById(\"overall-pie-chart-\" + title.value)!\n        );\n        chart.setOption(option);\n      }\n    });\n\n    return {\n      hasData,\n\n      _\n    };\n  }\n});\n\nexport default Component;\n</script>\n\n<style scoped lang=\"stylus\">\n#overall-card-component\n  display flex\n  justify-content space-between\n  align-items center\n  background-color white\n  width 100%\n  box-sizing border-box\n  height 150px\n  border-radius 8px\n  padding 8px\n  .left-container\n    display flex\n    justify-content center\n    align-items center\n    height 100%\n    width 30%\n    .pie-chart\n      width 100%\n      height 100px\n    .growth-chart\n      .icon\n        width 30px\n        height auto\n      .up\n        color red\n      .down\n        color green\n\n  .right-container\n    display flex\n    flex-direction column\n    justify-content center\n    padding-top 15px\n    height 100%\n    width 80%\n\n    .title\n      font-weight 400\n      font-size $font-size-large\n      text-align center\n      white-space nowrap\n      margin-bottom 15px\n      padding-left 10px\n    .text-wrapper\n      font-size $font-size-title\n      font-weight 400\n      padding-left 10px\n      text-align center\n      p\n        line-height 1.5\n</style>\n","\nimport {\n  defineComponent,\n  toRefs,\n  PropType,\n  watchEffect,\n  computed,\n  nextTick\n} from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport * as _ from \"ramda\";\nimport { PieChart, PieSeriesOption } from \"echarts/charts\";\nimport {\n  GridComponent,\n  GridComponentOption,\n  LegendComponentOption,\n  TooltipComponentOption\n} from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\n\ntype ECOption = echarts.ComposeOption<\n  | PieSeriesOption\n  | GridComponentOption\n  | LegendComponentOption\n  | TooltipComponentOption\n>;\n\necharts.use([PieChart, GridComponent, CanvasRenderer]);\n\nconst Component = defineComponent({\n  name: \"OverallCard\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      default: \"pie\"\n    },\n    value: {\n      type: Number,\n      default: 0\n    },\n    max: {\n      type: Number,\n      default: 100\n    },\n    messages: {\n      type: Array as PropType<string[]>,\n      default: () => []\n    }\n  },\n  setup(props) {\n    const { value, title, type, max } = toRefs(props);\n    const hasData = computed(() => {\n      return value.value;\n    });\n\n    let option: ECOption | null = null;\n\n    watchEffect(async () => {\n      if (!hasData.value) return;\n\n      option = {\n        tooltip: {\n          trigger: \"item\",\n          formatter(param: any) {\n            if (param.dataIndex !== 0) return \"\";\n            return `\n              <div style=\"display: flex; justify-content: space-between;\">\n                <span style=\"margin-right: 15px;\">${\n                  param.marker\n                } Ratio</span> ${\n              max.value === 100 ? param.value + \"%\" : param.value\n            } <br />\n              </div>\n            `;\n          }\n        },\n        series: [\n          {\n            type: \"pie\",\n            radius: [\"70%\", \"90%\"],\n            data: [value.value, max.value - value.value],\n            itemStyle: {\n              // @ts-ignore\n              color(params: any) {\n                if (params.dataIndex === 1) {\n                  return \"#eeeeee\";\n                }\n                return params.color;\n              }\n            },\n            label: {\n              show: false,\n              position: \"center\"\n            }\n          }\n        ]\n      };\n\n      await nextTick();\n      if (type.value === \"pie\" && option) {\n        const chart = echarts.init(\n          document.getElementById(\"overall-pie-chart-\" + title.value)!\n        );\n        chart.setOption(option);\n      }\n    });\n\n    return {\n      hasData,\n\n      _\n    };\n  }\n});\n\nexport default Component;\n","import { render } from \"./OverallCard.vue?vue&type=template&id=e29d2ed6&scoped=true\"\nimport script from \"./OverallCard.vue?vue&type=script&lang=ts\"\nexport * from \"./OverallCard.vue?vue&type=script&lang=ts\"\n\nimport \"./OverallCard.vue?vue&type=style&index=0&id=e29d2ed6&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-e29d2ed6\"\n\nexport default script"],"sourceRoot":""}