(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CollectionAnalysis"],{"21f4":function(e,t,a){"use strict";a("56fd")},3382:function(e,t,a){},"46bb":function(e,t,a){"use strict";a.r(t);var c=a("7a23"),n=Object(c["withScopeId"])("data-v-2db9d245");Object(c["pushScopeId"])("data-v-2db9d245");var o={id:"collection-analysis-component"},r={class:"table-wrapper"},l=Object(c["createVNode"])("h2",{class:"zoom-title"},"Recent View",-1),i={class:"row"},s={class:"view-note"},d={class:"table-wrapper"},u=Object(c["createVNode"])("h2",{class:"zoom-title"},"Company List",-1),p={class:"table-wrapper"},b=Object(c["createVNode"])("h2",{class:"zoom-title"},"Collection Rankings",-1);Object(c["popScopeId"])();var j=n((function(e,t,a,n,j,O){var f=Object(c["resolveComponent"])("FabricCard"),m=Object(c["resolveComponent"])("TableTwoColumnCard"),v=Object(c["resolveComponent"])("TableCard");return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])("div",r,[l,Object(c["createVNode"])("div",i,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.data.recentView,(function(t,a){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"col",key:a},[Object(c["createVNode"])(f,{data:t,onCardClick:e.onCardClick},null,8,["data","onCardClick"]),Object(c["createVNode"])("p",s," last viewed "+Object(c["toDisplayString"])(e.getLastViewTimeString(t.datetime))+" ago ",1)])})),128))])]),Object(c["createVNode"])("div",d,[u,Object(c["createVNode"])(m,{columns:e.columns,data:e.data.companyRank},null,8,["columns","data"])]),Object(c["createVNode"])("div",p,[b,Object(c["createVNode"])(v,{columns:e.collectionRankingsColumns,data:e.data.objectRank},null,8,["columns","data"])])])})),O=a("1da1"),f=(a("96cf"),a("a9e3"),a("6c02")),m=a("5502"),v=a("a34b"),k=a("56cc"),w=a("0cbe"),C=a("d257"),h=a("52b1"),y=[{prop:"rank",label:"Rankings"},{prop:"company",label:"Company"},{prop:"count",label:"Click"}],g=[{prop:"name",label:"Name"},{prop:"fabric",label:"Fabric",width:"120px"},{prop:"real_composition",label:"Real composition"},{prop:"count",label:"Click",width:"100px",sort:!0},{prop:"ctr",label:"CTR",width:"100px",sort:!0}],V=Object(c["defineComponent"])({name:"CollectionAnalysis",components:{FabricCard:v["a"],TableCard:w["a"],TableTwoColumnCard:k["a"]},props:{id:{type:Number,default:0}},setup:function(e){var t=Object(f["d"])(),a=Object(m["b"])(),n=Object(c["toRefs"])(e),o=n.id,r=Object(c["computed"])((function(){return a.state.collection.analysis.collection})),l=function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(C["f"])(),e.prev=1,e.next=4,a.dispatch(h["p"],o.value);case 4:return e.next=6,a.dispatch(h["n"],o.value);case 6:return e.next=8,a.dispatch(h["o"],o.value);case 8:return e.prev=8,t.close(),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,,8,11]])})));return function(){return e.apply(this,arguments)}}();Object(c["onMounted"])(Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var i=function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.push({name:"FabricDetail",params:{id:a}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{data:r,columns:y,collectionRankingsColumns:g,onCardClick:i,getLastViewTimeString:C["e"]}}}),N=V;a("21f4");N.render=j,N.__scopeId="data-v-2db9d245";t["default"]=N},"56cc":function(e,t,a){"use strict";var c=a("7a23"),n=Object(c["withScopeId"])("data-v-1ca45a14");Object(c["pushScopeId"])("data-v-1ca45a14");var o={id:"table-card-component"},r={class:"top-container"},l={class:"title"},i={class:"table-container"},s={class:"table-container"};Object(c["popScopeId"])();var d=n((function(e,t,a,d,u,p){var b=Object(c["resolveComponent"])("el-table-column"),j=Object(c["resolveComponent"])("el-table"),O=Object(c["resolveComponent"])("el-col"),f=Object(c["resolveComponent"])("el-row");return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])("div",r,[Object(c["createVNode"])("h3",l,Object(c["toDisplayString"])(e.title),1)]),Object(c["createVNode"])(f,null,{default:n((function(){return[Object(c["createVNode"])(O,{span:12},{default:n((function(){return[Object(c["createVNode"])("div",i,[Object(c["createVNode"])(j,{data:e.firstData,style:{width:"calc(100% - 60px)"},"row-class-name":"table-row","cell-class-name":"table-cell"},{default:n((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.columns,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:e.prop,label:e.label,width:e.width||"auto"},{default:n((function(t){return[Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(t.row[e.prop]),1)]})),_:2},1032,["label","width"])})),128))]})),_:1},8,["data","style"])])]})),_:1}),Object(c["createVNode"])(O,{span:12},{default:n((function(){return[Object(c["createVNode"])("div",s,[Object(c["createVNode"])(j,{data:e.lastData,style:{width:"calc(100% - 60px)"},"row-class-name":"table-row","cell-class-name":"table-cell"},{default:n((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.columns,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:e.prop,label:e.label,width:e.width||"auto"},{default:n((function(t){return[Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(t.row[e.prop]),1)]})),_:2},1032,["label","width"])})),128))]})),_:1},8,["data","style"])])]})),_:1})]})),_:1})])})),u=a("d852"),p=Object(c["defineComponent"])({name:"TableCard",props:{title:{type:String,default:""},columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}}},setup:function(e){var t=Object(c["toRefs"])(e),a=t.data,n=Object(c["computed"])((function(){return Object(u["a"])(5,a.value)[0]})),o=Object(c["computed"])((function(){return Object(u["a"])(5,a.value)[1]}));return{firstData:n,lastData:o}}}),b=p;a("8e29");b.render=d,b.__scopeId="data-v-1ca45a14";t["a"]=b},"56fd":function(e,t,a){},"69ff":function(e,t,a){"use strict";a("3382")},"8e29":function(e,t,a){"use strict";a("fa36")},a34b:function(e,t,a){"use strict";a("a15b"),a("b0c0");var c=a("7a23"),n=Object(c["withScopeId"])("data-v-e196e748");Object(c["pushScopeId"])("data-v-e196e748");var o={id:"fabric-card-component"},r={key:0,class:"collection-tag"},l={class:"cover-status"},i={class:"status-tag"},s={class:"content-container"},d={class:"title"},u={key:0,class:"buttons-group"},p=Object(c["createVNode"])("p",{class:"icon-name"},"Favorite",-1),b=Object(c["createVNode"])("p",{class:"icon-name"},"Add",-1),j={class:"hover-information-wrapper"},O={key:0,class:"description"},f={key:1,class:"description"},m={key:2,class:"description"};Object(c["popScopeId"])();var v=n((function(e,t,a,n,v,k){var w=Object(c["resolveComponent"])("font-awesome-icon"),C=Object(c["resolveDirective"])("permission");return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])("div",{class:"cover-image",style:{backgroundImage:"url('".concat(e.formatImageUrl(e.data.image_url+"@250-250"),"')")},onClick:t[1]||(t[1]=function(){return e.onImageClick&&e.onImageClick.apply(e,arguments)})},[e.status?(Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],{key:0},[e.data.spec_label.length?(Object(c["openBlock"])(),Object(c["createBlock"])("div",r,Object(c["toDisplayString"])(e.data.spec_label.join(", ")),1)):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",l,[Object(c["createVNode"])("div",i,Object(c["toDisplayString"])(e.status),1)])],64)):Object(c["createCommentVNode"])("",!0)],4),Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",{class:"content-wrapper",style:{width:e.hasButtons?"70%":"auto"}},[Object(c["createVNode"])("h3",d,Object(c["toDisplayString"])(e.data.name),1)],4),e.hasButtons?(Object(c["openBlock"])(),Object(c["createBlock"])("div",u,[Object(c["createVNode"])("div",{class:"button-wrapper",onClick:t[2]||(t[2]=function(){return e.onFavoriteClick&&e.onFavoriteClick.apply(e,arguments)})},[e.data.favorite?(Object(c["openBlock"])(),Object(c["createBlock"])(w,{key:0,class:"icon heart",icon:["fas","heart"]})):(Object(c["openBlock"])(),Object(c["createBlock"])(w,{key:1,class:"icon heart",icon:["far","heart"]})),p]),Object(c["withDirectives"])(Object(c["createVNode"])("div",{class:"button-wrapper",onClick:t[3]||(t[3]=function(){return e.onPlusClick&&e.onPlusClick.apply(e,arguments)})},[Object(c["createVNode"])(w,{class:"icon plus",icon:["fas","plus-circle"]}),b],512),[[C,"fabric_add"]])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",j,[e.data.art_no?(Object(c["openBlock"])(),Object(c["createBlock"])("p",O,Object(c["toDisplayString"])(e.data.art_no),1)):Object(c["createCommentVNode"])("",!0),e.data.sap_art_no?(Object(c["openBlock"])(),Object(c["createBlock"])("p",f,Object(c["toDisplayString"])(e.data.sap_art_no),1)):Object(c["createCommentVNode"])("",!0),e.data.real_composition?(Object(c["openBlock"])(),Object(c["createBlock"])("p",m,Object(c["toDisplayString"])(e.data.real_composition),1)):Object(c["createCommentVNode"])("",!0)])])])})),k=a("1da1"),w=(a("96cf"),a("99af"),a("bf37")),C=Object(c["defineComponent"])({name:"FabricCard",props:{data:{type:Object,default:function(){return{}}},status:{type:String,default:""},cardMode:{type:Boolean,default:!1},hasButtons:{type:Boolean,default:!1}},setup:function(e,t){var a=t.emit,n=Object(c["toRefs"])(e),o=n.data,r=n.cardMode,l=n.hasButtons,i=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r.value){e.next=2;break}return e.abrupt("return");case 2:t="".concat("https://weaverbird.dev.bilabasia.com","/web/fabric/").concat(o.value.id),window.open(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(l.value){e.next=2;break}return e.abrupt("return");case 2:a("add-to-favorite",o.value.id);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){if(l.value){var e={id:o.value.id,price:0};a("add",e)}};return{onImageClick:i,onFavoriteClick:s,onPlusClick:d,formatImageUrl:w["a"]}}}),h=C;a("69ff");h.render=v,h.__scopeId="data-v-e196e748";t["a"]=h},fa36:function(e,t,a){}}]);
//# sourceMappingURL=CollectionAnalysis.f8c2de78.js.map